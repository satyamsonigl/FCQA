!function(){function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[o]={exports:{}};t[o][0].call(p.exports,function(e){return i(t[o][1][e]||e)},p,p.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}return e}()({1:[function(e,t,n){"use strict";e("./partials.compiled"),e("./module"),e("./includes");var r=(0,eval)("this");r.registerUiModule&&r.registerUiModule("ec-forms")},{"./includes":79,"./module":80,"./partials.compiled":81}],2:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={label:"@"},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$q","$window","$stateParams","filenameHlp","ssAsync","ssFormTemplatesApi","ssToastHlp","FileUploader","ssAuthSvc","ssModalSvc",function(e,t,n,i,a,o,s,l,c,p,u){function d(t){e.statusElem.text(""),w.processing=!0,w.processingStatus="deleting attachment...",o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:return n.next=5,S.$refresh();case 5:return n.next=7,g();case 7:e.statusElem.text("the file has been successfully deleted"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),w.processing=!1,w.processingStatus="";case 14:return n.prev=14,b.clearQueue(),n.finish(14);case 17:case"end":return n.stop()}},n,this,[[0,10,14,17]])}))()}function m(e){return e.filter(function(e){return!S._printPreviewDefinition||e._fileId!==S._printPreviewDefinition.templateFileId})}function f(){b=e.uploader=new c(_)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.initLoad,c=void 0!==n&&n;return o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c&&(w.processing=!0,w.processingStatus="loading attachments..."),e.next=3,s.get({id:i.formId,fields:"printPreviewDefinition",include:"files"});case 3:return S=e.sent,n=S._files.map(function(e){return s.getFile({id:e._fileId})}),e.abrupt("return",t.all(n).then(function(e){S._files.forEach(function(t){var n=e.find(function(e){return e.id===t._fileId});t.filename=n._filename;var r=a.getExtension(t.filename);t.icon=a.getIcon(r)}),w.files=[].concat(r(S._files)),w.files=m(w.files)}).catch(function(e){l.error(h,y)}).finally(function(){w.processing=!1,w.processingStatus=""}));case 6:case"end":return e.stop()}},e,this)}))()}var b,v,y="File Upload Failed",h="There was an error getting the attachments for this form template",_={withCredentials:!1,headers:{Authorization:"Bearer "+p.token.access},filters:[{name:"validExt",fn:function(e){return!(!a.getExtension(e.name)||!a.getValidExtensions().includes(a.getExtension(e.name)))||(l.error("The file you have selected does not have a valid extension. Please add one or choose another file",y),!1)}},{name:"fileSize",fn:function(e){return!(null!=e.size&&e.size>=0&&e.size>=52428800)||(l.error("The file upload size cannot exceed 50MB. Please upload a smaller file.",y),!1)}},{name:"fileDupe",fn:function(e){return!w.files.find(function(t){return t.filename===e.name})||(l.error("You have already uploaded a file by that name.",y),!1)}}]},w=e.vm={files:[],processing:null,processingStatus:null},S=void 0;f(),b.onAfterAddingFile=function(t){e.statusElem.text(""),t.removeAfterUpload=!0,w.processing=!0,w.processingStatus="adding attachment...",s.attachFile({},{filename:t.file.name,fileType:2},null,!1).then(function(e){v=e,v.filename=e._filename,t.updatedUrl=s.getUploadFileUrl({id:v.id}),t.upload()}).catch(function(e){422===e.status&&l.error(e.data.errors.Title,y),w.processing=!1,w.processingStatus="",b.clearQueue()})},b.onBeforeUploadItem=function(e){e.url=e.updatedUrl},b.onErrorItem=function(e,t,n,r){w.processing=!1,w.processingStatus="",l.error("The selected file did not upload correctly. Please try again.",y),e.remove()},b.onCancelItem=function(e,t,n,r){w.processing=!1,w.processingStatus="",l.info("attachment upload cancelled."),e.remove()},b.onSuccessItem=function(t,n,r,a){o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.associateFile({id:i.formId},{fileId:v.id});case 3:return t.next=5,S.$refresh();case 5:return t.next=7,g();case 7:e.statusElem.text("the file has been uploaded successfully"),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),w.processing=!1,w.processingStatus="",l.error("There was an error associating file with form template",y);case 15:return t.prev=15,b.clearQueue(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[0,10,15,18]])}))()},b.onCompleteAll=function(e){b.clearQueue(),b.destroy(),f()};e.go={download:function(e){s.getFileUrl({id:e}).then(function(e){n.open(e._string,"_blank")}).catch(function(e){l.error("The selected file did not download correctly. Please try again.","File Download Failed")})},delete:function(e){d(e)}};g({initLoad:!0})}]},{key:"link",value:function(e,t,n){e.statusElem=angular.element(t[0].querySelector(".attachment-status-alert"))}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpAttachments",function(){return new p(c,"attachments")})},{"base-component":64}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={startingPoint:"=",boxCreated:"&"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={},e.go={}}]},{key:"link",value:function(e,t,n){function r(e){var n=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,i={x:e.pageX-o.left-n,y:e.pageY-o.top-r};s=i.y<a.y?i.y:a.y,l=i.x<a.x?i.x:a.x,c=Math.abs(i.y-a.y),p=Math.abs(i.x-a.x),t.css({top:s+"px",left:l+"px",height:c+"px",width:p+"px"})}function i(){if(u.off("mouseup",i),u.off("mousemove",r),!(c<5||p<5)){var t=d.offsetHeight-(s+c),n=d.offsetWidth-(l+p);e.boxCreated({$box:{top:s/d.offsetHeight*100,right:n/d.offsetWidth*100,bottom:t/d.offsetHeight*100,left:l/d.offsetWidth*100}})}}var a,o,s,l,c,p,u=t.parent(),d=u[0];e.$watch("startingPoint",function(e){null!=e&&(a=e,o=d.getBoundingClientRect(),c=p=0,t.css({top:e.y+"px",left:e.x+"px",height:c+"px",width:p+"px"}),u.on("mousemove",r),u.on("mouseup",i))})}}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxCreator",function(){return new c(l,"box-creator")})},{"base-component":64}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={box:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","moment",function(e,t){function n(e){var t=function(t){return t.cSharpFormat===e},n=a.dateOptions.reduce(function(e,t){return e.concat(t.options)},[]),r=n.find(t),i=a.dateOptions.find(function(e){return e.options.filter(t).length>0});i.selected=!0,i.selectedVal=r.jsFormat}function r(){var n=[];a.dateOptions.forEach(function(e){if(e.selected&&e.selectedVal.length){var t=e.options.find(function(t){return t.jsFormat===e.selectedVal});t&&n.push(t)}});var r=!!n.find(function(e){return"Month"===e.name}),i=r?" ":"/",o=n.map(function(e){return e.jsFormat}),s=o.join(i);n.length?(a.displayString=t().format(s),e.box.stringFormat=n.map(function(e){return e.cSharpFormat}).join(i)):(a.displayString="",e.box.stringFormat="")}var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),a=e.vm={displayString:"",dateOptions:[{name:"Month",guid:"Month-"+i,selected:!1,selectedVal:"",options:[{name:"MM",cSharpFormat:"MM",jsFormat:"MM"},{name:"Month",cSharpFormat:"MMMM",jsFormat:"MMMM"}]},{name:"Date",guid:"Date-"+i,selected:!1,selectedVal:"",options:[{name:"DD",cSharpFormat:"dd",jsFormat:"DD"}]},{name:"Year",guid:"Year-"+i,selected:!1,selectedVal:"",options:[{name:"YYYY",cSharpFormat:"yyyy",jsFormat:"YYYY"},{name:"YY",cSharpFormat:"yy",jsFormat:"YY"}]}]};if(e.box.stringFormat){var o=e.box.stringFormat,s=o.startsWith("MMMM")?" ":"/";o.split(s).forEach(function(e){return n(e)}),r()}e.go={update:r}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxDateOptions",function(){return new c(l,"box-date-options")})},{"base-component":64}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={box:"=",text:"=",onDelete:"&",isActive:"&"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","rAF","viewportOffsetHlp",function(e,t,n){e.rAF=t,e.viewportOffsetHlp=n;e.vm={optionsTemplate:"<cmp-box-"+e.box.type+'-options box="box"></cmp-box-'+e.box.type+"-options>"},e.go={}}]},{key:"link",value:function(e,t,n){function r(t){if(t.stopPropagation(),e.isActive()){o=u.getBoundingClientRect(),s=c.getBoundingClientRect();var n=e.viewportOffsetHlp.getViewportOffsets(window);d.x=t.pageX-s.left-n.left,d.y=t.pageY-s.top-n.top;var r=Object.keys(m);r.forEach(function(e){return m[e]=!1}),d.x<=6&&(m.left=!0),c.offsetWidth-d.x<=6&&(m.right=!0),d.y<=6&&(m.top=!0),c.offsetHeight-d.y<=6&&(m.bottom=!0);r.reduce(function(e,t){return e||m[t]},!1)||r.forEach(function(e){return m[e]=!0}),p.on("mousemove",a)}}function i(t){e.isDrawing=!1,e.$root.safeApply(),p.off("mousemove",a)}function a(t){var n=e.viewportOffsetHlp.getViewportOffsets(window),r={x:t.pageX-o.left-n.left,y:t.pageY-o.top-n.top};if(m.top){var i=(r.y-d.y)/o.height*100;l.top=i<=0?0:i,c.style.top=l.top+"%"}if(m.left){var a=(r.x-d.x)/o.width*100;l.left=a<=0?0:a,c.style.left=l.left+"%"}if(m.bottom){var p=r.y+(s.height-d.y),u=o.height-p,f=u/o.height*100;l.bottom=f<=0?0:f,c.style.bottom=l.bottom+"%"}if(m.right){var g=r.x+(s.width-d.x),b=o.width-g,v=b/o.width*100;l.right=v<=0?0:v,c.style.right=l.right+"%"}}var o,s,l=e.box,c=t[0],p=t.parent(),u=p[0],d={x:0,y:0},m={top:!1,right:!1,bottom:!1,left:!1};c.style.top=l.top+"%",c.style.right=l.right+"%",c.style.bottom=l.bottom+"%",c.style.left=l.left+"%",t.on("mousedown",r),t.on("mouseup",i),p.on("mouseup",i),e.$on("$destroy",function(){p.off("mouseup",i),p.off("mousemove",a)})}}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpBoxResizer",function(){return new c(l,"box-resizer")})},{"base-component":64}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$attrs","$window",function(e,t,n){function r(e){null!=e&&(s.template="super-input-radio"===e?"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="radio-group-'+o[0]+'"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'\']"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">":"<"+e+'\n\t\t\t\t\tng-repeat="option in field._options track by $index"\n\t\t\t\t\tlabel="{{option}}"\n\t\t\t\t\tvalue="{{option}}"\n\t\t\t\t\tname="{{option}}"\n\t\t\t\t\tmodel="field.step.formFieldValues[\'\' + field.id + \'-\' + $index + \'\']"\n\t\t\t\t\trequired="field._required"\n\t\t\t\t\tis-disabled="vm.isDisabled"\n\t\t\t\t\tedit-mode="field.editMode"\n\t\t\t\t\tng-style="{width: field.config.colwidth}"\n\t\t\t\t\t></'+e+">")}var i=new Uint32Array(1),a=n.crypto||n.msCrypto,o=a.getRandomValues(i),s=e.vm={template:"",validate:function(){return!0},isDisabled:e.field.disabled};e.field._required&&(s.validate=function(t,n){if(e.field.config.multiple)for(var r=0;r<e.field._options.length;r++)if(!0===t[e.field.id+"-"+r])return!0;return!!t[""+e.field.id]||n+" is required."});e.go={};e.$watch("field.config.multiple",function(t){e.field.config.selectType=!1===t?"super-input-radio":"super-input-checkbox",r(e.field.config.selectType)})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCheckboxGroup",function(){return new c(l,"checkbox-group")})},{"base-component":64}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","ssAsync","ssEventSvc","ssToastHlp","fieldsHlp",function(e,t,n,r,i,a){var o=e.field,s=e.vm={propertyName:null};o.step&&(s.formFieldValues=o.step.formFieldValues[o.id]?o.step.formFieldValues[o.id]:""),e.$watch("field.config.tableConfig.view",function(e){s.propertyName="true"===e?"_tableViewChecked":"_active"});e.go={hideHeadings:function(e){return"heading"!=e._fieldType},showGroupLabel:function(){var e=s.formFieldValues&&s.formFieldValues.length&&o.config.fields[0][s.propertyName];return o.step?e:o.config.fields[0][s.propertyName]},sortOrder:function(e){if(e.config)return e.config.defaultOrder},showTemplate:function(){return e.field.config.tableConfig?!s.formFieldValues&&"false"===e.field.config.tableConfig.view:!s.formFieldValues},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name},showInstance:function(){return e.field.config.tableConfig?s.formFieldValues&&"false"===e.field.config.tableConfig.view:s.formFieldValues}};r.on("cred-select-active",function(e,t){t.forEach(function(t){a.updateActiveCredentialSelection(t,e)})},e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCredentialGroup",function(){return new c(l,"credential-group")})},{"base-component":64}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formfieldvalues:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","fieldRendererHlp",function(e,t){var n=e.field,r=e.formfieldvalues;t.bindConfigObject(e,"field._configJson","field.config"),e.$watch(t.getVisibility(n),function(e){return i.visibility=e});var i=e.vm={formfieldvalues:r};e.go={hideHeadingsAndInactive:function(e){return e._active&&"heading"!==e._fieldType},sortOrder:function(e){if(e.config)return e.config.defaultOrder}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpCredential",function(){return new c(l,"credential")})},{"base-component":64}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={options:"=",field:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$element","ssValidateHlp","fieldsHlp",function(e,t,n,r){function i(){e.options=s.options.map(function(e){return e.value})}var a=r.getValidator(e.field._fieldType),o=null,s=e.vm={options:e.options.map(function(e){return{value:e}})};null==e.options&&(e.options=[]),e.$watch("vm.options",function(e,t){e!==t&&i()},!0),e.$watch("field.config.multiple",function(e,t){e!==t&&!1===e&&s.options.length<2&&(s.options.push({value:"Option 2"}),i())});e.go={addOption:function(){s.options.push({value:"Option "+(s.options.length+1)}),i()},dropOption:function(e,t,n){return o=t,n},moveOption:function(e,t){e>o&&e++,s.options.splice(e,1),i()},removeOption:function(t){if(e.field.config.selectType&&"super-input-radio"===e.field.config.selectType){if(2===s.options.length)return}else if(1===s.options.length)return;s.options.splice(t,1),i()},validate:function(e){if("function"==typeof a){var t=a.call(null,e);return t||!0}return!0}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpDndOptions",function(){return new c(l,"dnd-options")})},{"base-component":64}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={currentStep:"=",allSteps:"=",isFirstStep:"=",index:"="},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","moment","ssValidationHlp",function(e,t,n){e.currentStep.dueExpiration={selectedDueExpirationType:0},e.currentStep.datePickerOptions={minDate:new Date},e.currentStep.showWarning=!1,e.validator=e.validator={required:n.required(),daysLimit:n.numeric({required:!0,min:1,max:366})},e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var r=e.vm={currentStep:e.currentStep,stepIndex:e.index,allSteps:e.allSteps,dueExpirationType:[{name:"No due date / expiration date",value:0,isVisible:!0,type:"",eName:"NoDueOrExpirationDate"},{name:"Due on exact date",value:1,isVisible:!0,type:"date",eName:"DueExactDate"},{name:"Due # of days after sent",value:2,isVisible:e.isFirstStep,type:"number",eName:"DueAfterSentDate"},{name:"Due # of days after prior step complete",value:5,isVisible:!e.isFirstStep,type:"number",eName:"DueAfterPriorStepComplete"},{name:"Expires on exact date",value:3,isVisible:!0,type:"date",eName:"ExpirationExactDate"},{name:"Expires # of days after sent",value:4,isVisible:e.isFirstStep,type:"number",eName:"ExpirationAfterSentDate"},{name:"Expires # of days after prior step complete",value:6,isVisible:!e.isFirstStep,type:"number",eName:"ExpirationAfterPriorStepComplete"}]};e.routeVm.dueExpirationType=r.dueExpirationType,e.$watch("vm.currentStep.dueExpiration",function(e,t){if(!angular.equals(e,t)&&(Object.entries(t).forEach(function(t){var n=o(t,2),r=n[0],i=n[1];"selectedDueExpirationType"!==r&&angular.equals(i,e[r])&&delete e[r]}),angular.equals(e.selectedDueExpirationType,t.selectedDueExpirationType))){var n=r.dueExpirationType.find(function(t){return t.value==e.selectedDueExpirationType}).type,s=Object.keys(e).find(function(e){return"selectedDueExpirationType"!==e});e[s]&&e[s]>0?i(n,e[s]):i("",0),a()}},!0);var i=function(e,n){var i="date"===e?t(n,"DD-MM-YYYY").add(1,"days").toDate():t(r.currentStep.datePickerOptions.minDate,"DD-MM-YYYY").add(n,"days").toDate(),a=r.allSteps.findIndex(function(e){return e.id===r.currentStep.id});r.allSteps.forEach(function(e,t){t>a&&(e.datePickerOptions={minDate:i,defaultDate:i})})},a=function(){var e=r.allSteps.findIndex(function(e){return e.id===r.currentStep.id});r.allSteps.forEach(function(t,n){t.showWarning=!1,n>e&&t.dueExpiration&&(0!==t.dueExpiration.selectedDueExpirationType&&(r.currentStep.showWarning=!0),t.dueExpiration={selectedDueExpirationType:0})})};e.go={filterDueExpiration:function(e){return e.isVisible}}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpDueExpirationDate",function(){return new p(c,"due-expiration-date")})},{"base-component":64}],11:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",filter:"=",type:"@",endpoint:"&",employeeId:"="},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$state","ssAsync","ssListSvc","$location","ssActiveUserSvc","ssFormInstancesApi","ssEmployeeApi","ssToastHlp","ssStorage","enumFormAdministratorType","ssFormsHlp",function(e,t,n,i,a,o,s,l,c,p,u,d){function m(){h=0,_=0,S.formsAndPackets=[],f()}function f(){return null!=w&&(w.$abort(),w=null),w=n(regeneratorRuntime.mark(function t(){var n,i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h=S.isSorting?h:h+1,n=S.isSearching||S.isSorting?0:(h-1)*y,_=S.isSorting?_:_+y,i=e.endpoint(),i.config.limit=S.isSorting?_:y,i.config.offset=n,i.config=Object.assign(i.config,b(S.sortBy)),t.next=10,i.api(i.config);case 10:a=t.sent,v=parseInt(a.$headers["total-results"],10),a=g(a),a=a.filter(function(e){return"inactive"!==e.status}),S.formsAndPackets=S.isSorting?[].concat(r(a)):[].concat(r(S.formsAndPackets),r(a)),o=_-a.length,S.showInfScroll=a.length<v-o,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),S.showInfScroll=!1;case 22:return t.prev=22,S.isLoading=!1,S.isSearching=!1,S.isSorting=!1,w=null,t.finish(22);case 28:case"end":return t.stop()}},t,this,[[0,19,22,28]])}))()}function g(e){return e.forEach(function(e){null!==e._formAdministrator.employeeId?e.adminName=e._formAdministrator.name:e.adminName=u.byValue(e._formAdministrator.formAdministratorType)||"None"}),e}function b(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var v,y=50,h=0,_=0,w=null,S=e.vm={formsAndPackets:[],showInfScroll:!0,isLoading:!1,isSearching:!1,isSorting:!1,sortCriteria:[{name:"Form Category",value:{field:"categoryname",dir:"asc"}},{name:"Form Administrator Type",value:{field:"formadministratortype",dir:"desc"}},{name:"Form Name (A-Z)",value:{field:"name",dir:"asc"}}]};S.sortBy=S.sortCriteria[0].value;e.go={initiateForm:function(t){t.initiating=!0,d.startForm(t,e.employeeId).then(function(){t.initiating=!1})}};e.$on("$destroy",e.$watch("vm.sortBy",function(e,t){e!==t&&(S.formsAndPackets=[],S.isSorting=!0,S.isLoading=!1,S.isSearching=!1,S.sortBy=e,f())})),e.$on("$destroy",e.$watch("search",function(e,t){e!==t&&(S.isSearching=!0,S.isLoading=!1,S.isSorting=!1,m())})),e.scrollData=function(){S.isLoading=!0,e.filter!==e.type&&h<0||S.showInfScroll&&null==w&&f()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpEmpInitiatedTemplate",function(){return new p(c,"emp-initiated-template")})},{"base-component":64}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",group:"=",ignoreValidations:"=",org:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp","fieldRendererHlp",function(e,t,n){function r(t){var r=n.getTag(t),i=n.getProperties(t,a),o=n.getContent(t,{scope:e.$root});s.template="<"+r+i+">"+o+"</"+r+">"}var i=e.field,a=e.group,o=function(e,t){return!t||null!=e.name&&""!=e.name.trim()?!(null!==e.name&&""!==e.name.trim()&&!e.isSigned)||'Please click "Add Digital Signature" before continuing.':'Please sign and click "Add Digital Signature" before continuing.'},s=e.vm={template:""
};e.validator={required:t.required(),numeric:t.numeric(),numericRequired:t.numeric({required:!0}),phone:t.phone(),phoneRequired:t.phone({required:!0}),ssn:t.ssn(),ssnRequired:t.ssn({required:!0}),email:t.email(),emailRequired:t.email({required:!0}),zip:t.zip(),zipRequired:t.zip({required:!0}),digitalSignature:t.object([function(e){return o(e,!1)}]),digitalSignatureRequired:t.object([function(e){return o(e,!0)}]),fileUploadRequired:t.string({required:!0}),arrayRequired:t.array({required:!0,minLength:1})},"super-input-datepicker"===i._fieldType&&(i._fieldType="super-iso-org-date"),i.isExpired&&(i.ignoreValidations=!0),i.disabled=i.isExpired,n.bindConfigObject(e,"field._configJson","field.config"),e.$watchGroup(["field._fieldType","field.isRedacted","field.ignoreValidations"],function(){return r(i)}),e.$watch(n.getVisibility(i),function(e){return s.visibility=e})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFieldRenderer",function(){return new c(l,"field-renderer")})},{"base-component":64}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$element","$document","ssAsync","ssEventSvc","ssToastHlp","ssFormTemplatesApi",function(e,t,n,r,i,a,o){function s(){e.$destroy(),e=null,t.remove(),t=null,p.removeClass(c),i.emit("fl-share-form-cancel")}var l=e.vm={formName:e.template._name,org:[],saving:!1},c="shown",p=angular.element(n[0].getElementById("modal-fade"));p.addClass(c);e.go={cancel:s,share:function(){l.saving=!0;var t=l.org[0];r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.shareToOrg(e.template.id,{destinationOrgId:t.Id,destinationTemplateName:l.formName}).then(function(e){if(-1===e.status||e.status>=400)return 422===e.status?a.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):a.error("",'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),void(l.saving=!1);a.success("",'"'+l.formName+'" has been shared to '+t.Name+" ("+t.Id+")"),s()}).catch(function(e){422===e.status?a.error(e.data.errors.Title,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"):a.error(e,'Error sharing "'+l.formName+'" to '+t.Name+" ("+t.Id+")"),l.saving=!1});case 2:case"end":return n.stop()}},n,this)}))()}};angular.element(document.body).append(t)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFlShareForm",function(){return new c(l,"fl-share-form")})},{"base-component":64}],14:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={search:"=",count:"=",filter:"=",type:"@",endpoint:"&"},p={0:"Complete Form",1:"Review Form",2:"Review & Approve",3:"View Form",4:"Review Profile"},u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$state","$location","rAF","enumStepAction","enumFormStatus","ssAsync","ssObjectHlp","ssDateHlp","ssDateByOrgHlp","ssDueDateHlp",function(e,t,n,i,a,o,s,l,c,u,d){function m(){x=0,k=0,A.formsAndPackets=[],A.searching=!0,f()}function f(){return null!=D&&(D.$abort(),D=null),A.loading=!0,D=s(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,x=A.sorting?x:x+1,n=(x-1)*O,k=A.sorting?k:k+O,r=e.endpoint(),P=r.config.id,r.config.limit=A.sorting?k:O,r.config.offset=A.sorting?0:n,r.config=Object.assign(r.config,S(A.sortBy)),!r.config.id){t.next=15;break}return t.next=12,r.api(r.config);case 12:t.t0=t.sent,t.next=16;break;case 15:t.t0=null;case 16:a=t.t0,e.count=parseInt(a.$headers["total-results"],10),g(a),A.showInfScroll=k<e.count,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(0),A.showInfScroll=!1;case 25:return t.prev=25,A.loading=!1,A.sorting=!1,A.searching=!1,D=null,t.finish(25);case 31:i(function(){A.loading=!1,e.$emit("forms-inbox.data-loaded")},e);case 32:case"end":return t.stop()}},t,this,[[0,22,25,31]])}))()}function g(e){e.forEach(function(e){e.userIsPrimary=null!==e._employee.employeeId&&e._employee.employeeId===P,v(e),e.formStatus=b(e),e._dueDateUtc&&(e.dueDateStatus=d.dueStatus(e,T.org))});var t=w(e);A.formsAndPackets=A.sorting?[].concat(r(t)):[].concat(r(A.formsAndPackets),r(t))}function b(e){if(!e.currentStep)return"No Workflow";if(e.isUserStep){if(e.isRejected)return e.statusDetails="Denied "+h(e),"Step Denied";if(!e.currentStep._lastModifiedDtUtc||e.isSubmitted||e.isComplete)return"";return"Progress Saved "+u.utcIsoToRelativeMoment(e.currentStep._lastModifiedDtUtc,T.org).format("MM/DD/YY")}if(e.isSubmitted){var t=y(e._steps);return"Submitted "+u.utcIsoToRelativeMoment(e._steps[t]._submittedDtUtc,T.org).format("MM/DD/YY")}if(e.isComplete){return"Completed "+u.utcIsoToRelativeMoment(e._completionDateUtc,T.org).format("MM/DD/YY")}return e.isCompletedAndDenied?"Form Denied":e.isPending?"Workflow Pending":""}function v(e){if(e.isUserStep=!1,e.isPending=!1,e.isSubmitted=!1,e.isComplete=!1,e.isCompletedAndDenied=!1,e.isRejected=!1,e.formStatus="",e.stepActionName="undefined",e.stepActionLabel=null,e.hasValidEnhancedDeniedInfo=l.glean(e,function(e){return e._deniedInfo.denier.name},!1)||l.glean(e,function(e){return e._deniedInfo.comments},!1),e.currentStep&&(e.stepActionLabel=null!==e.currentStep._stepAction?p[e.currentStep._stepAction]:p[3],e.currentStep._stepAction===a.formEntry?e.stepActionName="Fill Out Form":e.stepActionName=a.byValue(e.currentStep._stepAction),e.isComplete=e._statusId===o.complete,e.isCompletedAndDenied=e._statusId===o.completedAndDenied,!e.isComplete&&!e.isCompletedAndDenied)){var t=l.glean(e,function(e){return e.currentStep._meta.permissions.permittedActions.edit},!1),n=e._steps.indexOf(e.currentStep),r=y(e._steps);e.isSubmitted=n>=r&&null!=e._steps[r]._submittedDtUtc&&!c.isForeverPast(e._steps[r]._submittedDtUtc),null!=e.currentStep._stepParticipant&&angular.isArray(e.currentStep._stepParticipant.employeeIds)&&(e.isUserStep=e.currentStep._stepParticipant.employeeIds[0]===P),e.isUserStep&&e._statusId===o.rejected&&(e.isRejected=!0),e.isPending=!e.isUserStep&&!e.isSubmitted&&!t}}function y(e){for(var t=e.length-1;t>=0;t--)if(null!=e[t]._stepParticipant&&angular.isArray(e[t]._stepParticipant.employeeIds)&&e[t]._stepParticipant.employeeIds[0]===P)return e.indexOf(e[t])}function h(e){if(!T.featureFlags.fc_enhanced_denied_form_workflow)return e.hasValidEnhancedDeniedInfo?"by "+e._deniedInfo.denier.name:"";if(e.isUserStep){var t=e._steps.indexOf(e.currentStep)+1;return"by "+e._steps[t]._stepParticipant.name}return""}function _(e){var t=e.reduce(function(e,t){return e._completionDateUtc>t._completionDateUtc?e:t});return u.utcIsoToRelativeMoment(t._completionDateUtc,T.org).format("MM/DD/YY")}function w(e){var t=new Map;return e.map(function(e,n,r){var i,a,o,s;return e.isPacket=!1,e.isInPacket?(t.has(e._packetInstance.instanceId)||t.set(e._packetInstance.instanceId,{name:e._packetInstance.name,packetInstanceId:e._packetInstance.instanceId,isPacket:!0,isRejected:!1,showDetails:!1,content:[]}),a=e._packetInstance.completeFormInstanceIds.length,o=e._packetInstance.incompleteFormInstanceIds.length,s=a+o,i=t.get(e._packetInstance.instanceId),i.content.push(e),i.dueDateStatus=function(){var e=i.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=i.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),i.formStatus=function(){var e=i.content.filter(function(e){return e.isRejected||e.isCompletedAndDenied});return e.length?(i.isRejected=!0,e.length+" form "+(e.length>1?"s":"")+" denied"):0===o?"Completed "+_(i.content):a+"/"+s+" Forms Completed"}(),i.packetInstanceId===A.expandPacket&&(i.showDetails=!0),i.content.length>1?null:i):e}).filter(function(e){return null!=e})}function S(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}var P,T=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),x=0,O=50,k=0,D=null,F=e.type;e.enumFormStatus=o;var A=e.vm={formsAndPackets:[],showInfScroll:!0,loading:!1,refreshing:!1,searching:!1,expandPacket:t.params.packetId,search:t.params.search,sorting:!1,sortCriteria:[{name:"Most Recent",value:{field:"recentlysent",dir:"desc"}},{name:"Due Date",value:{field:"duedate",dir:"asc"}},{name:"Form/Packet Name (A-Z)",value:{field:"formname",dir:"asc"}}],type:F};A.sortBy=A.sortCriteria[1].value;e.go={complete:function(e){var r=t.href("base.formInstance",{formInstanceId:e.id,returnUrl:n.url(),target:"_blank"});window.open(r,"_blank")},toggleDetails:function(e){e.showDetails=!e.showDetails}};e.$watch("vm.sortBy",function(e,t){e!==t&&null!=A.formsAndPackets&&0!==A.formsAndPackets.length&&(A.sortBy=e,A.sorting=!0,f())}),e.$watch("search",function(e,t){e!==t&&m()}),e.scrollData=function(){e.filter!==e.type&&x<0||A.showInfScroll&&null==D&&!A.loading&&f()}}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpFormListGroup",function(){return new u(c,"form-list-group")})},{"base-component":64}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={org:"=",form:"=",batch:"=",onComplete:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","$q","ssFormInstancesApi","$timeout","ssToastHlp","ssStorage","moment","$filter","$sce","ssDateByOrgHlp",function(e,t,n,r,i,a,o,s,l,c,p){function u(){d.inProgress=!1;var t=p.utcIsoToRelativeMoment(d.status._endedAtUtc,e.org),n=t.calendar(null,{sameDay:"[Sent Today at] LT",lastDay:"[Sent Yesterday at] LT",sameElse:"[Sent on] l [at] h:mm a"});d.statusHelperText=c.trustAsHtml(""+n),d.status._numFailed?(d.hasFailures=!0,d.sendStatusText=g+" sent to "+(d.numInBatch-d.numFailed)+" staff members",d.progressMessage=d.numFailed+" failed to send",d.progressMessageClass="error",m||a.standard("",'"'+e.form._name+'" sent to '+d.numInBatch+" people, but only "+d.numComplete+" succeeded",!1)):(d.sendStatusText=g+" sent to "+d.numInBatch,d.progressMessage="Success!",d.progressMessageClass="success",m||a.success("",'"'+e.form._name+'" sent successfully to '+d.numInBatch+" "+(d.status._numInBatch>1?"people":"person"),!1),i(function(){b.removeBatch()},3e3))}var d=e.vm={progressMessage:"",status:"",sendStatusText:"",statusHelperText:"",percentComplete:"0%",loading:!0,inProgress:!1,showRemove:!0,loadingMessage:""},m=!1,f=!0,g="FormTemplate"===e.form._objectType?"Form":"Packet";d.formattedRecipientLength=l("number")(e.batch._includedEmployeeIds.length,0),d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.statusHelperText=c.trustAsHtml("<strong>This may take several minutes.</strong> Sender will be notified and emailed when complete.");var b=e.go={removeBatch:function(){e.onComplete({batch:e.batch})},archiveBatch:function(){d.loadingMessage="Archiving batch...",d.loading=!0,d.status._isArchived=!0,d.status.$save().then(function(){b.removeBatch(),a.success("","Batch successfully archived")}).catch(function(e){console.error(e),a.error("","There was a problem archiving the batch. Please try again")}).finally(function(){d.loadingMessage="",d.loading=!1})}};(function(){function t(){r.getBatchStatus({id:e.batch.id}).then(function(e){switch(d.loading=!1,d.loadingMessage="",d.status=e,d.numInBatch=l("number")(d.status._numInBatch,0),d.numFailed=l("number")(d.status._numFailed,0),d.numComplete=l("number")(d.status._numComplete,0),d.status._status){case 0:d.progressMessage="Preparing to send",d.progressMessageClass="waiting",d.sendStatusText="Preparing "+g+" for "+d.formattedRecipientLength;break;case 1:d.inProgress=!0,d.sendStatusText="Sending "+g+" to "+d.formattedRecipientLength,d.percentComplete=d.status._percentComplete+"%";break;case 3:d.inProgress=!0,d.percentComplete="100%"}3===d.status._status||4===d.status._status||5===d.status._status?(m=f,i(function(){a.resolve()},3e3)):(f=!1,i(t,3e3))})}var a=n.defer();return d.loadingMessage="Preparing batch...",t(),a.promise})().then(function(){u()})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpFormSendStatus",function(){return new c(l,"form-send-status")})},{"base-component":64}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){e.checked=!1}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";if(e.length>0){var n=[];return e.map(function(e){n.push(e[t])}),n.join(",")}return null}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-component"),p={label:"@",model:"=",exclusions:"="},u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"controller",value:["$scope","$rootScope","ssAsync","ssListSvc","ssLocationSvc","ssJobTypeSvc","ssDepartmentSvc","ssEmployeeApi","enumEmployeeStatus","ssStringHlp","ssDateByOrgHlp","moment","ssToastHlp","ssMultiInitiativeFeatureDetectorCCSvc","ssActiveFlagStatusSvc","enumWorkRelationshipsType",function(e,t,n,r,i,a,l,c,p,u,d,m,f,g,b,v){function y(t){var n=e.exclusions.map(function(e){return{id:e.id}});return t.filter(function(e){return!n.find(function(t){return t.id===e.id})})}function h(e,t){var n=e.map(function(e){return e.id}),r=t.filter(function(e){return!n.includes(e.id)});r.forEach(function(e){t.splice(t.indexOf(e),1)}),r.length&&f.warn("One or more of the selected exclusions are not members of the current recipient group and have therefore been removed","")}e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var _=m().format("MM/DD/YYYY"),w=null,S=null,P={selected:{},exclusions:[]},T=e.vm={asOf:_,formOpened:!1,filtering:!1,attempted:!1,selected:{location:[],jobType:[],employmentGroup:[],department:[],status:null,hireDateStart:null,hireDateEnd:null,workRelationship:[],staffType:[]},employmentGroupDisabled:!1,showInactiveMenuItems:!0};e.featureFlags={isHRMSEnabled:!1,fc_enable_referential_data_status:!1,fc_work_relationships:!1},n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.resolveAll(e.featureFlags);case 3:if(!e.featureFlags.fc_enable_referential_data_status){t.next=7;break}return t.next=6,b.getActiveFlagStatus();case 6:T.showInactiveMenuItems=t.sent;case 7:return t.next=9,i.getAll();case 9:return T.locations=t.sent,t.next=12,a.getAll();case 12:return T.jobTypes=T.jobTypesAll=t.sent,t.next=15,r.getByExternalId("jobtype.employmentgroups");case 15:return T.employmentGroups=t.sent,T.employmentGroups=T.employmentGroups.map(function(e){return{_name:e.name,id:e.value,_isActive:e._isActive}}),t.next=19,l.getAll();case 19:return T.departments=t.sent,T.status=p.getEnums().map(function(e){return{_name:u.toProperCase(e.name.toLowerCase()),id:e.value}}),T.selected.status=[T.status.find(function(e){return e.id===p.active})],T.workRelationship=v.getEnums().map(function(e){return{_name:e.name,id:e.value}}),t.next=25,r.getByExternalId("jobtype.employmentgroups");case 25:T.staffType=t.sent,T.staffType.forEach(function(e){return e._name=e.name}),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(0),console.error("ERROR",t.t0);case 32:case"end":return t.stop()}},t,this,[[0,29]])}))();var x=e.go={cancel:function(){T.formOpened=!1,T.filtering=!1,e.model.length&&(T.selected=angular.copy(P.selected,T.selected),e.exclusions=angular.copy(P.exclusions,e.exclusions))},resetFilters:function(){T.status[1].checked=!0,T.selected.status.push(T.status[1])},clearAllFilters:function(){T.selected.location=[],T.selected.jobType=[],T.selected.employmentGroup=[],T.selected.department=[],T.selected.status=[],T.selected.workRelationship=[],T.selected.staffType=[],T.selected.hireDateStart="",T.selected.hireDateEnd="",T.locations.forEach(o),T.jobTypes.forEach(o),T.employmentGroups.forEach(o),T.departments.forEach(o),T.status.forEach(o),T.workRelationship.forEach(o),T.staffType.forEach(o),e.exclusions=[],T.attempted=!1,T.filtering=!1},toggleFilter:function(){e.model.length||(x.clearAllFilters(),x.resetFilters()),T.formOpened=!T.formOpened},addGroup:function(){T.filtering=!0;var t=T.selected.hireDateStart&&T.selected.hireDateStart.toISOString()?d.startOfDayRelativeTo(m(T.selected.hireDateStart.toISOString()),e.routeVm.org):null,r=T.selected.hireDateEnd&&T.selected.hireDateEnd.toISOString()?d.endOfDayRelativeTo(m(T.selected.hireDateEnd.toISOString()),e.routeVm.org):null,i=Object.assign({},{location:s(T.selected.location),jobtype:s(T.selected.jobType),department:s(T.selected.department),status:s(T.selected.status),employmentgroup:s(T.selected.employmentGroup),workrelationshiptype:s(T.selected.workRelationship),stafftype:s(T.selected.staffType,"value"),hiredatestart:t,hiredateend:r});Object.keys(i).forEach(function(e){return null==i[e]&&delete i[e]});var a=Object.assign({},{fields:"firstname,lastname,id",limit:1e4,asOfTimeUtc:d.safeAsOfDateRelativeTo(m(T.asOf).startOf("day"),e.routeVm.org),filter:i});w=n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.search({},a);case 3:S=t.sent,S=S.map(function(e){return{id:e.id}}),T.attempted=!0,h(S,e.exclusions),e.model=y(S),e.model.length&&(T.formOpened=!1,P.exclusions=angular.copy(e.exclusions,P.exclusions),P.selected=angular.copy(T.selected,P.selected)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("error retrieving employees",t.t0);case 14:return t.prev=14,T.filtering=!1,w=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,11,14,18]])}))()},filterInactive:function(e){return!!T.showInactiveMenuItems||!!e._isActive}};e.routeVm.removeGroup=function(){T.formOpened&&x.toggleFilter(),e.model=[],x.clearAllFilters(),x.resetFilters()},t.$on("$destroy",t.$on("parentAsOfDate-Change",function(t,n){null==n||null==n.asOf||""===n.asOf.toString()?T.asOf=_:T.asOf=m(n.asOf).format("MM/DD/YYYY"),e.model.length&&x.addGroup()})),e.$on("destroy",e.$watch("vm.selected.jobType.length",function(e,t){e!==t&&(e>0?(T.employmentGroupDisabled=!0,T.selected.employmentGroup=[],T.employmentGroups.forEach(o)):T.employmentGroupDisabled=!1)})),e.$on("destroy",e.$watch("vm.selected.employmentGroup.length",function(e,t){if(e!==t)if(e>0){var n=T.selected.employmentGroup.map(function(e){return e.id}),r=T.jobTypesAll.map(function(e){return e._bargainingUnit.id});T.jobTypes=[];var i=r.filter(function(e){var t=e.split("_")[1];return!0===n.includes(t)});T.jobTypes=T.jobTypesAll.filter(function(e){return!0===i.includes(e._bargainingUnit.id)})}else T.jobTypes=T.jobTypesAll})),e.$on("destroy",e.$watch("vm.selected",function(e,t){e!==t&&w&&(w.$abort(),T.filtering=!1,T.attempted=!1)},!0))}]}]),t}(c.Component);angular.module("ec-forms-components").directive("cmpMultipleEmployeeSearch",function(){return new u(p,"multiple-employee-search")})},{"base-component":64}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){e.routeVm=e.$root.utils.findInParentScope("routeVm",e);var n=e.vm={tools:[{type:"text",icon:"pencil-square",title:"Text Box"},{type:"date",icon:"calendar",title:"Date Picker"},{type:"checkbox",shape:"square",icon:"check-square",title:"CheckBox"}]};e.routeVm.selectedTool=n.tools[0];var r=e.go={highlightSelectedBox:function(t){e.routeVm.selectedTool=n.tools.find(function(e){return e.type===t.type})}};t.on("pvb.select-box",r.highlightSelectedBox,e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpOverlayBuilderToolbox",function(){return new c(l,"overlay-builder-toolbox")})},{"base-component":64}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={group:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state",function(e,t){function n(e){switch(e){case"center":return{margin:"auto"};case"left":return{"margin-right":"auto"};case"right":return{"margin-left":"auto"};default:return{}}}var r=e.group,i=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={style:{},tableWidth:null,tableAlignment:null,isTableSwapped:null});e.$watch("group[0]._configJson",function(e){var t=JSON.parse(r[0]._configJson);i.tableWidth=t.tableWidth<10?"10%":t.tableWidth>100?"100%":t.tableWidth+"%",i.tableAlignment=n(t.tableAlignment),i.isTableSwapped=t.isTableSwapped});e.go={getTableStyles:function(){var e={width:i.tableWidth};return e=Object.assign(e,i.tableAlignment)},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},getFieldWidth:function(e){if(e._configJson){return{width:JSON.parse(e._configJson).width}}},isVisible:function(e){if(e._configJson){return JSON.parse(e._configJson).tableViewChecked}},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name},bindFieldValue:function(e){var n="";return"base.formInstance"===t.current.name&&e.step&&e.step.formFieldValues&&(n=e.step.formFieldValues[e.id],n=null===n?n:""+n),n=n||("readOnlyDate"==e._fieldType?"--/--/--":"--")}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPrimaryAssignmentTableView",function(){return new c(l,"primary-assignment-table-view")})},{"base-component":64}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={label:"@",percent:"@",progress:"<",status:"<",total:"<"},c={transclude:!0},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={label:e.label,percent:"0%",rejected:"rejected"===e.status};e.percent&&(t.percent=Math.round(parseInt(e.percent.replace("%","")))+"%"),e.progress&&e.total&&(t.percent=Math.round(parseFloat(e.progress)/parseFloat(e.total)*100)+"%");e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpProgressBar",function(){return new p(l,"progress-bar",c)})},{"base-component":64}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc","ssValidationHlp",function(e,t,n){function r(e,t){s.fields.forEach(function(n){return n.config.tableConfig[e]=t})}var i,a=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),o=null;i=4==e.fields[0]._externalData.split(".").length;var s=e.vm={fields:e.fields,canEdit:!0,showActive:i,propertyName:null,tableAlignmentOptions:[{name:"Center",value:"center"},{name:"Left",value:"left"},{name:"Right",value:"right"}],isTableView:!1};e.validator={label:n.string({maxLength:25}),width:n.numeric({min:10,max:100,required:!0})},e.$watch("vm.fields[0].config.tableConfig.view",function(e){s.isTableView=a.featureFlags.fc_enable_form_tables&&"true"===e,s.propertyName="true"===e?"_tableViewChecked":"_active",r("view",e)}),e.$watch("vm.fields[0].config.tableConfig.width",function(e){e=e<10?10:e>100?100:e,r("width",e)}),e.$watch("vm.fields[0].config.tableConfig.alignment",function(e){r("alignment",e)});e.go={hideHeadings:function(e){return"heading"!=e._fieldType},dragDropProperties:function(e,t,n){e===o||o-1===e?n.splice(o,1):e>o?(n.splice(o,1,n[o+1]),n.splice(o+1,1,n[e+2]),n.splice(e+2,1)):(n.splice(e+1,1),n[o-1]=n[o],n[o]=t)},dropField:function(e){return o=e,{}},sortOrder:function(e){return!s.isTableView&&e.config.defaultOrder},swapTable:function(){s.fields.forEach(function(e){return e.config.tableConfig.isSwapped=!e.config.tableConfig.isSwapped})}};e.$watch("vm.showActive",function(n,r){n!=r&&t.emit("cred-select-active",n,e.fields)}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCredentials",function(){return new c(l,"properties-credentials")})},{"base-component":64}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"=",showLabel:"@?",showRequired:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={
field:e.fields[0],showLabel:"false"!==e.showLabel,showRequired:"false"!==e.showRequired}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomCommon",function(){return new c(l,"properties-custom-common")})},{"base-component":64}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDate",function(){return new c(l,"properties-custom-date")})},{"base-component":64}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","enumFieldWidths",function(e,t){var n=e.vm={newOption:"",field:e.fields[0],widths:t.getEnums().filter(function(e){return"Large"!==e.name&&"Full"!==e.name})};null==n.field._options&&(n.field._options=[])}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomDropdown",function(){return new c(l,"properties-custom-dropdown")})},{"base-component":64}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){var n=e.field=e.fields[0],r=(e.validator=t,e.vm={validator:{requiredUrl:t.url({require:!0})}}),i=(e.go={},/^((http|https):\/\/)/);e.$watch("field.config",function(t){e.$watch("field.config.location",function(e,t){e!==t&&(e&&0!==e.length&&!n.config.name?n.config.display=e:n.config.name?n.config.display=n.config.name:n.config.display="link will display here",!0===r.validator.requiredUrl(e)?(n.config.isValid=!0,i.test(n.config.location)||(n.config.location="http://"+n.config.location)):n.config.isValid=!1)}),e.$watch("field.config.name",function(e,t){e!==t&&(e&&0!==e.length?n.config.display=e:n.config.location?n.config.display=n.config.location:n.config.display="link will display here")})})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFilelink",function(){return new c(l,"properties-custom-filelink")})},{"base-component":64}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssObjectHlp","enumPersonnelCategory","enumMedicalCategory",function(e,t,n,r){var i=e.$root.utils.findInParentScope("formVm",e),a=t.glean,o=e.vm={field:e.fields[0],personnel:n,medical:r,addToEmpRecord:!0};e.go={click:function(e){}};e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(i._updateEmployeeRecord=e,i.modelChanged())}),e.$watch("vm.webFormCatSubCat",function(e,t){if(e&&e!==t){var n=e.split("-")[0],r=e.split("-")[1];o.field._updateEmployeeRecord=!0,o.field._documentCategory=n,o.field._documentSubCategory=r,i.modelChanged()}}),function(){o.webFormCategory=a(i,function(e){return formData._formFields[0]._documentCategory},!1),o.webFormSubCategory=a(i,function(e){return formData._formFields[0]._documentSubCategory},!1),o.webFormCatSubCat=o.webFormCategory&&o.webFormSubCategory?o.webFormCategory+"-"+o.webFormSubCategory:""}()}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomFileupload",function(){return new c(l,"properties-custom-fileupload")})},{"base-component":64}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","enumFieldHeights","enumFieldWidths",function(e,t,n){var r=e.vm={field:e.fields[0],heights:t.getEnums(),widths:n.getEnums()};null!=r.field._label&&0!==r.field._label.length||(r.field._label="Input Label")}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomInput",function(){return new c(l,"properties-custom-input")})},{"base-component":64}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSectionhead",function(){return new c(l,"properties-custom-sectionhead")})},{"base-component":64}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){e.vm={field:e.fields[0],cols:[{name:"One",value:"100%"},{name:"Two",value:"50%"},{name:"Three",value:"33%"},{name:"Four",value:"25%"}]},e.go={}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSelectbox",function(){return new c(l,"properties-custom-selectbox")})},{"base-component":64}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","ssSignatureApi","ssPermissionsSvc",function(e,t,n,r){function i(e,t){a.selectedSignatures.splice(t,0,a.selectedSignatures.splice(e,1)[0])}var a=e.vm={field:e.fields[0],selectedSignatures:[],orientation:e.fields[0].config.orientation,signatureDisplay:e.fields[0].config.signatureDisplay||"step-participant"};a.canAssociateSignatures=r.isPermittedAction("formTemplates","associateSignatures")||!!e.$root.isPermitted.activeUser.idmAdministrator;e.go={dropSignature:function(e,t,n,r){var o=a.selectedSignatures.find(function(e){return e.id===r.id});if(o){i(a.selectedSignatures.indexOf(o),t)}else a.selectedSignatures.splice(t,0,r)}};t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.loadingDropdown=!0,t.next=4,n.query();case 4:a.allSignatures=t.sent,null!=a.field.config.signatureIds&&a.field.config.signatureIds.forEach(function(t){var n=a.allSignatures.find(function(e){return e.id===t});e.$applyAsync(function(){a.selectedSignatures.push(n),a.loadingDropdown=!1})}),e.$watchCollection("vm.selectedSignatures",function(e,t){e!==t&&(a.field.config.signatureIds=e.map(function(e){return e.id}),a.field._configJson=JSON.stringify(a.field.config))}),e.$watch("vm.orientation",function(e,t){e!==t&&(a.field.config.orientation=e,a.field._configJson=JSON.stringify(a.field.config))}),e.$watch("vm.signatureDisplay",function(e,t){e!==t&&(a.field._required="step-participant"===e,a.field.config.signatureDisplay=e,a.field._configJson=JSON.stringify(a.field.config))}),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,a.loadingDropdown=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomSignature",function(){return new c(l,"properties-custom-signature")})},{"base-component":64}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","enumFieldWidths","fieldsHlp",function(e,t,n){var r=e.vm={field:e.fields[0],widths:t.getEnums()},i=n.getValidator(r.field._fieldType);e.go={validate:function(e){if("function"==typeof i){var t=i.call(null,e);return t||!0}return!0}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesCustomText",function(){return new c(l,"properties-custom-text")})},{"base-component":64}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"=",canEdit:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc",function(e,t){var n=e.fields.filter(function(e){return null!=e._fieldDefId}),r=e.vm={commit:!!n[0]._updateEmployeeRecord,hasExternalData:!0};e.$watch("canEdit",function(e,t){!1===e&&(r.commit=!1)}),e.$watch("vm.commit",function(r,i){if(r!==i){for(var a=0;a<e.fields.length;a++)n.includes(e.fields[a])&&(e.fields[a]._updateEmployeeRecord=r);t.emit("emp-record-commit",r,e.fields)}}),r.hasExternalData=n.every(function(e){return e._externalData&&null!==e._externalData})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesEmpRecord",function(){return new c(l,"properties-emp-record")})},{"base-component":64}],32:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"=",form:"="},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","enumPersonnelCategory","enumMedicalCategory","ssEnum","ssAsync","ssEmployeeApi","ssEventSvc",function(e,t,n,i,a,o,s){function l(e,t,n){var i=d._stepEvents[t].eventActions;if(e){var a={eventAction:n};return d._stepEvents[t].eventActions=[].concat(r(i),[a]),d._stepEvents=d._stepEvents.slice(),a}d._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),d._stepEvents=d._stepEvents.slice()}function c(t,n){if(null!=d._stepEvents[0])for(var r=void 0,i=d._stepEvents[0].eventActions,a=0;a<i.length;a++)if(r=i[a],r.eventAction===u.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),d._stepEvents=d._stepEvents.slice();break}}function p(t){null==t||t.length<1||a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.queryByIds({fields:"firstName,lastName,preferredName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var u=e.vm={personnel:t,medical:n,stepAction:i.stepAction,stepEventAction:i.stepEventAction,stepEventType:i.stepEventType,stepParticipantType:i.stepParticipantType,webFormCategory:0,webFormSubCategory:t.otherDocuments,addToEmpRecord:!1},d=e.step,m=e.form,f=e.actions={};!function(){f.emailIds=[],null!=d._stepEvents&&(d._stepEvents[0].eventActions.forEach(function(e){e.eventAction===u.stepEventAction.emailFormSender?f.emailFormSender=!0:e.eventAction===u.stepEventAction.emailSupervisor?f.emailSupervisor=!0:e.eventAction===u.stepEventAction.emailOthers?(f.emailOthers=!0,p(e.employeeIds)):e.eventAction===u.stepEventAction.emailEmployee?f.emailEmployee=!0:d.last&&e.eventAction===u.stepEventAction.addToEmployeeRecord&&(f.addToEmpRecord=!0)}),d._stepEvents[0].eventType=u.stepEventType.onComplete,u.addToEmpRecord=m._employeeRecord.addToEmployeeRecord,u.webFormSubCategory=m._employeeRecord.category+"-"+m._employeeRecord.subCategory,!1===m._employeeRecord.addToEmployeeRecord&&(u.webFormSubCategory=null))}();e.go={};e.$watch("vm.webFormSubCategory",function(e,t){if(e!==t){var n=e.split("-")[0],r=e.split("-")[1];m._employeeRecord.addToEmployeeRecord=!0,m._employeeRecord.category=n,m._employeeRecord.subCategory=r}}),e.$watch("actions.emailEmployee",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&l(e,0,u.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=l(e,0,u.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("vm.addToEmpRecord",function(e,t){e!==t&&(m._employeeRecord.addToEmployeeRecord=e)}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&c(0,"emailIds")}),e.$watch("step._stepAction",function(e,t){e!==t&&(d._stepEvents=[{eventType:u.stepEventType.onComplete,eventActions:[]}],f.emailOtherIds=[],d.last&&(f.addToEmpRecord=!0))})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesFormComplete",function(){return new p(c,"properties-form-complete")})},{"base-component":64}],33:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={step:"="},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi",function(e,t,n,i){function a(e,t,n){var i=c._stepEvents.find(function(e){return e.eventType===t.eventType}),a=i.eventActions;if(e){var o={eventAction:n};i.eventActions=[].concat(r(a),[o])}else i.eventActions=a.filter(function(e){return e.eventAction!==n});c._stepEvents=c._stepEvents.slice()}function o(e,n){var r=c._stepEvents.find(function(t){return t.eventType===e.eventType});if(r){var i=r.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});i&&(i.employeeIds=n.emails.map(function(e){return e.id}))}c._stepEvents=c._stepEvents.slice()}function s(){return[{title:"On Submit",dataAuto:"on-submit",eventType:t.stepEventType.onSubmit,eventActionEnum:t.stepAction.formEntry,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",dataAuto:"on-review",eventType:t.stepEventType.onReview,eventActionEnum:t.stepAction.reviewForm,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Approve",dataAuto:"on-approve",eventType:t.stepEventType.onApprove,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Deny",dataAuto:"on-deny",eventType:t.stepEventType.onDeny,eventActionEnum:t.stepAction.reviewApproveOrDeny,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.stopWorkFlow,t.stepEventAction.emailOthers],checked:!1,emails:[]}]},{title:"On Review",dataAuto:"on-employee-profile-review",eventType:t.stepEventType.onEmployeeProfileReview,eventActionEnum:t.stepAction.employeeProfileReview,eventActions:[{title:"Email Employee",dataAuto:"email-employee",eventAction:[t.stepEventAction.emailEmployee],checked:!1},{title:"Email Form Sender",dataAuto:"email-form-sender",eventAction:[t.stepEventAction.emailFormSender],checked:!1},{title:"Email Employee's Supervisor",dataAuto:"email-employee-supervisor",eventAction:[t.stepEventAction.emailSupervisor],checked:!1,isDisabled:function(){return c._stepParticipant.participantType===t.stepParticipantType.employeeSSupervisor}},{title:"Email Others",dataAuto:"email-others",eventAction:[t.stepEventAction.emailOthers],checked:!1,emails:[]}]}]}var l=e.vm={stepEvents:new s},c=(e.go={eventClicked:function(e,t){t.eventAction.forEach(function(n){a(t.checked,e,n)})}},e.step);c._stepEvents&&c._stepEvents.length&&c._stepEvents.forEach(function(e){var r=e.eventActions.map(function(e){return e.eventAction}),a=[];if(r.includes(t.stepEventAction.emailOthers)){var o=e.eventActions.find(function(e){return e.eventAction===t.stepEventAction.emailOthers});a=o.employeeIds}var s=l.stepEvents.find(function(t){return t.eventType===e.eventType});s&&s.eventActions.forEach(function(e){e.eventAction.every(function(e){return r.indexOf(e)>-1})&&(e.checked=!0),a.length&&e.eventAction.includes(t.stepEventAction.emailOthers)&&n(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName,preferredName"},{ids:a});case 2:e.emails=t.sent;case 3:case"end":return t.stop()}},t,this)}))()})}),l.stepEvents.forEach(function(t,n){t.eventActions.forEach(function(t,r){t.emails&&e.$watch("vm.stepEvents["+n+"].eventActions["+r+"].emails.length",function(e,t){if(e!==t){var i=n,a=r;o(l.stepEvents[i],l.stepEvents[i].eventActions[a])}})})}),e.$watch("step._stepAction",function(e,n){e!==n&&(e===t.stepAction.formEntry?c._stepEvents=[{eventType:t.stepEventType.onSubmit,eventActions:[]}]:e===t.stepAction.reviewApproveOrDeny?c._stepEvents=[{eventType:t.stepEventType.onApprove,eventActions:[]},{eventType:t.stepEventType.onDeny,eventActions:[]}]:e===t.stepAction.reviewForm?c._stepEvents=[{eventType:t.stepEventType.onReview,eventActions:[]}]:e===t.stepAction.formCompleted?c._stepEvents=[{eventType:t.stepEventType.onComplete,eventActions:[]}]:e===t.stepAction.employeeProfileReview&&(c._stepEvents=[{eventType:t.stepEventType.onEmployeeProfileReview,eventActions:[]}]),l.stepEvents=new s)})}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesNotifications",function(){return new p(c,"properties-notifications")})},{"base-component":64}],34:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",fields:"="},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){function n(e){switch(e){case"center":return{margin:"auto"};case"left":return{"margin-right":"auto"};case"right":return{"margin-left":"auto"};default:return{}}}var i=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),a=null,o=e.vm={fields:e.fields,canEdit:!0,tableAlignmentOption:[{name:"Center",value:"center"},{name:"Left",value:"left"},{name:"Right",value:"right"}],isTableView:!1};e.validator={label:t.string({maxLength:25}),width:t.numeric({min:10,max:100,required:!0})},e.$watch("vm.fields[0].config.tableView",function(e){o.isTableView=i.featureFlags.fc_enable_form_tables&&"true"===o.fields[0].config.tableView,"false"===e&&(o.fields[0].config.tableWidth=JSON.parse(o.fields[0]._configJson).tableWidth),s(e,"tableView")}),e.$watch("vm.fields[0].config.tableWidth",function(e){e=e<10?10:e>100?100:e,s(e,"tableWidth")}),e.$watch("vm.fields[0].config.tableAlignment",function(e){o.tableAlignment=n(e),s(e,"tableAlignment")}),e.$watch("vm.fields[0].config.isTableSwapped",function(e){s(e,"isTableSwapped")});e.go={showActionableFields:function(e){return"instructions"!=e._fieldType},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},isTableViewField:function(e){if(e._configJson)return"true"===JSON.parse(e._configJson).tableView||"false"===JSON.parse(e._configJson).tableView},checkedTableView:function(e,t,n){var i=JSON.parse(n._configJson),a=r({},t,e);i=Object.assign(i,a),n._configJson=JSON.stringify(i)},
isVisible:function(e){var t=!1;return"readOnlyHeading"!=e._fieldType&&"readOnlySubheading"!=e._fieldType||(t="true"!==o.fields[0].config.tableView||!e.config||!1!==e.config.isVisible),t},dragDropProperties:function(e,t,n){o.fields[0].config.isFieldMoved=!o.fields[0].config.isFieldMoved,s(o.fields[0].config.isFieldMoved,"isFieldMoved"),e===a||a-1===e?n.splice(a,1):e>a?(n.splice(a,1,n[a+1]),n.splice(a+1,1,n[e+2]),n.splice(e+2,1)):(n.splice(e+1,1),n[a-1]=n[a],n[a]=t)},dropField:function(e){return!(e<=1)&&(a=e,{})},sortOrder:function(e){return"true"!==o.fields[0].config.tableView&&e.config.defaultOrder},swapTable:function(){o.fields[0].config.isTableSwapped=!o.fields[0].config.isTableSwapped}};e.$watch("vm.showActive",function(t,n){t!=n&&ssEventSvc.emit("cred-select-active",t,e.fields)}),null==e.fields[0]._active&&(e.fields[0]._active=!0);var s=function(e,t){var n=JSON.parse(o.fields[0]._configJson),i=r({},t,e);n=Object.assign(n,i),o.fields[0]._configJson=JSON.stringify(n)};!function(e){e.forEach(function(e){e.config=e.config||JSON.parse(e._configJson)})}(e.fields)}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesPrimaryAssignment",function(){return new p(c,"properties-primary-assignment")})},{"base-component":64}],35:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-component"),p={form:"=",step:"="},u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","formsHlp","ssToastHlp",function(e,t,n,i,a,o,l,c){function p(){y.emailIds=[],null!=b._stepEvents&&(b._stepEvents[0].eventActions.forEach(function(e){e.eventAction===h.stepEventAction.emailFormSender?y.emailFormSender=!0:e.eventAction===h.stepEventAction.emailSupervisor?y.emailSupervisor=!0:e.eventAction===h.stepEventAction.emailOthers?(y.emailOthers=!0,f(e.employeeIds)):e.eventAction===h.stepEventAction.emailEmployee&&(y.emailEmployee=!0)}),b._stepEvents[0].eventType=h.stepEventType.onEmployeeProfileReview)}function u(e,t,n){var i=b._stepEvents[t].eventActions;if(e){var a={eventAction:n};return b._stepEvents[t].eventActions=[].concat(r(i),[a]),b._stepEvents=b._stepEvents.slice(),a}b._stepEvents[t].eventActions=i.filter(function(e){return e.eventAction!==n}),b._stepEvents=b._stepEvents.slice()}function d(t,n){if(null!=b._stepEvents[0])for(var r=void 0,i=b._stepEvents[0].eventActions,a=0;a<i.length;a++)if(r=i[a],r.eventAction===h.stepEventAction.emailOthers){e.actions.hasOwnProperty(n)&&(void 0!=e.actions[n]&&null!=e.actions[n]||"emailIds"===n&&(e.actions[n]=[]),r.employeeIds=e.actions[n].map(function(e){return e.id})),b._stepEvents=b._stepEvents.slice();break}}function m(e){if(null!=e)return i.get({id:e,fields:"firstName,lastName"},"",!1)}function f(t){null==t||t.length<1||n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:t});case 2:e.actions.emailIds=n.sent;case 3:case"end":return n.stop()}},n,this)}))()}var g,b=e.step,v=e.form,y=e.actions={},h=e.vm={specificParticipant:[],stepAction:t.stepAction,stepEventAction:t.stepEventAction,stepEventType:t.stepEventType,stepParticipantType:t.stepParticipantType,stepParticipant:t.stepParticipantType.getEnums().filter(function(e){return v._isEmployeeInitiated?0!==e.value&&3!==e.value:0!==e.value}),validator:{required:o.required()}};e.go={selectParticipant:function(e){h.buttonLabel=e.name,b._stepParticipant.participantType=e.value,b._stepParticipant.employeeIds=h.specificParticipant=[]}};e.$watch("actions.emailEmployee",function(e,t){e!==t&&u(e,0,h.stepEventAction.emailEmployee)}),e.$watch("actions.emailFormSender",function(e,t){e!==t&&u(e,0,h.stepEventAction.emailFormSender)}),e.$watch("actions.emailSupervisor",function(e,t){e!==t&&u(e,0,h.stepEventAction.emailSupervisor)}),e.$watch("actions.emailOthers",function(e,t){if(e!==t){var n=u(e,0,h.stepEventAction.emailOthers);e&&(n.employeeIds=[])}}),e.$watch("actions.emailIds.length",function(e,t){e!==t&&d(0,"emailIds")}),e.$watch("step._stepParticipant",function(t,n){t&&t!==n&&(l.updatePermissions({steps:v._steps,currentStep:e.step,newStepParticipant:t,oldStepParticipant:n}),e.step._permissions[0].participantType=t.participantType,e.step._permissions[0].employeeId=t.employeeIds.length?t.employeeIds[0]:"")},!0),function(){null==b._stepParticipant.participantType?h.buttonLabel="Please Select":h.buttonLabel=t.stepParticipantType.byValue(b._stepParticipant.participantType),b._stepParticipant.employeeIds.length&&m(b._stepParticipant.employeeIds[0]).then(function(e){g=angular.copy(e.id),h.specificParticipant.push(e)}).catch(function(e){c.error("there was an error retrieving the step participant name","")}),p()}(),e.$watch("vm.specificParticipant",function(e,t){if(e.length&&e!==t){if(g&&e[0].id===g)return void(g=null);s&&a.resetValidation(s),b._stepParticipant.employeeIds=h.specificParticipant.map(function(e){return e.id})}})}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){s=angular.element(document.getElementById("step-participant-search"))})}}]),t}(c.Component);angular.module("ec-forms-components").directive("cmpPropertiesProfileReview",function(){return new u(p,"properties-profile-review")})},{"base-component":64}],36:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","ssMultiInitiativeFeatureDetectorCCSvc","ssValidationHlp",function(e,t,n,r){var i=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={canEdit:!0});e.actionableFields=e.fields.filter(function(e){return null!=e._fieldDefId}),e.validator={label:r.string({maxLength:30})};e.go={};i.canEdit=e.actionableFields.every(function(e){return e._fieldType&&!e._fieldType.includes("read")}),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSalary",function(){return new c(l,"properties-salary")})},{"base-component":64}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n){var r=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),i=null,a=e.vm={fields:e.fields,canEdit:!0,propertyName:null,tableAlignmentOptions:[{name:"Center",value:"center"},{name:"Left",value:"left"},{name:"Right",value:"right"}],isTableView:!1};e.validator={label:t.string({maxLength:25}),width:t.numeric({min:10,max:100,required:!0})},e.$watch("vm.fields[0].config.tableConfig.view",function(e){a.isTableView=r.featureFlags.fc_enable_form_tables&&"true"===e,a.propertyName="true"===e?"_tableViewChecked":"_active"}),e.$watch("vm.fields[0].config.tableConfig.width",function(e){e=e<10?10:e>100?100:e,a.fields[0].config.tableConfig.width=e});e.go={hideInstructions:function(e){return"instructions"!=e._fieldType},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},isVisible:function(e){var t=!1;return"readOnlyHeading"!=e._fieldType&&"readOnlySubheading"!=e._fieldType||(t=!a.fields[0].config.tableConfig||"true"!==a.fields[0].config.tableConfig.view||!e.config||!1!==e.config.tableView),t},dragDropProperties:function(e,t,n){e===i||i-1===e?n.splice(i,1):e>i?(n.splice(i,1,n[i+1]),n.splice(i+1,1,n[e+2]),n.splice(e+2,1)):(n.splice(e+1,1),n[i-1]=n[i],n[i]=t)},dropField:function(e){return 0!==e&&(i=e,{})},sortOrder:function(e){return!a.isTableView&&e.config.defaultOrder},swapTable:function(){a.fields[0].config.tableConfig.isSwapped=!a.fields[0].config.tableConfig.isSwapped}};a.canEdit=e.fields.some(function(e){return e._fieldType&&!e._fieldType.includes("read")})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSecondaryAssignments",function(){return new c(l,"properties-secondary-assignments")})},{"base-component":64}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={form:"=",fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp",function(e,t){var n=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.vm={hasSensitiveFields:e.fields.some(function(e){return e._sensitive}),canEdit:!0});e.actionableFields=e.fields.filter(function(e){return null!=e._fieldDefId}),e.validator={label:t.string({maxLength:30})};e.go={switchFieldTypes:function(t){var n=t?"edit":"view";e.fields[0]._fieldType=t?"heading":"readOnlyHeading",e.actionableFields.forEach(function(e){e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit&&(e._fieldType=e._fieldTypeOptions[n]),t||(e._required=!1)})}};n.canEdit=e.actionableFields.every(function(e){return e._fieldType&&!e._fieldType.includes("read")}),n.canToggleFieldTypes=function(){return e.actionableFields.every(function(e){return e._fieldTypeOptions&&e._fieldTypeOptions.view&&e._fieldTypeOptions.edit})}(),null==e.fields[0]._active&&(e.fields[0]._active=!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSmart",function(){return new c(l,"properties-smart")})},{"base-component":64}],39:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","enumStepParticipantType","ssModalSvc","ssEnum","formsHlp",function(e,t,n,i,a,o,s){function l(){return!!e.step.fieldGroups.length&&e.step.fieldGroups.reduce(function(e,t){return[].concat(r(e),r(t))},e.step.fieldGroups[0]).some(function(e){return 1==e._sensitive||Array.isArray(e._tokenFields)&&!!e._tokenFields.find(function(e){return e.sensitive})})}function c(e){e._permissions.forEach(function(e){null==e.participantType?e.display="select participant":e.participantType===i.specificPerson?e.emp?e.display=e.emp.fullName:e.employeeId.length?t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.display="loading participant...",t.next=4,n.get({id:e.employeeId,fields:"firstname,lastname"},"",!1);case 4:e.emp=t.sent,e.display=e.emp.fullName,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))():e.display="select participant":e.display=i.byValue(e.participantType)})}var p=e.form,u=[];e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.formVm=e.$root.utils.findInParentScope("formVm",e);var d=e.vm={},m=e.go={matchByParticipant:function(e,t){return s.matchByParticipant(e,t)},adjustStepAccess:function(t,n){var r=s.matchByParticipant(n,e.step._stepParticipant);return"canView"!==t||n[t]?"canViewSensitive"!==t||n[t]?"canEdit"===t?void(n[t]?e.formVm.suppressEditAccessModal||r?n.canView=!0:m.showEditModal().then(function(){n[t]=n.canView=!0}).catch(function(e){n[t]=!1,n.canView=!!n.canView}):n.canEditSensitive=!1):void("canEditSensitive"===t&&(e.formVm.suppressEditAccessModal||r||n.canEdit?n.canEdit=n.canViewSensitive=!0:m.showEditModal().then(function(){n.canEdit=n.canViewSensitive=!0}).catch(function(e){n[t]=n.canEdit=!1,n.canViewSensitive=!!n.canViewSensitive}))):void(n.canEditSensitive=!1):(n.canEdit=!1,n.canViewSensitive=!1,void(n.canEditSensitive=!1))},showEditModal:function(){var t={title:"Edit Step Access",content:"This form participant will have the ability to modify this form step only after it has been submitted by the primary participant.",primaryText:"Ok",secondaryText:"cancel",showSuppress:!0,alwaysOnTop:!0};return a.showStandard(t).then(function(t){e.formVm.suppressEditAccessModal=t.suppressTheModal}).catch(function(t){throw e.formVm.suppressEditAccessModal=t.suppressTheModal,"cancel"})}};!function(){if(e.step._permissions&&e.step._permissions.length){u.forEach(function(e){return e()});for(var t=0;t<e.step._permissions.length;t++)u.push(e.$watchGroup(["step._permissions["+t+"].canView","step._permissions["+t+"].canEdit","step._permissions["+t+"].canViewSensitive","step._permissions["+t+"].canEditSensitive"],function(t,n){null!=t&&angular.equals(t,n)||(e.step._permissions=e.step._permissions.slice())}))}}(),e.$watchCollection("step.fieldGroups",function(e,t){d.hasSensitiveFields=l()}),e.$watch("formVm.saving",function(t,n){null==t||angular.equals(t,n)||!1===t&&!0===n&&c(e.step)}),e.$watch("form._steps.length",function(t,n){angular.equals(t,n)||t&&t<n&&(s.updatePermissions({steps:p._steps,currentStep:e.step}),c(e.step))}),e.$watch("step._stepParticipant",function(t,n){angular.equals(t,n)||(c(e.step),t._participantType&&t._participantType===n._participantType&&t.employeeIds[0]===n.employeeIds[0]||(s.updatePermissions({steps:p._steps,currentStep:e.step,newStepParticipant:t,oldStepParticipant:n}),c(e.step)))},!0)}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStepPermissions",function(){return new p(c,"properties-step-permissions")})},{"base-component":64}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",step:"="},p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"controller",value:["$scope","ssEnum","ssAsync","ssEmployeeApi","ssValidateHlp","ssValidationHlp","ssToastHlp",function(e,t,n,r,i,a,s){function l(e){null!=e&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.get({id:e,fields:"firstName,lastName"},"",!1);case 3:n=t.sent,u.specificParticipant.push(n),c=angular.copy(n.id),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}))()}var c,p=e.step,u=e.vm={specificParticipant:[],stepActions:[],stepParticipant:t.stepParticipantType,validator:{required:a.required()}};u.stepActions=t.stepAction.getEnums().filter(function(e){return e.value!==t.stepAction.formCompleted&&e.value!==t.stepAction.employeeProfileReview});e.go={selectParticipant:function(e){u.buttonLabel=e.name,p._stepParticipant.participantType=e.value,p._stepParticipant.employeeIds=u.specificParticipant=[]}};!function(){null==p._stepParticipant.participantType?u.buttonLabel="Please Select":u.buttonLabel=t.stepParticipantType.byValue(p._stepParticipant.participantType),p._stepParticipant.employeeIds.length&&l(p._stepParticipant.employeeIds[0])}(),e.$on("$destroy",e.$watch("vm.specificParticipant",function(e,t){if(e.length){if(c&&e[0].id===c)return void(c=null);i.resetValidation(o),p._stepParticipant.employeeIds=u.specificParticipant.map(function(e){return e.id})}}))}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){o=angular.element(document.getElementById("step-participant-search"))})}}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpPropertiesStep",function(){return new p(c,"properties-step")})},{"base-component":64}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={fields:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssValidationHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n){var r=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),i=null,a=e.vm={fields:e.fields,canEdit:!0,propertyName:null,tableAlignmentOptions:[{name:"Center",value:"center"},{name:"Left",value:"left"},{name:"Right",value:"right"}],isTableView:!1};e.validator={label:t.string({maxLength:25}),width:t.numeric({min:10,max:100,required:!0})},e.$watch("vm.fields[0].config.tableConfig.view",function(e){a.isTableView=r.featureFlags.fc_enable_form_tables&&"true"===e,a.propertyName="true"===e?"_tableViewChecked":"_active"}),e.$watch("vm.fields[0].config.tableConfig.width",function(e){e=e<10?10:e>100?100:e,a.fields[0].config.tableConfig.width=e});e.go={hideInstructions:function(e){return"instructions"!=e._fieldType},checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},dragDropProperties:function(e,t,n){e===i||i-1===e?n.splice(i,1):e>i?(n.splice(i,1,n[i+1]),n.splice(i+1,1,n[e+2]),n.splice(e+2,1)):(n.splice(e+1,1),n[i-1]=n[i],n[i]=t)},dropField:function(e){return 0!==e&&(i=e,{})},sortOrder:function(e){return!a.isTableView&&e.config.defaultOrder},swapTable:function(){a.fields[0].config.tableConfig.isSwapped=!a.fields[0].config.tableConfig.isSwapped}};a.canEdit=e.fields.some(function(e){return e._fieldType&&!e._fieldType.includes("read")})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesSupplementals",function(){return new c(l,"properties-supplementals")})},{"base-component":64}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={text:"@"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){var t=e.vm={test:"testing..."};e.go={click:function(n){t.test=e.text}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpPropertiesTextEditor",function(){return new c(l,"properties-text-editor")})},{"base-component":64}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formfieldvalues:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","fieldRendererHlp",function(e,t,n){var r=e.field,i=e.formfieldvalues;n.bindConfigObject(e,"field._configJson","field.config"),e.$watch(n.getVisibility(r),function(e){return a.visibility=e});var a=e.vm={formfieldvalues:i};e.go={checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},sortOrder:function(e){if(e.config)return e.config.defaultOrder},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSecondaryAssignment",function(){return new c(l,"secondary-assignment")})},{"base-component":64}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n){var r=e.field,i=e.vm={};r.step&&(i.formFieldValues=r.step.formFieldValues[r.id]?r.step.formFieldValues[r.id]:"");e.go={showGroupLabel:function(){return!r.step||i.formFieldValues.length},sortOrder:function(e){if(e.config)return e.config.defaultOrder},showTemplate:function(){return e.field.config.tableConfig?!i.formFieldValues&&"false"===e.field.config.tableConfig.view:!i.formFieldValues},showInstance:function(){return e.field.config.tableConfig?i.formFieldValues&&"false"===e.field.config.tableConfig.view:i.formFieldValues},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSecondaryAssignments",function(){return new c(l,"secondary-assignments")})},{"base-component":64}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.vm={},e.go={selectOption:function(e,n){t.emit("pvb.select-option",e,n)},isSelected:function(t,n){return e.routeVm.selectedBox.formFieldGuids[0]===t.id&&e.routeVm.selectedBox.matchValue===n},numerateLabel:function(e,t){var n="",r=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return r.length>1&&(n=r.indexOf(e)>0?"("+(r.indexOf(e)+1)+")":n),n?e.resolvedLabel+" "+n:e.resolvedLabel},showGroup:function(e){return!e.fields.every(function(e){return 0===e._options.length})},filterMigratedRaceOption:function(t){return!e.routeVm.featureFlags.fc_enable_multiple_races||"Hispanic or Latino or Spanish Origin of any race"!==t}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepCheckboxDisplay",function(){return new c(l,"step-checkbox-display")})},{"base-component":64}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.vm={test:"testing..."},e.go={selectOption:function(e,n){t.emit("pvb.select-option",e)},numerateLabel:function(e,t){var n="",r=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return r.length>1&&(n=r.indexOf(e)>0?"("+(r.indexOf(e)+1)+")":n),n?e.resolvedLabel+" "+n:e.resolvedLabel}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepDateDisplay",function(){return new c(l,"step-date-display")})},{"base-component":64}],47:[function(e,t,n){"use strict";function r(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",stepIndex:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssAsync","ssEmployeeApi","ssModalSvc","ssEventSvc","enumStepParticipantType","fieldsHlp","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t,n,r,i,a,o,s){function l(e){e[0]._fieldGroup&&e[0]._fieldGroup.length&&(u.added[e[0]._fieldGroup]=!1)}function c(e){var t=!0;return e._featureFlags&&e._featureFlags.length&&(t=e._featureFlags.every(function(e){return u.featureFlags[e.name]===e.showIfActive})),t}var p=e.formVm=e.$root.utils.findInParentScope("formVm",e),u=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),d=p.formData,m=(e.step,null),f=e.vm={stepParticipant:a,participantLabel:""};e.$watch("stepIndex",function(e,t){f.stepIndex=parseInt(e,10)}),e.$watch("step._stepParticipant",function(e,r){e&&(e.participantType===a.specificPerson?e.employeeIds&&e.employeeIds.length&&t(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.get({id:e.employeeIds[0],fields:"firstName,lastName"});case 2:return r=t.sent,f.participantLabel=r._firstName+" "+r._lastName,t.abrupt("return");case 5:case"end":return t.stop()}},t,this)}))():e.participantType||0===e.participantType?f.participantLabel=f.stepParticipant.byValue(e.participantType):f.participantLabel="select participant")},!0);e.go={fieldGroupSettings:function(t,n){t.stopPropagation(),u.vm.selectedFormObject=n;var r=n[0].config||JSON.parse(n[0]._configJson);e.$emit("component-properties",r.cmp,n)},dropFieldGroup:function(t,n,r,i,a){if("fieldGroup"===i)return r;var s;return s=o.getFields(r.fields,r.component),s=s.filter(function(e){var t=JSON.parse(e._configJson);return t.fields&&(t.fields=t.fields.filter(function(e){return c(e)}),e._configJson=JSON.stringify(t)),c(e)}),u.added[r.fields]=!r.allowMultiple,e.$emit("component-properties",r.component,s),u.vm.selectedFormObject=s,p.formData.$$forceChangedState("_ownerVersionNumber"),p.modelChanged(),s},movedFieldGroup:function(e,t,n){0===n.fieldGroups.length&&(e=0),m={index:e,step:n},m.step.fieldGroups[m.index]=t.filter(function(e){return!0}),n.fieldGroups.splice(e,1),p.formData.$$forceChangedState("_ownerVersionNumber"),p.modelChanged()},removeFieldGroup:function(e,t){l(e),t.fieldGroups.splice(t.fieldGroups.indexOf(e),1),p.updateFormFields(),i.emit("emp-record-commit",!1,e),p.modelChanged()},removeStep:function(t,n,a){t.stopPropagation();var o=void 0,s=void 0;if(e.step.fieldGroups.forEach(l),o=a.indexOf(u.vm.selectedFormObject)>n?a.indexOf(u.vm.selectedFormObject)-1:n-1<0?0:n-1,null==e.step.fieldGroups||0===e.step.fieldGroups.length)s=a.splice(n,1)[0],d._steps.splice(d._steps.indexOf(s),1),e.$emit("component-properties","cmp-properties-step",a[o]),u.vm.selectedFormObject=a[o];else{var c={title:"Remove Step",content:"Removing this step will also remove any fields that are assigned to it.",primaryText:"Remove Step",secondaryText:"Cancel",alwaysOnTop:!0};r.showDestructive(c).then(function(){s=a.splice(n,1)[0],d._steps.splice(d._steps.indexOf(s),1),e.$emit("component-properties","cmp-properties-step",a[o]),u.vm.selectedFormObject=a[o]})}e.step.fieldGroups.forEach(function(e){i.emit("emp-record-commit",!1,e)}),p.modelChanged()},isTableViewField:function(e){if(e._configJson)return"true"===JSON.parse(e._configJson).tableView||"false"===JSON.parse(e._configJson).tableView},isTableViewEnable:function(e){return"true"===JSON.parse(e[0]._configJson).tableView},sortOrder:function(e){if(e._configJson)return e.config=e.config||JSON.parse(e._configJson),e.config.defaultOrder}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepRenderer",function(){return new c(l,"step-renderer")})},{"base-component":64}],48:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={step:"=",onLoad:"&?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssEventSvc","fieldsHlp",function(e,t,n){e.vm={},e.go={selectField:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.emit("pvb.select-field",e,n)},filterUnmappable:function(e){return null==e.config.mappable||!0===e.config.mappable},numerateLabel:function(e,t,n){var r="",i=t.filter(function(t){return e.resolvedLabel===t._label||e.resolvedLabel===t.config.uniqueLabel});return i.length>1&&(r=i.indexOf(e)>0?"("+(i.indexOf(e)+1)+")":r),null!=n?e.resolvedLabel+" - "+n.label:r?e.resolvedLabel+" "+r:e.resolvedLabel}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpStepTextDisplay",function(){return new c(l,"step-text-display")})},{"base-component":64}],49:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formfieldvalues:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","fieldRendererHlp",function(e,t,n){var r=e.field,i=e.formfieldvalues;n.bindConfigObject(e,"field._configJson","field.config"),e.$watch(n.getVisibility(r),function(e){return a.visibility=e});var a=e.vm={formfieldvalues:i};e.go={checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"instructions":return!1;default:return!0}},sortOrder:function(e){if(e.config)return e.config.defaultOrder},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSupplemental",function(){return new c(l,"supplemental")})},{"base-component":64}],50:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",model:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state",function(e,t){var n=e.field,r=e.vm={formFieldValues:null};n.step&&(r.formFieldValues=n.step.formFieldValues[n.id]?n.step.formFieldValues[n.id]:"");e.go={showGroupLabel:function(){return!n.step||r.formFieldValues.length},sortOrder:function(e){if(e.config)return e.config.defaultOrder},showTemplate:function(){return e.field.config.tableConfig?null==r.formFieldValues&&"false"===e.field.config.tableConfig.view:null==r.formFieldValues},showInstance:function(){return e.field.config.tableConfig?r.formFieldValues&&"false"===e.field.config.tableConfig.view:r.formFieldValues},checkIfInFormBuilder:function(){return"base.formBuilder.builder"===t.current.name}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpSupplementals",function(){return new c(l,"supplementals")})},{"base-component":64}],51:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",formFieldValues:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope",function(e){function t(e){switch(e){case"center":return{margin:"auto"};case"left":return{"margin-right":"auto"};case"right":return{"margin-left":"auto"};default:return{}}}var n=e.vm={tableWidth:null,tableAlignment:null,propertyName:null};e.$watch("field.config.tableConfig.view",function(t){if("false"!==t){var r=e.field.config.tableConfig.width;e.field.config.tableConfig.width=r<10?10:r>100?100:r}n.propertyName="true"===t?"_tableViewChecked":"_active"}),e.$watch("field.config.tableConfig.width",function(e){e<=100&&e>=10&&(n.tableWidth=e+"%")}),e.$watch("field.config.tableConfig.alignment",function(e){n.tableAlignment=t(e)});e.go={checkIfHeadingOrInstructions:function(e){switch(e._fieldType){case"readOnlyHeading":case"readOnlySubheading":case"heading":case"instructions":return!1;default:return!0}},getTableStyles:function(){var e={width:n.tableWidth};return e=Object.assign(e,n.tableAlignment)},checkTableSwapView:function(){return e.field.config.tableConfig.isSwapped},getFieldValue:function(e,t){var n=e[t._formFieldValueProperty]||e[t.formFieldValueProperty];return"IsVerified"===t.formFieldValueProperty?n=n?"Verified":"":"ExpirationDay"===t.formFieldValueProperty&&(n="9999-12-31"!==n?n:"Lifetime"),n||("readOnlyDate"==t._fieldType?"--/--/--":"--")}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTableView",function(){return new c(l,"table-view")})},{"base-component":64}],52:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={field:"=",group:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$filter","fieldsHlp","fieldRendererHlp",function(e,t,n,r){function i(t){if(t.config){var n=r.getTag(t),i=r.getProperties(t,o),a=r.getContent(t,{scope:e.$root});l.template="<"+n+i+">"+a+"</"+n+">"}}var a=e.field,o=e.group,s=(e.routeVm=e.$root.utils.findInParentScope("routeVm",e),n.getValidator(e.field._fieldType));r.bindConfigObject(e,"field._configJson","field.config");var l=e.vm={template:"",style:{}};e.go={validate:function(e){if("function"==typeof s){var t=s.call(null,e);return t||!0}return!0}};a.config&&a.config.width&&(l.style.width=a.config.width,e.$watch("field.config.width",function(e){return l.style.width=e})),a.ignoreValidations=!0,a.disabled=!0,e.$watch("field._fieldType",function(){return i(a)}),e.$watch("field._label",function(){return i(a)}),e.$watch(r.getVisibility(a),function(e){return l.visibility=e})}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateFieldRenderer",function(){return new c(l,"template-field-renderer")})},{"base-component":64}],53:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"=",org:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","$location","buildConfig","ssAsync","ssActiveUserSvc","ssModalSvc","ssFormTemplatesApi","ssStatusApi","enumFormTemplateStatus","enumFormAdministratorType","ssFormInstancesApi","ssArrayHlp","ssToastHlp","ssEventSvc","ssObjectHlp","ssSleepHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g,b){var v=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),y=r.sharedFormsOrg,h=g.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1),_={type:"FormTemplate",attributes:[{dueDateUtc:null,formTemplate:{formTemplateId:""},employee:{employeeId:""}}]},w=e.vm={pendingMessage:"",showShare:!1};e.go={delete:function(e){var t={title:"Delete Form Template",content:"Once deleted, this form template will be removed and cannot be retrieved.",primaryText:"Delete Template",secondaryText:"Cancel",alwaysOnTop:!0};o.showDestructive(t).then(function(){e.isPending=!0,w.pendingMessage='Deleting "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$remove();case 3:return t.next=5,b.sleep();case 5:return t.next=7,v.fetchTemplateObjects({currentOffset:0});case 7:m.success('"'+e._name+'" has been deleted',""),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,w.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()})},sendToSelf:i(regeneratorRuntime.mark(function e(n){var r,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isPending=!0,w.pendingMessage='Initiating "'+n._name+'"',r=null,e.next=5,a.getIdentityByType("employee");case 5:if(i=e.sent,e.prev=6,n._formAdministrator.formAdministratorType!==p.formPacketSender){e.next=9;break}throw"An Employee-Initiated form cannot be started by an employee who is also assigned as the Form Administrator.";case 9:return o=angular.copy(_),o.attributes[0].formTemplate.formTemplateId=n.id,o.attributes[0].employee.employeeId=i,e.next=14,u.send(o,{isemployeeinitiated:!0});case 14:s=e.sent,i===s[0].currentStep._stepParticipant.employeeIds[0]?t.go("base.formInstance",{formInstanceId:s[0].id,returnUrl:"/ec-forms/my-forms?activeTab=current"}):m.success('"'+s[0].name+'" has been sent',"Form Sent",!1),n.isPending=!1,w.pendingMessage="",e.next=25;break;case 20:e.prev=20,e.t0=e.catch(6),m.error(e.t0,"Error",!1),n.isPending=!1,w.pendingMessage="";case 25:case"end":return e.stop()}},e,this,[[6,20]])})),send:function(e){t.go("base.send",{id:e.id,type:"formTemplate"})},preview:function(e){t.go("base.formBuilder.preview",{formId:e.id,returnTo:t.current.name})},edit:function(e){if("active"===e.status){var n={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel",alwaysOnTop:!0};o.showStandard(n).then(function(){e.isPending=!0,w.pendingMessage='Deactivating "'+e._name+'"',s.editActive(e).then(function(e){t.go("base.formBuilder.builder",{formId:e.id})}).catch(function(e){m.error("There was an error deactivating the form template","")})})}else t.go("base.formBuilder.builder",{formId:e.id})},copy:function(e){e.isPending=!0,w.pendingMessage="Copying "+e._name,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.copy({id:e.id});case 3:return n=t.sent,t.next=6,b.sleep();case 6:return t.next=8,v.fetchTemplateObjects({currentOffset:0});case 8:d.findWhere(v.displayTemplates,{id:n.id}).isHighlighted=!0,m.success("",n._name+" created"),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.prev=14,e.isPending=!1,w.pendingMessage=null,t.finish(14);case 18:case"end":return t.stop()}},t,this,[[0,12,14,18]])}))()},archive:function(e){var t={title:"Archive Form Template",content:e._name+" will not be deleted, but will be removed from this list.",primaryText:"Archive Template",secondaryText:"Cancel",alwaysOnTop:!0};o.showDestructive(t).then(function(){e.isPending=!0,w.pendingMessage='Archiving "'+e._name+'"',i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.update({id:e.id},{statusId:c.archived,from:(new Date).toISOString()});case 3:return t.next=5,b.sleep();case 5:return t.next=7,v.fetchTemplateObjects({currentOffset:0});case 7:m.success("",'"'+e._name+'" has been archived'),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.prev=12,e.isPending=!1,w.pendingMessage=null,t.finish(12);case 16:case"end":return t.stop()}},t,this,[[0,10,12,16]])}))()})},deactivate:function(e){var t={title:"Deactivate Form Template",content:"Deactivating this template will disable it from being sent.",primaryText:"Deactivate",secondaryText:"Cancel",alwaysOnTop:!0};o.showDestructive(t).then(function(){v.loading=!0,v.loadingMessage='Deactivating "'+e._name+'"',s.editActive(e).then(function(e){b.sleep().then(function(){v.fetchTemplateObjects({currentOffset:0}).then(function(){v.loading=!1,v.loadingMessage=null}).catch(function(e){m.error("There was a problem fetching the form templates","")})})}).catch(function(t){m.error('There was a problem deactivating "'+e._name+'"',"")})})},canShare:function(t){return h&&"active"===t.status&&e.org.id===y},share:function(){w.showShare=!0}};f.on("fl-share-form-cancel",function(){w.showShare=!1},e)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateListForm",function(){return new c(l,"template-list-form")})},{"base-component":64}],54:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={template:"="},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$state","$location","ssAsync","ssPacketsApi","ssModalSvc","ssFormTemplatesApi","ssToastHlp",function(e,t,n,r,i,a,o,s){var l=e.routeVm=e.$root.utils.findInParentScope("routeVm",e);e.go={send:function(e){t.go("base.send",{id:e.id,type:"Packet"})},toggleDetails:function(e){e.detailsOpen||e.contents||(e.loading=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get({id:e.id});case 3:return e.contents=t.sent,n=e.contents._formTemplateIds,t.next=7,n.map(function(e){return o.get({include:"steps,statusHistory",id:e})});case 7:e.contents.forms=t.sent,e.contents.forms.forEach(l.extendCommonProps),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}},t,this,[[0,11,13,16]])}))()),e.detailsOpen=!e.detailsOpen},editPacket:function(e){var t="/ec-forms/packet-builder/"+e.id+"/builder";n.url(t)},editForm:function(e){if("active"===e.status){var r={title:"Edit Form Template",content:"Editing will deactivate and disable it from being sent until it has been reactivated. Prior recipients will not receive changes made.",primaryText:"Edit Template",secondaryText:"Cancel",alwaysOnTop:!0};a.showStandard(r).then(function(){e.isPending=!0,e.pendingMessage='Deactivating "'+e._name+'"',o.editActive(e).then(function(e){t.go("base.formBuilder.builder",{formId:e.id})}).catch(function(e){s.error("There was an error deactivating the form template","")})})}else{var i="/ec-forms/form-builder/"+e.id+"/builder";n.url(i)}},preview:function(e){t.go("base.formBuilder.preview",{formId:e.id,returnTo:t.current.name})}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTemplateListPacket",function(){return new c(l,"template-list-packet")})},{"base-component":64}],55:[function(e,t,n){"use strict";function r(){return{contentCss:"/text-editor.styl",copyFormatting_allowedContexts:["text"],disallowedContent:"script",disableNativeTableHandles:!1,div_wrapTable:!0,extraPlugins:"autocomplete,textmatch,richcombo,placeholder,placeholder_select,sharedspace,justify,preview,autogrow,format",removeButtons:"Anchor,Source,SpecialChar,HorizontalRule,Maximize",removeDialogTabs:"link:advanced;image:advanced;image:Upload;image:Link;link:upload",toolbar:[{name:"basicstyles",groups:["basicstyles","cleanup"],items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",groups:["list","indent","align"],items:["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},"/",{name:"others",items:["placeholder_select"]},{name:"links",items:["Link","Unlink"]},{name:"insert",groups:["insert"],items:["Table","HorizontalRule","Image"]},{name:"styles",items:["Format","FontSize","TextColor"]}],startupFocus:"start",uiColor:"#e5e9ec",filebrowserBrowseUrl:origin+"/ec-forms/ck-finder?type=Files",filebrowserImageBrowseUrl:origin+"/ec-forms/ck-finder?type=Images",filebrowserUploadUrl:buildConfig.endpoint.formTemplates+"/ckfinder/connector?command=QuickUpload&type=Files&responseType=json",filebrowserImageUploadUrl:buildConfig.endpoint.formTemplates+"/ckfinder/connector?command=QuickUpload&type=Images&responseType=json"}}Object.defineProperty(n,"__esModule",{value:!0}),n.getConfig=r},{}],56:[function(e,t,n){"use strict";function r(){return[{title:"Prefix",value:"Employee.Title"},{title:"First Name",value:"Employee.FirstName"},{title:"Middle Name",value:"Employee.MiddleName"},{title:"Last Name",value:"Employee.LastName"},{title:"Suffix",value:"Employee.Suffix"},{title:"Preferred Name",value:"Employee.PreferredName",featureFlag:{name:"fc_apr_2021_enable_preferred_staff_member_name",showIfActive:!0}},{title:"State Educator ID",value:"Employee.StateEducatorId"},{title:"Other First Name",value:"Employee.AliasFirstName"},{title:"Other Middle Name",value:"Employee.AliasMiddleName"},{title:"Other Last Name",value:"Employee.AliasLastName"},{title:"Address Line 1",value:"Employee.Addresses.Primary.Street1"},{title:"Address Line 2",value:"Employee.Addresses.Primary.Street2"},{title:"City",value:"Employee.Addresses.Primary.City"},{title:"State",value:"Employee.Addresses.Primary.State"},{title:"Zip Code",value:"Employee.Addresses.Primary.Zip"},{title:"Organization Phone Number",value:"Employee.PhoneNumbers.Work.Number"},{title:"Organization Extension",value:"Employee.PhoneNumbers.Work.Extension"},{title:"Personal Phone Number",value:"Employee.PhoneNumbers.Personal.Number"},{title:"Personal Extension",value:"Employee.PhoneNumbers.Personal.Extension",featureFlag:{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!0}},{title:"Other Phone Number",value:"Employee.PhoneNumbers.Other.Number",featureFlag:{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!1}},{title:"Organization Email Address",value:"Employee.Emails.Work.EmailAddress"},{title:"Personal Email Address",value:"Employee.Emails.Personal.EmailAddress"},{title:"Birth Date",value:"Employee.BirthDateUtc"},{title:"SSN",value:"Employee.SSN"},{title:"External ID",value:"Employee.ExternalId"},{title:"Marital Status",value:"Employee.MaritalStatus"},{title:"Gender",value:"Employee.Gender"},{title:"Ethnicity",value:"Employee.Ethnicity"},{title:"Race",value:"Employee.Race",featureFlag:{name:"fc_enable_multiple_races",showIfActive:!1}},{title:"Race",value:"Employee.MultipleRaces",featureFlag:{name:"fc_enable_multiple_races",showIfActive:!0}},{title:"Hire Date",value:"Employee.HireDate"},{title:"Seniority Date",value:"Employee.SeniorityDate"},{title:"Work Relationship",value:"Employee.WorkRelationship",featureFlag:{name:"fc_work_relationships",showIfActive:!0}},{title:"Staff Type",value:"Employee.StaffType",featureFlag:{name:"fc_work_relationships",showIfActive:!0}},{title:"Tenure Date",value:"Employee.TenureDate"},{title:"Supervisor First Name",value:"Employee.Supervisor.FirstName"},{title:"Supervisor Middle Name",value:"Employee.Supervisor.MiddleName"},{title:"Supervisor Last Name",value:"Employee.Supervisor.LastName"},{title:"Supervisor Start Date",value:"Employee.Supervisor.StartDate"},{title:"Supervisor End Date",value:"Employee.Supervisor.EndDate"},{title:"Supervisor External ID",value:"Employee.Supervisor.ExternalId"},{title:"Primary Assignment - Start Date",value:"Employee.Assignments.Primary.StartDateTimeUTC"},{title:"Primary Assignment - End Date",value:"Employee.Assignments.Primary.EndDateTimeUTC"},{title:"Primary Assignment - Employment Group",value:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Job Type",value:"Employee.Assignments.Primary.JobType.Name"},{title:"Primary Assignment - Position Name",value:"Employee.Assignments.Primary.Name"},{title:"Primary Assignment - Location",value:"Employee.Assignments.Primary.Location.Name"},{title:"Primary Assignment - Department",value:"Employee.Assignments.Primary.Department.Name"},{title:"Primary Assignment - Contract Group",value:"Employee.Assignments.Primary.ContractGroup.Name",featureFlag:{name:"fc_enable_contract_groups",showIfActive:!0}},{title:"Primary Assignment - Contract Group Type",value:"Employee.Assignments.Primary.ContractGroup.Type",featureFlag:{name:"fc_enable_contract_groups",showIfActive:!0}},{title:"Primary Assignment - External ID",value:"Employee.Assignments.Primary.ExternalId"},{title:"Primary Assignment - FTE",value:"Employee.Assignments.Primary.FTE",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Hours Per Day",value:"Employee.Assignments.Primary.HoursPerDay",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Days Per Year",value:"Employee.Assignments.Primary.WorkDays",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Pay Schedule",value:"Employee.Assignments.Primary.PaySchedule.Name",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Pay Lane",value:"Employee.Assignments.Primary.PayLane.Name",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Pay Step",value:"Employee.Assignments.Primary.PayStep.Name",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - # Pays Per Year",value:"Employee.Assignments.Primary.PayPeriodsPerYear",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Pay Per Period",value:"Employee.Assignments.Primary.PayPerPeriod",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Salary",value:"Employee.Assignments.Primary.Salary",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Sick Days Per Year",value:"Employee.Assignments.Primary.SickDaysPerSchoolYear",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Personal Days Per Year",value:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Vacation Days Per Year",value:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Paid Holidays Per Year",value:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Primary Assignment - Retirement System",value:"Employee.Assignments.Primary.RetirementSystem.Name",
featureFlag:{name:"isHRMSEnabled",showIfActive:!1}},{title:"Emergency Contact - Name",value:"Employee.EmergencyContacts.Primary.ContactName"},{title:"Emergency Contact - Relationship",value:"Employee.EmergencyContacts.Primary.RelationshipType"},{title:"Emergency Contact - Phone",value:"Employee.EmergencyContacts.Primary.PrimaryPhone"},{title:"Emergency Contact - Alternate Phone",value:"Employee.EmergencyContacts.Primary.AlternatePhone"},{title:"Secondary Contact - Name",value:"Employee.EmergencyContacts.Secondary.ContactName"},{title:"Secondary Contact - Relationship",value:"Employee.EmergencyContacts.Secondary.RelationshipType"},{title:"Secondary Contact - Phone",value:"Employee.EmergencyContacts.Secondary.PrimaryPhone"},{title:"Secondary Contact - Alternate Phone",value:"Employee.EmergencyContacts.Secondary.AlternatePhone"}].map(function(e,t){var n=Object.assign(e,{id:t+1});return n.name=n.title.toLowerCase().replace("/s/g",""),n})}Object.defineProperty(n,"__esModule",{value:!0}),n.getPlaceholders=r},{}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={name:"placeholder_select",definition:{requires:["richcombo"],init:function(e){for(var t=[],n={format:"[[%placeholder%]]",placeholders:[]},r=CKEDITOR.tools.extend(n,e.config.placeholder_select||{},!0),i=0;i<r.placeholders.length;i++){var a=r.format.replace("%placeholder%",r.placeholders[i].value);t.push([a,r.placeholders[i].title])}e.ui.addRichCombo("placeholder_select",{label:"Insert placeholder",title:"Insert placeholder",voiceLabel:"Insert placeholder",className:"cke_format",multiSelect:!1,panel:{css:[e.config.contentsCss,CKEDITOR.skin.getPath("editor")],voiceLabel:e.lang.panelVoiceLabel},init:function(){this.startGroup("Insert placeholder");for(var e in t)this.add(t[e][0],t[e][1],t[e][1])},onClick:function(t){e.focus(),e.fire("saveSnapshot"),e.insertHtml(t),e.fire("saveSnapshot")}})}}};n.PLUGIN_DEF=r},{}],58:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n,o){return new(function(l){function u(){return r(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return a(u,l),s(u,[{key:"controller",value:["$scope","$sce",function(t,n){function r(){return(0,p.getPlaceholders)().filter(function(e){return!e.featureFlag||t.featureFlags[e.featureFlag.name]===e.featureFlag.showIfActive})}t.vm={contentVal:t.field.step?t.field.step.formFieldValues[t.field.id]:t.field._label,editorId:function(){return"id-"+Math.random().toString(36).substr(2,16)}(),editorConfig:(0,c.getConfig)(),showPlaceholder:!1},t.go={onReady:function(){}};t.featureFlags={isHRMSEnabled:!1,fc_oct_2020_phone_email_type_restriction:!1,fc_apr_2021_enable_preferred_staff_member_name:!1,fc_enable_contract_groups:!1,fc_enable_multiple_races:!1,fc_work_relationships:!1},t.SCE=n,t.editor=null,null==t.field._tokenFields&&(t.field._tokenFields=[]),d.test(e.path())||(t.field._active=!!t.field._label.length,t.field.$$resetChangesDetected()),o.resolveAll(t.featureFlags).then(function(){t.placeholderTokens=r()})}]},{key:"link",value:function(e,r,i,a){function o(){return CKEDITOR.currentInstance&&CKEDITOR.currentInstance.name===e.vm.editorId}function s(){Object.values(CKEDITOR.instances).forEach(function(e){e.destroy(),e=null})}function l(){function t(e){if(e){var t=e.data,n=parseFloat(t.value.replace(/[^\d.-]/g,"")),r=n>=100?"100%":n+"%",i=e.sender.getDialog().getContentElement("advanced","advStyles");i&&i.updateStyle("width",r),r!==e.sender.getValue()&&e.sender.setValue(r)}}function n(e){var n=e.data.name;if("table"===n||"tableProperties"===n){var r=e.data.definition.getContents("info"),i=r.get("txtWidth");i.default="100%",i.title="Enter a number for a value in percent (%).",i.onChange=t}}function r(){e.$apply(function(){a.$setViewValue(e.editor.getData());var t=a.$modelValue.match(w)||[];t.length!==i.length&&(c(t),i=t)})}arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s(),CKEDITOR.disableAutoInline=!0,e.editor=CKEDITOR.inline(f,Object.assign(e.vm.editorConfig,{sharedSpaces:{top:e.vm.editorId+"-top"},placeholder_select:{format:b+"%placeholder%"+v,placeholders:e.placeholderTokens},removePlugins:"floatingspace,maximize,resize"})),"undefined"!=typeof CKFinder?CKFinder.setupCKEditor(e.editor):function(e,t){var n=localStorage["assets.uiModules.ec-forms"]||window.ss.env.manifest["ec-forms"].path.app.replace("/app.js",""),r=t.createElement("script");r.type="text/javascript",r.async=!1,r.src=n+"/ckFinder/ckfinder.js",t.getElementsByTagName("head")[0].appendChild(r),r.onload=function(){CKFinder.setupCKEditor(e)}}(e.editor,window.document),CKEDITOR.on("dialogDefinition",n),a){e.editor.on("instanceReady",function(t){e.editor.setData(a.$viewValue),m(t)});var i=a.$viewValue.toString().match(w)||[];e.editor.on("destroy",function(){var t=e.field._label.length?a.$viewValue:g;angular.element(f).html(e.SCE.trustAsHtml(t)),e.editor=null}),e.editor.on("change",r),a.$render=function(t){e.editor.setData(a.$viewValue)},e.editor.on("drop",function(e){})}}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r=Array.isArray(r)?r:[];var i=t.unique(r).map(function(e){var t=e.replace(/\[\[|\]\]/g,""),r=n.allFields.find(function(e){return e._fieldDefId&&e._externalData&&e._externalData===t});n.updateFieldAttributes(r),n.updateFieldOptions(r),r.tokenField=!0,r.fieldGroup="tokenFields";var i={};return Object.keys(r).forEach(function(e){var t=e;e.startsWith("_")&&(t=e.substr(1),i[t]=r[e])}),i});e.field._tokenFields=i}function p(e){return e.collapsed?CKEDITOR.plugins.textMatch.match(e,u):null}function u(e,t){var n=/\[{2}([A-Za-z]\s*|\])*$/,r=e.slice(0,t).match(n);return r?{start:r.index,end:t}:null}function d(t,n){n(e.placeholderTokens.filter(function(e){var n=t.query.replace(/\[{2}/,""),r=""+n;return new RegExp(r,"gi").test(e.name)}))}function m(e){var t=b+"{value}"+v;new CKEDITOR.plugins.autocomplete(e.editor,{textTestCallback:p,dataCallback:d,itemTemplate:'<li data-id="{id}">{title}</li>',outputTemplate:t}).getHtmlToInsert=function(e){return this.outputTemplate.output(e)}}var f=void 0,g='<div class="no-content-placeholder"><h5>Text Editor</h5><p><b>Click here to add content</b></p>',b="[[",v="]]",y=/[\[\{\|]{2}/.test(b),h=/[\]\}\|]{2}/.test(v),_=b+"(.*?)"+v,w=new RegExp(function(e){if(y&&h)return e.replace(/[\[\]\{\}\|]/g,"\\$&");console.error('token delimiters must match approved format ("[[","]]","{{","}}","||")')}(_),"g");r.ready(function(){f=r[0].querySelector("[contenteditable]"),a=angular.element(f).controller("ngModel"),e.field.id?angular.element(f).html(e.SCE.trustAsHtml(e.vm.contentVal||g)):l()}),r.on("click",function(t){e.$apply(function(){e.field.step||o()||l()})}),e.$watch("model",function(t){angular.element(f).html(e.SCE.trustAsHtml(t))}),e.$on("$destroy",e.$root.$on("component-properties",function(e,t,n){t&&"cmp-properties-text-editor"!==t&&s()})),CKEDITOR.on("instanceReady",function(e){e.editor})}}]),u}(l.Component))(u,"text-editor")}o.$inject=["$location","ssArrayHlp","fieldsHlp","ssMultiInitiativeFeatureDetectorCCSvc"];var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c=e("./ckeditorConfig.js"),p=e("./placeholders.js"),u={field:"=",disabled:"=",model:"="},d=RegExp("/ec-forms/form-builder/[0-9A-Za-z-]+/builder");angular.module("ec-forms-components").directive("cmpTextEditor",o)},{"./ckeditorConfig.js":55,"./placeholders.js":56,"base-component":64}],59:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={label:"@?",labelWeight:"@?",model:"=?",toggleCallback:"=?",selection:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","ssCommonControlHlp",function(e,t){e.labelWeight=t.labelWeight(e.labelWeight,e.label),e.model=e.model?e.model:[];var n=e.vm={active:function(){var t=e.model.findIndex(function(t){return t.value===e.selection});return-1===t?0:t}()};e.go={handleClick:function(t,r){n.active=r,e.toggleCallback(t)}}}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpToggle",function(){return new c(l,"toggle")})},{"base-component":64}],60:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={filterConfig:"=",onFilterChange:"&",hideFilters:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$rootScope","$scope","$state","ssAsync","ssLocationSvc","ssFormTemplatesApi","ssObjectHlp","headerFilterLogicHlp","ssActiveFlagStatusSvc","$filter","ssListSvc","enumWorkRelationshipsType","ssStorage","ssDateByOrgHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m){function f(t){P.formTemplates=[],P.packets=[],a.getFilterTemplates({startDate:t.from.toISOString(),endDate:t.to.toISOString()}).then(function(t){var n=t.map(function(e){return{id:e._templateId||e.id,_name:e._name,_objectType:e._objectType}});P.formTemplates=n.filter(function(e){return"FormTemplate"===e._objectType}),P.packets=n.filter(function(e){return"Packet"===e._objectType}),e.vm.templateFilterOptions=n}).catch(function(e){console.error("ERROR",e)})}function g(){var e=i.getAll();return e=c("orderBy")(e,"_name"),e.find(function(e){return"-1"===e.id})||e.splice(0,0,{_name:"Anywhere",id:"-1",_isActive:!0}),e}function b(){if(!o.glean(t,function(e){return e.filterConfig.dateSent.title},!1))return 1;var e=P.dateSentOptions.find(function(e){return e.title===t.filterConfig.dateSent.title});return-1!==P.dateSentOptions.indexOf(e)?P.dateSentOptions.indexOf(e):"customRange"}var v=t.routeVm=t.$root.utils.findInParentScope("routeVm",t),y=t.parentVm=t.$root.utils.findInParentScope("parentVm",t),h=d.load(v.org.id+"_manageFilters_TrackForms"),_=!1,w={formStatus:null,dateSent:s.getDefaultDateSent(v.org,m),sentToLocation:"-1",sentByParticipant:"0",templateFilterSelections:[],workRelationship:[],staffType:[]},S=angular.copy(w),P=t.vm={currentRoute:n.current.name,customDateRangeOptions:null,dateSentIdx:null,dateSentOptions:function(){for(var e=m.todaysStartRelativeTo(v.org),t=s.getFCAddedDate(v.org._applications),n=s.getYearsSinceCreation(e,t),r=[s.lastXDays(e,7),s.lastXDays(e,14),s.lastXDays(e,60),s.yearToDate(e),s.currentSchoolYear(e,v.org,m)],i=1;i<=n&&i<=2;i++)r.push(s.getPreviousSchoolyear(e,i,v.org,m));return r}(),formTemplates:[],locations:[],packets:[],sentByCriteria:[{value:"0",name:"All"},{value:"creatorId",name:"Form Sender - Myself"},{value:"formadministrator",name:"Form Admin - Myself"}],empId:e.vm.empId,viewToggleConfig:[{label:"form / packet",value:"base.formTracking.templateSummary"},{label:"employee",value:"base.formTracking.viewBySubject"}],showInactiveMenuItems:!0,workRelationship:[],staffType:[],manageFilters:h||{formPacketTemplate:{isVisible:!0,label:"Form/Packet Template"},dateSent:{isVisible:!0,label:"Date Sent"},results:{isVisible:!0,label:"Results(Sender/Admin)"},employeeLocation:{isVisible:!0,label:"Employee Location"},workRelationship:{isVisible:!0,label:"Work Relationship"},staffType:{isVisible:!0,label:"Staff Type"}}};t.go={changeView:function(e){n.go(e.value,{filterConfig:t.filterConfig,resetCurrentPage:_})},clearCustomRange:function(){P.dateSentIdx=1,P.customDateRange=null},filterInactive:function(e){return!!P.showInactiveMenuItems||!!e._isActive},filterData:function(){Object.keys(P.manageFilters).forEach(function(e){P.manageFilters[e].isVisible||(t.filterConfig[e]=S[e])}),P.formOpened=!1,t.$emit("ss-menu-close")}};t.$watch("vm.dateSentIdx",function(e,n){e!==n&&("customRange"===e?P.customDateRange={from:moment().subtract(14,"days").toDate(),to:moment().toDate()}:(t.filterConfig.dateSent=P.dateSentOptions[e],f(t.filterConfig.dateSent)))}),t.$watch("vm.customDateRange",function(e,n){e&&e!==n&&(s.isRangeGreaterThanYear(e)&&(e.to=moment(e.from).add(1,"year").toDate()),t.filterConfig.dateSent=s.getDateRange(e,v.org,m),P.customDateRangeOptions=s.getDateLimits(e),f(t.filterConfig.dateSent))},!0),t.$watch("vm.manageFilters",function(e,t){angular.equals(e,t)||d.save(v.org.id+"_manageFilters_TrackForms",e)},!0),function(){t.filterConfig=t.filterConfig?t.filterConfig:w,r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.filterConfig.dateSent);case 2:if(P.dateSentIdx=b(),"customRange"===P.dateSentIdx&&(P.customDateRange=t.filterConfig.dateSent),P.locations=g(),!y.featureFlags.fc_enable_referential_data_status){e.next=9;break}return e.next=8,l.getActiveFlagStatus();case 8:P.showInactiveMenuItems=e.sent;case 9:return P.workRelationship=u.getEnums().map(function(e){return{_name:e.name,id:e.value}}),e.next=12,p.getByExternalId("jobtype.employmentgroups");case 12:P.staffType=e.sent,P.staffType.forEach(function(e){return e._name=e.name}),t.$watch("filterConfig",function(e,n){JSON.stringify(e)!==JSON.stringify(n)&&(_=!0,t.onFilterChange())},!0);case 15:case"end":return e.stop()}},e,this)}))()}()}]},{key:"link",value:function(e,t,n){n.$observe("hideFilters",function(t){e.$applyAsync(function(){var t=document.querySelectorAll(".filter-control-group");Array.from(t).forEach(function(t){var n=t.id.split("-")[0];e.hideFilters.includes(n)&&angular.element(t).css({display:"none"})})})})}}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTrackFormsFilterGroup",function(){return new c(l,"track-forms-filter-group")})},{"base-component":64}],61:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={filters:"=",count:"=?",endpoint:"&",currentPage:"=",currentUser:"=",currentCategory:"@?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$rootScope","$scope","ssAsync","ssEnum","ssFormInstancesApi","ssStorage","ssToastHlp","ssDateByOrgHlp","ssDateHlp","ssDueDateHlp","ssObjectHlp","headerFilterLogicHlp","dueExpirationDateHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d){function m(){null!=O.getFormCountsPromise&&(O.getFormCountsPromise.$abort(),O.getFormCountsPromise=null),O.getFormCountsPromise=n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object.assign({},x()),e.next=4,i.getFormCounts(t);case 4:O.counts=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.warn("There was a problem getting the total counts for each section. Try refreshing your browser.","Form Counts");case 10:return e.prev=10,O.getFormCountsPromise=null,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}))()}function f(){A.loading=!0,null!=O.getFormsPromise&&(O.getFormsPromise.$abort(),O.getFormsPromise=null);var e=((t.currentPage||1)-1)*F,r={include:"steps",limit:F,offset:e};O.getFormsPromise=n(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.endpoint(),n.config=Object.assign({},n.config,x(r)),e.prev=3,e.next=6,n.api(n.config);case 6:i=e.sent,i&&(i.forEach(g),A.formsAndPackets=y(i),O.pages=i.length&&Math.ceil(parseInt(i.$headers["total-results"],10)/F)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),e.t0;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),o.error("There was an error retrieving Form Instances","");case 18:return e.prev=18,A.loading=!1,k=!1,O.getFormsPromise=null,e.finish(18);case 23:case"end":return e.stop()}},e,this,[[0,15,18,23],[3,10]])}))()}function g(e){e.isPacket=!1,e.primaryRecipient=e._employee,e.creatorId=e._creator.employeeId,e.isComplete=e._statusId===r.formStatus.complete||e._statusId===r.formStatus.completedAndDenied,e.isRejected=e._statusId===r.formStatus.rejected,!O.featureFlags.fc_form_instance_expiration||e.isComplete||e.isInPacket?e.dueDateStatus=c.dueStatus(e,O.org):(e.dueExpirationStatus=d.getDueExpirationDate(e),e.dueExpirationStatus&&(e._dueDateUtc=e.dueExpirationStatus.date,e.dueExpirationMsg=e.dueExpirationStatus.type,e.dueDateStatus=d.dueExpirationStatus(e,O.org))),e.totalSteps=e._steps.filter(function(e){return 3!==e._stepAction}).length,e.searchText=e.name+" "+e.primaryRecipient.name,e.sentDate=s.utcIsoToRelativeMoment(e._createdUtc,O.org).format("M/D/YY"),e._lastReminderSentUtc&&(e.reminderSentDate=s.utcIsoToRelativeMoment(e._lastReminderSentUtc,O.org).format("M/D/YY")),e.hasValidEnhancedDeniedInfo=p.glean(e,function(e){return e._deniedInfo.denier.name},!1)||p.glean(e,function(e){return e._deniedInfo.comments},!1),b(e),v(e)}function b(e){if(null!=e.currentStep&&(e.currentStepIndex=e._steps.indexOf(e.currentStep),e.prevStep=0===e.currentStepIndex?e._steps[0]:e._steps[e.currentStepIndex-1],e.prevStepNum=e._steps.indexOf(e.prevStep)+1,e.currentStepAction=r.stepAction.byValue(e.currentStep._stepAction)||"undefined",null!=e.currentStep._stepParticipant&&(e.isUser=O.empId===e.currentStep._stepParticipant.employeeIds[0],e.currentStepParticipantName=e.currentStep._stepParticipant.name||"undefined",e.currentStepMeta=(e.currentStepAction||"N/A")+" | "+(e.currentStepParticipantName||"N/A"),!O.featureFlags.fc_enhanced_denied_form_workflow&&e.isRejected))){var t=void 0;e.currentStep._stepSubmissions.length?(t=e.currentStep._stepSubmissions.reduce(function(e,t){return t.submissionDateUtc>e.submissionDateUtc?t:e},{submissionDateUtc:l.foreverPast()}),e.currentStepMeta=t.firstName&&t.lastName?"Denied by: "+t.firstName+" "+t.lastName:"Denied"):e.currentStepMeta="Form Denied"}}function v(e){if(null!=e.currentStepIndex){var t=!1;e._steps.forEach(function(n){n.id===e._steps[e.currentStepIndex].id?(n.stepStatus=r.formStatus.byValue(e._statusId),t=!0):n.stepStatus=t?r.formStatus.byValue(0):r.formStatus.byValue(1),n.stepStatus=n.stepStatus.toLowerCase()})}}function y(e){var t=new Map;return e.map(function(n){var r;if(!n.isInPacket)return n;if(!t.has(n._packetInstance.instanceId)){var i=n._packetInstance.completeFormInstanceIds.length,a=n._packetInstance.incompleteFormInstanceIds.length,o={_employee:n._employee,name:n._packetInstance.name,isPacket:!0,primaryRecipient:n.primaryRecipient,creatorId:n.creatorId,searchText:n._packetInstance.name+" "+n.primaryRecipient.name,currentStepMeta:null,dueDateStatus:null,sentDate:n.sentDate,isRejected:!1,isComplete:0===a,isUnarchive:e.filter(function(e){return e.isInPacket&&e._packetInstance.instanceId&&e._packetInstance.instanceId===n._packetInstance.instanceId}).every(function(e){return e._archived}),packetArchivedCount:e.filter(function(e){return e.isInPacket&&e._packetInstance.instanceId&&e._packetInstance.instanceId===n._packetInstance.instanceId&&e._archived}).length,content:[],completeCount:i,incompleteCount:a,totalFormsCount:i+a};o.packetCount=o.isComplete?"complete":o.completeCount+" / "+o.totalFormsCount+" forms",t.set(n._packetInstance.instanceId,o)}return r=t.get(n._packetInstance.instanceId),r.content.push(n),r.dueDateStatus=function(){var e=r.content.filter(function(e){return e.dueDateStatus&&"overdue"===e.dueDateStatus.class}),t=r.content.filter(function(e){return e.dueDateStatus&&"due-soon"===e.dueDateStatus.class});return e.length?{class:"overdue"}:t.length?{class:"due-soon"}:null}(),r.currentStepMeta=function(){var e=r.content.filter(function(e){return e.isRejected});return e.length?(r.isRejected=!0,1===e.length?"form denied by "+e[0].currentStepParticipantName:e.length>1?e.length+" forms denied":void 0):""}(),r.content.length>1?null:r}).filter(function(e){return null!=e})}function h(e){return e.filter(function(e){return"Packet"===e._objectType}).map(function(e){return e.id})}function _(e){return e.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e.id})}function w(){return h(t.filters.templateFilterSelections)}function S(){return _(t.filters.templateFilterSelections)}function P(){var t=h(e.vm.templateFilterOptions),n=w();return t.length===n.length&&t.every(function(e){return n.includes(e)})}function T(){var t=_(e.vm.templateFilterOptions),n=S();return t.length===n.length&&t.every(function(e){return n.includes(e)})}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={from:t.filters.dateSent.from.toISOString(),to:t.filters.dateSent.to.toISOString()},r=Object.assign({},n,e);if(k&&D&&(t.filters.search=D.search,t.filters.sentToLocation=D.location,t.filters.sentByParticipant=D.sentBy,t.filters.sortBy=D.sort,t.filters.formStatus=D.formStatus),null!=t.filters.search&&t.filters.search.length>0&&(r["filter[search]"]=t.filters.search),null!=t.filters.sentToLocation&&"-1"!==t.filters.sentToLocation&&(r["filter[locationIds]"]=t.filters.sentToLocation),"recentlysent"===t.filters.sortBy?r["sort["+t.filters.sortBy+"]"]="desc":r["sort["+t.filters.sortBy+"]"]="asc",null!=t.filters.sentByParticipant&&"0"!==t.filters.sentByParticipant&&(delete r["filter[formadministrator]"],delete r["filter[creatorId]"],r["filter["+t.filters.sentByParticipant+"]"]=O.empId),null!=t.filters.formStatus&&(r["filter[status]"]=t.filters.formStatus),"boolean"==typeof t.filters.archivalStatus?r["filter[archived]"]=t.filters.archivalStatus:"All"!==t.filters.archivalStatus&&(r["filter[archived]"]=!1),null!=t.filters.forDetails&&(r["filter[forDetails]"]=t.filters.forDetails),null!=t.filters.templateFilterSelections){var i=w(),a=S();i.length>0&&P()&&a.length>0&&T()||(r["filter[packetIds]"]=i.join(","),r["filter[templateIds]"]=a.join(","))}return null!=t.filters.workRelationship&&t.filters.workRelationship.length>0&&(r["filter[workrelationshiptype]"]=t.filters.workRelationship.map(function(e){return e.id}).join(",")),null!=t.filters.staffType&&t.filters.staffType.length>0&&(r["filter[stafftype]"]=t.filters.staffType.map(function(e){return e.value}).join(",")),r}var O=t.routeVm=t.$root.utils.findInParentScope("routeVm",t),k=!0,D=null,F=20,A=t.vm={loading:!1,formsAndPackets:[],dateSent:u.getDefaultDateSent(O.org,s)},E=t.go={refreshData:n(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:return e.next=5,m();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))};t.$watchGroup(["filters","currentPage"],function(e,t){k||e===t||E.refreshData()}),n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O.featureFlags.fc_nov_2020_new_track_forms||a.clear("trackFormsFilters"),D=a.load("trackFormsFilters"),D=D?D[0]:null,e.next=5,f();case 5:return e.next=7,m();case 7:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTrackedFormGroup",function(){return new c(l,"tracked-form-group")})},{"base-component":64}],62:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-component"),c={form:"=",statusUpdated:"&?",currentCategory:"@?",employeePermissions:"="},p=new Map,u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$scope","$location","$window","filenameHlp","ssAsync","ssEnum","ssListSvc","ssFormInstancesApi","ssPacketInstancesApi","ssEmployeeApi","ssPositionsApi","ssFormTemplatesApi","ssToastHlp","ssModalSvc","ssObjectHlp","ssEmployeeAssignmentHlp","ssValidationHlp","ssDateByOrgHlp",function(e,t,n,i,a,o,s,l,c,u,d,m,f,g,b,v,y,h){function _(e){var t=[],n=e._steps.filter(function(e){return F.test(e._formFieldValues)&&e._stepAction!==o.stepAction.formCompleted}).map(function(e){return e._formFieldValues});return n.length&&n.forEach(function(e){var n=JSON.parse(e);Object.keys(n).filter(function(e){return Array.isArray(n[e])}).filter(function(e){return n[e].every(function(e){return!!e.filename})}).forEach(function(e){var i;t=(i=t).concat.apply(i,r(w(n[e])))})}),t}function w(e){return e.map(function(e){var t=i.getExtension(e.filename),n=i.getIcon(t);return{id:e.id,filename:e.filename,ext:t,icon:n}})}function S(e,t,n){return e?t:n}function P(t){var n=[];return t.forEach(function(t){e.employeePermissions[t.properties.permission].view&&n.push(t)}),n}function T(){A.openResetMenu=!1,O(!0),e.$emit("ss-menu-close")}function x(e,t){return a(regeneratorRuntime.mark(function n(){var r,i,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,r={id:D.id,stepId:e.id,version:t},i={_resetExpirationDate:!0},a=h.endOfDayRelativeTo(moment(e.resetDate),k.org),n.t0=e._dueOrExpirationOption,n.next=1===n.t0?7:2===n.t0?9:5===n.t0?9:3===n.t0?11:4===n.t0?13:6===n.t0?13:15;break;case 7:return i=Object.assign(i,{_dueDateUtc:a}),n.abrupt("break",16);case 9:return i=Object.assign(i,{_dueDateUtc:a,_numberOfDays:null,_dueOrExpirationOption:1}),n.abrupt("break",16);case 11:return i=Object.assign(i,{_expirationDateUtc:a}),n.abrupt("break",16);case 13:return i=Object.assign(i,{_expirationDateUtc:a,_numberOfDays:null,_dueOrExpirationOption:3}),n.abrupt("break",16);case 15:return n.abrupt("break",16);case 16:return n.next=18,l.updatDueExpirationDate(r,i,!1);case 18:return o=n.sent,n.abrupt("return",o);case 22:throw n.prev=22,n.t1=n.catch(0),new Error(n.t1);case 25:case"end":return n.stop()}},n,this,[[0,22]])}))()}function O(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.form._steps&&e.form._steps.forEach(function(e){t&&(e.resetDate=null);var n=moment().add(1,"days").toDate();e.datePickerOptions={minDate:n,defaultDate:n}})}var k=e.routeVm=e.$root.utils.findInParentScope("routeVm",e),D=e.form,F=/.*{"filename":.*/;e.validator=e.validator={required:y.required()},e.ssEnum=o;var A=e.vm={loadingContact:!0,openDetails:!1,showContactToggle:!0,openMenu:!1,openResetMenu:!1,isSaving:!1,expirationWatch:!0};A.showContactToggle=function(t){return!!b.glean(e,function(e){return e.$root.isPermitted.activeUser.idmAdministrator},!1)||["emails","phoneNumbers"].map(function(e){return!!t._employee.meta&&t._employee.meta.permissions.permittedActualProperties[e]}).some(function(e){return 0!==e})}(e.form),e.$watch("form",function(e,t){e.isPacket?e.content.forEach(function(e){return e.filesOnInstance=_(e)}):e.filesOnInstance=_(e)}),e.$watch("form._steps",function(e,t){if(!angular.equals(e,t)&&A.expirationWatch&&A.openResetMenu){A.expirationWatch=!1,e.forEach(function(e,t){return E.setMinExpirationDate(e,t)});var n=e.filter(function(e){return e.resetDate});n.forEach(function(e,t){t<n.length-1&&moment(e.resetDate).isSameOrAfter(n[t+1].resetDate)&&(n[t+1].resetDate=null)}),A.expirationWatch=!0}},!0);var E=e.go={getExpirationTooltip:function(e,t){if(e.stepStatus!==o.formStatus.byValue(1).toLowerCase())switch(e._dueOrExpirationOption){case 1:return"Step "+t+": Due "+h.utcIsoToRelativeMoment(e._dueDateUtc,k.org).format("M/D/YY");case 2:return"Step "+t+": Due "+e._numberOfDays+" days after sent";case 3:return"Step "+t+": Expires "+h.utcIsoToRelativeMoment(e._expirationDateUtc,k.org).format("M/D/YY");case 4:return"Step "+t+": Expires "+e._numberOfDays+" days after sent";case 5:return"Step "+t+": Due "+e._numberOfDays+" days after prior step";case 6:return"Step "+t+": Expires "+e._numberOfDays+" days after prior step";default:return null}},archivePacket:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={title:S(n,"Archive","Unarchive")+" Packet",content:"Are you sure you want to "+S(n,"archive","unarchive")+" this packet?"+(k.featureFlags.fc_include_form_archival_statuses?"":" This packet and its forms will no longer be displayed in Track Forms, although any forms sent to the employees record upon completion will remain there."),primaryText:S(n,"Archive","Unarchive"),secondaryText:"Cancel"};g.showDestructive(r).then(function(){a(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=t.content.map(function(e){return k.featureFlags.fc_include_form_archival_statuses?l.updateArchivedStatus({id:e.id,archived:n
}):l.updateStatus({id:e.id,newStatus:o.formStatus.archived})}),Promise.allSettled(i).then(function(r){r.some(function(e){return"rejected"===e.status})?f.error("There was an error "+S(n,"archiving","unarchiving")+' "'+t.name+'"',"Error"):f.success("Packet successfully "+S(n,"archive","unarchive")),e.statusUpdated()});case 2:case"end":return r.stop()}},r,this)}))()})},download:function(e){T(),e.forEach(function(e){m.getFileUrl({id:e.id}).then(function(e){n.open(e._string,"_blank")})})},remove:function(t){T();var n=t.isInPacket?"Form in Packet":"Form",r={title:"Delete "+n,content:"Are you sure you want to delete this form? Any instances of this form that have been moved to the employees record will be deleted as well and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};g.showDestructive(r).then(function(){a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$remove();case 3:f.success("Form removed successfully."),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),f.error('There was an error deleting "'+t.name+'"',"Error");case 9:return n.prev=9,e.statusUpdated(),n.finish(9);case 12:case"end":return n.stop()}},n,this,[[0,6,9,12]])}))()})},removePacket:function(t){var n={title:"Delete Packet",content:"Are you sure you want to delete this packet? All forms (not started, in-progress, completed, etc.) contained within this packet will be deleted, as well as any instances of forms that have been moved to the employee's record.",primaryText:"Delete",secondaryText:"Cancel"},r=t.content[0]._packetInstance.instanceId,i=t.content[0]._packetInstance.ownerVersionNumber;g.showDestructive(n).then(function(){a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.remove({id:r,version:i},null,!1);case 3:f.success("Packet successfully deleted"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),f.error('There was an error deleting "'+t.name+'"',"Error");case 9:return n.prev=9,e.statusUpdated(),n.finish(9);case 12:case"end":return n.stop()}},n,this,[[0,6,9,12]])}))()})},toggleContact:function(){a(regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A.loadingContact=!0,p.has(D.primaryRecipient.employeeId)){e.next=14;break}return e.next=5,u.get({id:D.primaryRecipient.employeeId,include:"phoneNumbers,emails,positions,jobtypes,locations,assignments"});case 5:return t=e.sent,e.next=8,s.getByExternalId("position.types");case 8:n=e.sent,r=v.getPrimaryAssignment(t,{},k.org),null!=r&&(i=r._positionId,(a=t._positions.find(function(e){return e.id===i}))&&(t.positionName=s.mapName(a._name,n))),p.set(D.primaryRecipient.employeeId,t),e.next=15;break;case 14:t=p.get(D.primaryRecipient.employeeId);case 15:A.formSubjectToggleData={email:t.bestContactEmail,externalId:t._externalId,id:t._id,orgPersonId:t._orgPersonId,phone:t.bestContactNumber?t.bestContactNumber.formatted:null,position:t.positionName},e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),f.error('There was an error retrieving employee information for "'+D.primaryRecipient.name+'"',"Error");case 21:return e.prev=21,A.loadingContact=!1,e.finish(21);case 24:case"end":return e.stop()}},e,this,[[0,18,21,24]])}))()},updateFormStatus:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=o.formStatus[n.toLowerCase()],s=t.isInPacket?"Packet":"Form",c={title:S(r,"Archive","Unarchive")+" "+s,content:"Are you sure you want to "+S(r,"archive","unarchive")+" this "+s+"?",primaryText:S(r,"Archive","Unarchive"),secondaryText:"Cancel"};g.showStandard(c).then(function(){a(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,k.featureFlags.fc_include_form_archival_statuses){a.next=6;break}return a.next=4,l.updateStatus({id:t.id,newStatus:i});case 4:a.next=8;break;case 6:return a.next=8,l.updateArchivedStatus({id:t.id,archived:r});case 8:f.success(t.name+" has been marked as "+n,"Form Status Updated",!1),e.statusUpdated(),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),f.error("There was an error updating the status of "+t.name,"Error",!1);case 15:case"end":return a.stop()}},a,this,[[0,12]])}))()})},updateEmpRecord:function(t){var n={title:"<h2>Move to Employee Record</h2>",personnel:P(o.personnelCategory.enums),medical:P(o.medicalCategory.enums),webFormSubCategory:"0-8",content:'<p>Please select a location to move "'+t.name+'"<br/>to '+t.primaryRecipient.name+'\'s Employee Record</p>\n\t\t\t\t\t\t<super-select-list model="webFormSubCategory">\n\t\t\t\t\t\t\t<super-select-list-item type="heading" label="\'Personnel Documents\'"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in personnel" value="\'0-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item type="heading"  label="\'Medical Documents\'"></super-select-list-item>\n\t\t\t\t\t\t\t<super-select-list-item ng-repeat="item in medical" value="\'1-\' + item.value" label="item.name"></super-select-list-item>\n\t\t\t\t\t\t</super-select-list>',primaryText:"Continue",secondaryText:"Cancel"};g.showStandard(n).then(function(n){var r=n.webFormSubCategory.split("-")[0],i=n.webFormSubCategory.split("-")[1];a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.addFileToRecord({employeeId:t._employee.employeeId,formInstanceId:t.id,name:t.name,category:r,subCategory:i});case 3:e.statusUpdated(),f.success(t.name+" has been added to "+t._employee.name+"'s employee record","Form added to Employee Record ",!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),f.error(t.name+" was not added to "+t._employee.name+"'s employee record successfully","Add to Employee Record ",!1);case 10:case"end":return n.stop()}},n,this,[[0,7]])}))()})},updateWorkflowStep:function(t){var n={id:t.id,targetStep:t.prevStep._formTemplateStepId,params:{targetStatus:0}};l.updateCurrentStepId(n).then(function(n){if(null!=n){var r=t.prevStep._stepParticipant.name?"to "+t.prevStep._stepParticipant.name:"";f.success("Workflow step re-sent "+r,"Success!",!1),e.statusUpdated()}}).catch(function(e){f.error("There was an error resending the workflow step. Please try again.","Error")})},sendReminder:a(regeneratorRuntime.mark(function t(n){var r,i,a,o,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Array.isArray(n)?n:[n],i="to "+r[0].currentStepParticipantName,a="There was an error sending a reminder to "+r[0].currentStepParticipantName,o="for "+r.length+" forms",s="There was an error sending a reminder for one or more forms",c=r.map(function(e){return l.postReminder({id:e.id},null,!1)}),Promise.allSettled(c).then(function(t){t.some(function(e){return"rejected"===e.status})?f.error((r.length>1?s:a)+". Please see the console.",""):f.success(""+(r.length>1?o:i),"Reminder Sent"),e.statusUpdated()});case 7:case"end":return t.stop()}},t,this)})),resolveEmpRecordPath:function(e){a(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=p.get(e)){n.next=6;break}return n.next=5,u.get({id:D.primaryRecipient.employeeId});case 5:r=n.sent;case 6:if(!k.featureFlags.isDataIntegrationsEnabled){n.next=15;break}if(!r._orgPersonId){n.next=11;break}t.path("/ec-directory/person-detail/"+r._orgPersonId+"/personal"),n.next=13;break;case 11:return f.error("The user does not have a valid Org Person ID and therefore their employee record cannot be accessed"),n.abrupt("return","");case 13:n.next=16;break;case 15:t.path("/ec-employee/record/"+r.id+"/personal");case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),f.error("There was an error retrieving the employee");case 21:case"end":return n.stop()}},n,this,[[0,18]])}))()},resolveFormIcon:function(){return D._isEmployeeInitiated?"li-form-e-large":"li-form-large"},displaySubmissionInfo:function(e){if(0!==e._stepSubmissions.length&&e._stepSubmissions[0].employeeId!==e._stepParticipant.employeeIds[0])return" (submitted by "+e._stepSubmissions[0].firstName+" "+e._stepSubmissions[0].lastName+")"},toggleMenu:function(){A.openResetMenu=!1,O(),!0!==A.openMenu&&(A.openMenu=!A.openMenu)},toggleResetMenu:function(){A.openResetMenu=!A.openResetMenu},cancel:function(){A.openMenu=!1,T()},resetExpirationDate:function(){return a(regeneratorRuntime.mark(function t(){var n,r,i,a,o,s,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!A.isSaving){t.next=3;break}return t.abrupt("return");case 3:A.isSaving=!0,A.openMenu=!1,A.openResetMenu=!1,n=e.form.$serialize().data.attributes.ownerVersionNumber,r=!0,i=!1,a=void 0,t.prev=10,o=e.form._steps[Symbol.iterator]();case 12:if(r=(s=o.next()).done){t.next=22;break}if(l=s.value,!l.resetDate){t.next=19;break}return t.next=17,x(l,n);case 17:c=t.sent,n=c.$serialize().data.attributes.ownerVersionNumber;case 19:r=!0,t.next=12;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(10),i=!0,a=t.t0;case 28:t.prev=28,t.prev=29,!r&&o.return&&o.return();case 31:if(t.prev=31,!i){t.next=34;break}throw a;case 34:return t.finish(31);case 35:return t.finish(28);case 36:f.success('"'+D.name+'" Due/Expiration dates has been reset successfully'),t.next=42;break;case 39:t.prev=39,t.t1=t.catch(0),f.error('There was an error resetting "'+D.name+'" Due/Expiration dates',"Error");case 42:return t.prev=42,A.isSaving=!1,e.statusUpdated(),t.finish(42);case 46:case"end":return t.stop()}},t,this,[[0,39,42,46],[10,24,28,36],[29,,31,35]])}))()},setMinExpirationDate:function(t,n){if(0!=t._dueOrExpirationOption&&t.stepStatus===o.formStatus.byValue(0).toLowerCase()){var r=e.form._steps.map(function(e,t){return null!=e.resetDate&&n>t}).lastIndexOf(!0),i=n>0&&r>-1?e.form._steps[r].resetDate:null,a=i?moment(i,"MM/dd/yyyy").add(1,"days").toDate():moment().add(1,"days").toDate();t.datePickerOptions={minDate:a,defaultDate:t.resetDate||a}}},isExpired:function(){return e.form._steps.some(function(e){return e.stepStatus===o.formStatus.byValue(0).toLowerCase()&&e._expirationDateUtc&&h.utcIsoToRelativeMoment(e._expirationDateUtc,k.org).isBefore(moment())})},getExpirationDateLabel:function(t,n){return e.form.currentStep.id===t.id?"This step":t._dueDateUtc||t._expirationDateUtc?"Step "+n+" "+(t._dueDateUtc?"Due":"Expires"):t._numberOfDays?"Step "+n+" "+(2===t._dueOrExpirationOption||5===t._dueOrExpirationOption?"Due":"Expires"):void 0}};!function(){O()}()}]}]),t}(l.Component);angular.module("ec-forms-components").directive("cmpTrackedForm",function(){return new u(c,"tracked-form")})},{"base-component":64}],63:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-component"),l={item:"=?",filterConfig:"=?",localFilters:"=?"},c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$scope","$rootScope","$state","ssAsync","ssToastHlp","ssFormInstancesApi",function(e,t,n,r,i,a){function o(e){return{id:e.id,_name:e._name,_objectType:"PacketTemplate"===e._objectType?"Packet":"FormTemplate"}}function s(n){var r=e.filterConfig,i=Object.assign({});return i.id=n,i["filter[templateIds]"]=r.templateFilterSelections.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e.id}).join(","),null!==e.localFilters.search&&(i["filter[search]"]=e.localFilters.search),"boolean"==typeof e.localFilters.archivalStatus?i["filter[archived]"]=e.localFilters.archivalStatus:"All"!==e.localFilters.archivalStatus&&(i["filter[archived]"]=!1),null!==r.dateSent.from&&(i.from=r.dateSent.from.toISOString()),null!==r.dateSent.to&&(i.to=r.dateSent.to.toISOString()),null!=r.sentToLocation&&"-1"!==r.sentToLocation&&(i["filter[locationIds]"]=r.sentToLocation),null!=r.sentByParticipant&&"0"!==r.sentByParticipant&&(i["filter["+r.sentByParticipant+"]"]=t.vm.empId),i}var l=e.vm={loadingPacketData:!1,showPacketData:!1,subPacketData:[]};e.routeVm=e.$root.utils.findInParentScope("routeVm",e),e.go={getPacketData:function(){l.showPacketData=!l.showPacketData,l.showPacketData&&(l.subPacketData.length||(l.loadingPacketData=!0,r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=s(e.item._formTemplateSeriesIdOrPacketTemplateId),t.next=4,a.getPacketContents(n,null,!1);case 4:l.subPacketData=t.sent,l.subPacketData.forEach(function(e){e.percentComplete=Math.round(e._completionPct)+"%",e.progressText=e._completedForms+" / "+e._totalForms}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),i.error(t.t0,"Error retrieving packet data."),l.showPacketData=!1;case 12:return t.prev=12,l.loadingPacketData=!1,t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,8,12,15]])}))()))},detailsClickHandler:function(t,r){var i=void 0,a=[];r&&(r=o(r),i={packet:r,menuOptions:l.subPacketData.map(o)},a.push(r)),a.push(o(t)),n.go("base.formTracking.templateSummaryDetails",{templateId:t.id,templateName:t._name,packetMenuData:i,filters:Object.assign({dateSent:e.filterConfig.dateSent,sentToLocation:e.filterConfig.sentToLocation,sentByParticipant:e.filterConfig.sentByParticipant,templateFilterSelections:a,workRelationship:e.filterConfig.workRelationship,staffType:e.filterConfig.staffType},{forDetails:!0})},null)}};e.$watch("localFilters.archivalStatus",function(e,t){e!=t&&(l.showPacketData=!1)},!0)}]}]),t}(s.Component);angular.module("ec-forms-components").directive("cmpTrackingDisplayRow",function(){return new c(l,"tracking-display-row")})},{"base-component":64}],64:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Component=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.restrict="E",this.replace=!0,this.scope=t,this.templateUrl="components/cmp-"+n+"/"+n+".html",Object.assign(this,i)}},{}],65:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.Segment=function e(t){r(this,e),this.restrict="E",this.scope=!0,this.replace=!0,this.templateUrl=function(e,n){return"routes"+n.folder+"/segment-"+t+"/"+t+".html"}}},{}],66:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.State=function e(t,n){r(this,e),Object.assign(this,t),this.resolve=this.resolve||{},this.resolve.routeVm=function(){return n},this.controller=function(e,t,n){e.routeVm=n},this.controller.$inject=["$scope","$window","routeVm"]}},{}],67:[function(e,t,n){"use strict";function r(e){e.load("employee-center")}r.$inject=["ssAppConfigSvc"],angular.module("ec-forms").run(r)},{}],68:[function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}r.$inject=["$locationProvider"],angular.module("ec-forms").config(r)},{}],69:[function(e,t,n){"use strict";function r(e,t,n,r){return{sendReminders:function(i,a){a["filter[status]"]=[0,2].join(",");a.actionType=0;var o={title:"Send Reminders",content:"You are about to send "+i+" reminders.<br/>Are you sure?",primaryText:"Continue",secondaryText:"Cancel"};t.showStandard(o).then(function(){setTimeout(function(){t.showWait({title:"Reminder emails are being sent"}),e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.bulkActions(a);case 3:0!==i&&n.success("All reminders have been sent."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error(e.t0.data.message,"There was a problem sending");case 9:return e.prev=9,t.clearDialog(),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[0,6,9,12]])}))()},100)})},downloadStatusCsv:function(i,a){var o={title:"Download Status CSV",content:"Generate report for "+i.toString()+" "+(1===i?"form":"forms")+"?",primaryText:"Download",secondaryText:"Cancel"};t.showStandard(o).then(function(){setTimeout(function(){t.showWait(),e(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.downloadStatusCsv(a.params,a.body);case 3:i=e.sent,window.location.href=i.data.data.attributes.string,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.error(e.t0.data.message,"There was a problem creating your export");case 10:return e.prev=10,t.clearDialog(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}))()},100)})},downloadResponsesXlsx:function(i,a){var o={title:"Download Responses XLSX",content:"Generate report for "+i.toString()+" "+(1===i?"form":"forms")+"?",primaryText:"Download",secondaryText:"Cancel"};t.showStandard(o).then(function(){setTimeout(function(){t.showWait({content:""}),e(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.downloadResponsesXlsx(a.params,a.body);case 3:i=e.sent,window.location.href=i.data.data.attributes.string,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.error(e.t0.data.message,"There was a problem creating your export");case 10:return e.prev=10,t.clearDialog(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,7,10,13]])}))()},100)})},printFormToPdf:function(i,a){if(0==i)return void n.warn("There are no forms to print based on your current filters");var o={title:"Generate PDF's",status:{notStarted:!0,inProgress:!0,completed:!0},content:'\n\t\t\t\t<div>This will create a ZIP of your forms you can download in Reports > System Jobs. This may take some time to complete.</div>\n\t\t\t\t<div style="padding: 10px">Include form statuses:</div>\n\t\t\t\t<div style="display: flex;flex-direction: column ;gap: 9px;">\n\t\t\t\t<div><super-input-checkbox label="Not Started" model="status.notStarted"></super-input-checkbox></div>\n\t\t\t\t<div><super-input-checkbox label="In Progress" model="status.inProgress"></super-input-checkbox></div>\n\t\t\t\t<div><super-input-checkbox label="Completed" model="status.completed"></super-input-checkbox></div>\n\t\t\t\t</div>\n\t\t\t\t<div style="display:flex; justify-content:center; gap: 50px; padding-top: 30px">\n\t\t\t\t<button  class="super-button std" type="button" value="Cancel" label="{secondaryText}" ng-click="cancel()" data-test="modal-cancel"><label class="button-control">{secondaryText}</label></button>\n\t\t\t\t<button class="super-button {actionType}" type="button" value="Continue" label="{primaryText}" ng-disabled="!(status.notStarted || status.inProgress || status.completed)" ng-click="cont()" data-test="modal-continue"><label class="button-control">{primaryText}</label></button> </div>\n\t\t\t\t',primaryText:"Confirm",secondaryText:"Cancel",showSecondary:!1,showPrimary:!1};t.showStandard(o).then(function(t){var i=t.status,o=i.notStarted,s=i.inProgress,l=i.completed,c=[];o&&c.push(0),s&&c.push(1),l&&c.push(2),a.body.attributes.filter.bulkPrintRequestStatus=c.join(","),e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.printFormToPdf(a.params,a.body);case 3:n.success("Your bulk print to PDF request has been successfully submitted."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("","Your bulk print to PDF request was not successfully submitted. Please try again.");case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()})},sendRemindersForSearchByEmployee:function(e,t){var n={};Object.keys(t.filter).map(function(e){switch(e){case"formtemplateids":n["filter[templateids]"]=t.filter[e];break;case"packettemplateids":n["filter[packetids]"]=t.filter[e];break;case"search":n["filter[employeesearch]"]=t.filter[e];break;default:n["filter["+e+"]"]=t.filter[e]}}),n.from=t.from.toISOString(),n.to=t.to.toISOString(),this.sendReminders(e,n)}}}r.$inject=["ssAsync","ssModalSvc","ssToastHlp","ssFormInstancesApi"],angular.module("ec-forms-helpers").factory("bulkActionsHlp",r)},{}],70:[function(e,t,n){"use strict";function r(e){function t(e,t){var n=t.diff(e,"days",!0);return Math.floor(n)}function n(n,r){return t(e.safeNowRelativeTo(r).startOf("day"),e.utcIsoToRelativeMoment(n,r))}function r(e){if(0!==e.currentStep._dueOrExpirationOption&&(e.currentStep.numberOfDays||e.currentStep._dueDateUtc||e.currentStep._expirationDateUtc)){var t=s.find(function(t){return t.value===e.currentStep._dueOrExpirationOption});if("date"===t.type)return{date:e.currentStep._dueDateUtc||e.currentStep._expirationDateUtc,type:t.eName.includes("Due")?"Due":"Expires"};var n=e._steps.findIndex(function(t){return t.id===e.currentStep.id});return{date:0===n?moment(e._createdUtc).add(e.currentStep._numberOfDays,"day").toISOString():moment(e._steps[n-1]._submittedDtUtc).add(e.currentStep._numberOfDays,"day").toISOString(),type:t.eName.includes("Due")?"Due":"Expires"}}var r=o(e);if(r)return{date:r,type:"Expires"}}function i(e,t){var n=a(e._dueDateUtc,e.dueExpirationMsg,t);if("overdue"===n.class&&"Due"===e.dueExpirationMsg){var r=o(e);n=r?a(r,"Expires",t):n}return n}function a(t,r,i){var a=n(t,i);if(a<0){return{class:"overdue",statusFriendly:("Due"===r?"Overdue":"Expired")+" "+e.utcIsoToRelativeMoment(t,i).format("M/D/YY")}}if(0===a)return{class:"due-soon",statusFriendly:r+" today"};if(a>0&&a<=3){return{class:"due-soon",statusFriendly:r+" in "+a+" day"+(a>1?"s":"")}}return a>3?{class:"",statusFriendly:r+" "+e.utcIsoToRelativeMoment(t,i).format("M/D/YY")}:void 0}function o(e){var t=e._steps.find(function(t,n){return t._expirationDateUtc&&n>e._currentStepIndex});return t?t._expirationDateUtc:null}var s=[{name:"No due date / expiration date",value:0,isVisible:!0,type:"",eName:"NoDueOrExpirationDate"},{name:"Due on exact date",value:1,type:"date",eName:"DueExactDate"},{name:"Due # of days after sent",value:2,type:"number",eName:"DueAfterSentDate"},{name:"Due # of days after prior step complete",value:5,type:"number",eName:"DueAfterPriorStepComplete"},{name:"Expires on exact date",value:3,type:"date",eName:"ExpirationExactDate"},{name:"Expires # of days after sent",value:4,type:"number",eName:"ExpirationAfterSentDate"},{name:"Expires # of days after prior step complete",value:6,type:"number",eName:"ExpirationAfterPriorStepComplete"}];return{getDueExpirationDate:r,dueExpirationStatus:i}}r.$inject=["ssDateByOrgHlp"],angular.module("ec-forms-helpers").factory("dueExpirationDateHlp",r)},{}],71:[function(e,t,n){"use strict";function r(e,t,n,r,i){var a=["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"];return{getTag:function(e){switch(e._fieldType){case"heading":return"h4";case"subheading":case"readOnlySubheading":return"h5";case"readOnlyHeading":return"h4";case"instructions":case"text":return"p";case"readOnlyText":case"readOnlyDate":return"dl";case"readOnlyCredentials":return"p";case"link":return"a";default:return e._fieldType}},getProperties:function(e,t){var n=[""];if(["heading","subheading","readOnlySubheading","readOnlyHeading","instructions","text","readOnlyText","readOnlyDate","readOnlyCredentials"].includes(e._fieldType))return"";if(e._fieldType.startsWith("cmp-")){if(n.push('field="field"'),"cmp-text-editor"===e._fieldType&&e.step){var r="field.step.formFieldValues['"+e.id+"']";n.push('model="'+r+'"')}return n.join(" ")}if("link"===e._fieldType)return n.push('class="file-link"'),n.push('ss-icon="chain"'),n.push("href=\"{{field.config.isValid ? field.config.location : ''}}\""),n.push("ng-class=\"{'is-valid': field.config.isValid}\""),n.push('target="_blank"'),n.join(" ");if(e._fieldType.startsWith("super-")){var i="field.step.formFieldValues['"+e.id+"']";n.push('label="{{field._label}}"'),n.push('required="field._required"'),n.push('org="org"'),null!=e.editMode&&n.push('edit-mode="field.editMode"'),e.isRedacted&&n.push('permissions="{ view: false, edit: field.editMode, redacted: true }"'),null!=e.disabled&&n.push('is-disabled="'+e.disabled+'"'),e._label&&null!=e._label||n.push('aria-label="{{field._placeholderLabel}} field"');if(["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"].includes(e._fieldDefId)&&n.push('mask="phone"'),"super-digital-signature"===e._fieldType&&(n.push('signatures="field.config.signatureIds"'),n.push('orientation="field.config.orientation"'),n.push('signature-display="field.config.signatureDisplay"'),n.push('mappable="field.config.mappable"'),i="field.step.formFieldValues['"+e.id+"'].config.signature",n.push('on-behalf="{{field.onBehalf}}"')),"super-input-radio"===e._fieldType){n.push('name="'+e.config.name+'"'),n.push('value="'+e._label+'"');for(var a=t.findIndex(function(t){return t===e}),o=e.config.name||"",s=e;a--;)"super-input-radio"===t[a]._fieldType&&t[a].config.name===o&&(s=t[a]);i="field.step.formFieldValues['"+s.id+"']"}if(!e.disabled){var l=e._required&&!e.disabled?"Required":"",c=e._label.replace(/'/g,"\\'").replace(/"/g,"&quot;");if(e._validator){(!e._validator.applyOnRequired||e._required&&e._validator.applyOnRequired)&&n.push('ss-validate="'+e.ignoreValidations+" || validator."+e._validator.type+l+"("+i+", '"+c+"')\"")}else e._required&&n.push('ss-validate="'+e.ignoreValidations+" || validator.required("+i+", '"+c+"')\"")}return n.push('model="'+i+'"'),n.join(" ")}},getVisibility:function(e){switch(e._fieldType){case"heading":case"readOnlyHeading":case"readOnlySubheading":case"subheading":case"instructions":return"!!field._label.length && field._active";case"readOnlyText":case"readOnlyDate":return"field._active";case"link":return"!!field._label.length && field._active";default:return"field._active"}},getContent:function(o){var s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(l.scope,"");switch(o._fieldType){case"heading":case"subheading":return"{{field._label}}";case"readOnlySubheading":case"readOnlyHeading":return"base.formBuilder.builder"===t.current.name?"{{field._label}}&nbsp;<em>Read-only</em>":"{{field._label}}";case"instructions":case"text":return"{{field._label}}";case"link":return"{{field.config.display}}";case"readOnlyText":if(o.step&&null!=o.step.formFieldValues[o.id])if(o._fieldTypeOptions&&"super-select-list"===o._fieldTypeOptions.edit){var p=void 0;p="07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===o._fieldDefId?r.states.enums.find(function(e){return e.value===o.step.formFieldValues[o.id]}).name:o._options.find(function(e){return o._options.indexOf(e)===o.step.formFieldValues[o.id]}),s=null!=p?p:"--"}else s=a.includes(o._fieldDefId)?o.step.formFieldValues[o.id].replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):o.step.formFieldValues[o.id];else s="--";return o.isRedacted&&(c='aria-label="value is redacted"',s="******"),'<dt class="field-label">'+o._label+"</dt><dd "+c+">"+s+"</dd>";case"readOnlyDate":return s=o.step&&null!=o.step.formFieldValues[o.id]?e("date")(o.step.formFieldValues[o.id],"MM/dd/yyyy"):"--/--/--",o.isRedacted&&(c='aria-label="value is redacted"',s="******"),'<dt class="field-label">'+o._label+"</dt><dd "+c+">"+s+"</dd>";case"readOnlyCredentials":return null==o.config.readOnly||null!=o.config.populate&&!o.config.populate?"--":'<span ng-if="field.primaryParticipant == null">--</span><cmp-credentials-list ng-repeat="option in field.primaryParticipant.'+o.config.readOnly+'" model="option"></cmp-credentials-list>';case"super-select-list":if(o._options&&o._options.length){return["977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b"].includes(o._fieldDefId)&&o.step&&"string"==typeof o.step.formFieldValues[o.id]?"<"+o._fieldType+'-item ng-repeat="option in field._options track by $index" value="option" label="option"></'+o._fieldType+"-item>":o.step&&"07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===o._fieldDefId?"<"+o._fieldType+'-item ng-repeat="option in field._options track by $index" value="field.optionValues[$index]" label="option"></'+o._fieldType+"-item>":"<"+o._fieldType+'-item ng-repeat="option in field._options track by $index" value="$index" label="option"></'+o._fieldType+"-item>"}return n.error('The options for the "'+o._label+'" menu could not be found.',"Error"),"<"+o._fieldType+'-item value="-1" label="\'--\'"></'+o._fieldType+"-item>";case"super-combo-select-list":var u=JSON.parse(o._configJson);return null!=u.externalSource&&null!=r[u.externalSource]&&(o.mulitSelectOptions=i.sortMultiSelectEnums(r[u.externalSource].getEnums())),"<"+o._fieldType+'-item ng-repeat="option in field.mulitSelectOptions track by $index" option="option"></'+o._fieldType+"-item>";default:return""}},bindConfigObject:function(e,t,n){var r=e.$eval(t),i=n.split("."),a=i.pop(),o=i.join("."),s=o?e.$eval(o):e;s[a]="string"==typeof r?JSON.parse(r):r,e.$watch(t,function(e){JSON.stringify(s[a])!==e&&(s[a]="string"==typeof r?JSON.parse(e):e)}),e.$watch(n,function(n){e.$eval(t+" = jsonString",{jsonString:JSON.stringify(n)})},!0)}}}r.$inject=["$filter","$state","ssToastHlp","ssEnum","ssEnumHlp"],angular.module("ec-forms-helpers").factory("fieldRendererHlp",r)},{}],72:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){for(var t=[],n=0;n<=e._options.length;n++){if(void 0!==t[e._options[n]])return"Cannot have duplicate options.";t[e._options[n]]=1}return!0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!(e.config||JSON.parse(e._configJson)).mappable||null==t||-1===t||e._label.length<=t||"Anything greater than "+t+" character"+(1===t?"":"s")+" cannot be mapped."}function o(e,t){var n=[];Object.keys(c).forEach(function(e){n=[].concat(r(n),r(c[e]))});var i={allFields:n,getFieldById:function(e){return n.find(function(t){return e._fieldDefId===t._fieldDefId})},getFields:function(e,t){return c[e]?c[e].map(function(n,r,a){var o=i.mergeRecursive(angular.copy(l),n);e.startsWith("custom")||Object.assign(o,{_fieldGroup:e});var s=JSON.parse(o._configJson);return s.fields&&s.fields.forEach(function(e,t){s.fields[t]=i.mergeRecursive(angular.copy(l),e)}),s.cmp=t,o._configJson=JSON.stringify(s),i.updateFieldOptions(o),o}):(console.error('fields for the "'+e+'" field group could not be rendered.'),[])},updateFieldAttributes:function(e){var t=[],n=this.getFieldById(e);if(null!=n){var r=Object.assign({},l,n);!function e(n,r){var i=Object.keys(r);Object.keys(n).forEach(function(a){if("string"==typeof n[a]&&n[a].startsWith('{"')){var o=JSON.parse(n[a]),l=JSON.parse(r[a]);e(o,l),r[a]=JSON.stringify(l)
}else n[a]&&n[a].length&&"object"===s(n[a])&&!Array.isArray(n[a])?e(n[a],r[a]):i.includes(a)||(r[a]=n[a],t.push(a))})}(r,e)}return t},updateFieldOptions:function(t){var n=JSON.parse(t._configJson),i=[];try{return null!=n.externalSource&&null!=e[n.externalSource]&&(t._options.length&&t._options.length===e[n.externalSource].enums.length||(t._options=e[n.externalSource].enums.map(function(e){return e.name}),i=[].concat(r(t._options)))),i}catch(e){console.log(e)}},addStepIdToField:function(e){e.forEach(function(e){e.fieldGroups&&e.fieldGroups.forEach(function(t){t.forEach(function(t){null==t._step&&(t._step={}),t._step.id=e.id})})})},updateActiveCredentialSelection:function(e,t){var n=e._externalData.split(".");n.length<4?(t&&n.push("Active"),e._externalData=n.join(".")):(t||n.pop(),e._externalData=n.join("."))},getValidator:function(e){return p[e]},mergeRecursive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("[object Object]"!==Object.prototype.toString.call(e)||"[object Object]"!==Object.prototype.toString.call(n))return void console.error("all arguments must be of type [object Object]");for(var a in n)try{n.hasOwnProperty(a)&&(t.isObject(n[a])&&t.isObject(e[a])?e[a]=i.mergeRecursive(e[a],n[a],r):e[a]&&Array.isArray(n[a])&&n[a].length&&n[a].every(t.isObject)?e[a]=n[a].map(function(t,n){return i.mergeRecursive(e[t][n],t,r)}):t.isObject(JSON.parse(n[a]))?e[a]=JSON.stringify(i.mergeRecursive(JSON.parse(e[a]),JSON.parse(n[a]),r)):(e[a]&&r||!e[a])&&(e[a]=n[a]))}catch(t){(e[a]&&r||!e[a])&&(e[a]=n[a])}return e}};return i}o.$inject=["ssEnum","ssObjectHlp"];var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={_active:!0,_configJson:'{"width": "100%", "mappable": true}',_externalData:"",_fieldDefId:null,_fieldGroup:null,_fieldType:"super-input-text",_label:"",_options:[],_permissions:[],_required:!1,_sampleData:null,_sensitive:!1,_step:{},_tokenFields:[],_updateEmployeeRecord:!1},c={credentials:[{_fieldDefId:"c9eefacc-9c52-4527-b942-eb870cedbf44",_label:"Certificate/License(s)",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.CertificateLicense",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Certificate/License(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Certificate/License(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 1},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 2},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 3},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Certification Number",\n\t\t\t\t\t\t"_placeholderLabel":"Certification Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 4},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verification Status",\n\t\t\t\t\t\t"_placeholderLabel":"Verification Status",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 5},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%", "mappable": false, "defaultOrder": 6},\n\t\t\t\t\t\t "_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 7},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 8},\n\t\t\t\t\t\t"_tableViewChecked": true\n\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"4791944d-c33b-4cf7-9474-ca0d5d97a95f",_label:"Clearance(s)",_externalData:"Employee.Credentials.Clearance",_fieldType:"cmp-credential-group",_configJson:'{\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Clearance(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Clearance(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 1},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 2},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 3},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Document Number",\n\t\t\t\t\t\t"_placeholderLabel":"Document Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 4},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verification Status",\n\t\t\t\t\t\t"_placeholderLabel":"Verification Status",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 5},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%", "mappable": false, "defaultOrder": 6},\n\t\t\t\t\t\t "_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%", "mappable": false, "defaultOrder": 7},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 8},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"51c4735e-07b7-492b-a181-1b4aef352578",_label:"Driver's License(s)",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.DriversLicense",_configJson:'{\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"mappable": false,\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Driver\'s License(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Driver\'s License(s)",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 1},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 2},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 3},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Driver License Number",\n\t\t\t\t\t\t"_placeholderLabel":"Driver License Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 4},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verification Status",\n\t\t\t\t\t\t"_placeholderLabel":"Verification Status",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 5},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%","mappable": false, "defaultOrder": 6},\n\t\t\t\t\t\t "_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 7},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 8},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'},{_fieldDefId:"0dd5a6bb-852f-459c-9668-227dd4f813bd",_label:"Other/Custom",_fieldType:"cmp-credential-group",_externalData:"Employee.Credentials.Custom",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"formFieldValueProperty": "CredentialType",\n\t\t\t\t\t\t"_label": "Other/Custom",\n\t\t\t\t\t\t"_placeholderLabel":"Other/Custom",\n\t\t\t\t\t\t"_fieldType": "heading",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 1},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label": "Credential Name",\n\t\t\t\t\t\t"_placeholderLabel":"Credential Name",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 2},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "Issuer",\n\t\t\t\t\t\t"_label":"Issuer",\n\t\t\t\t\t\t"_placeholderLabel":"Issuer",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 3},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "DocumentNumber",\n\t\t\t\t\t\t"_label":"Document Number",\n\t\t\t\t\t\t"_placeholderLabel":"Document Number",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 4},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "IsVerified",\n\t\t\t\t\t\t"_label":"Verification Status",\n\t\t\t\t\t\t"_placeholderLabel":"Verification Status",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 5},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "StateStartedDay",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_configJson":{"width": "50%","mappable": false, "defaultOrder": 6},\n\t\t\t\t\t\t "_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "ExpirationDay",\n\t\t\t\t\t\t"_label":"Expiration Date",\n\t\t\t\t\t\t"_placeholderLabel":"Expiration Date",\n\t\t\t\t\t\t"_fieldType":"readOnlyDate",\n\t\t\t\t\t\t"_configJson":{"width": "50%","mappable": false, "defaultOrder": 7},\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t},{\n\t\t\t\t\t\t"formFieldValueProperty": "SubjectArea",\n\t\t\t\t\t\t"_label":"Subject Area(s)",\n\t\t\t\t\t\t"_placeholderLabel":"Subject Area(s)",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_configJson":{"mappable": false, "defaultOrder": 8},\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'}],legalName:[{_configJson:'{"mappable": false}',_label:"Legal Name",_placeholderLabel:"Legal Name",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45",_label:"Title",_placeholderLabel:"Title",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "salutation", "readOnly":"_title"}',_externalData:"Employee.Title",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"b2d3891a-9b39-4ea7-b00f-597a355c2bda",_label:"First Name",_placeholderLabel:"First Name",_configJson:'{"width":"25%", "readOnly":"_firstName"}',_externalData:"Employee.FirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"72cdb2b4-6073-47fd-a4b3-70e1fffe5504",_label:"Middle Name",_placeholderLabel:"Middle Name",_configJson:'{"width":"20%", "readOnly":"_middleName"}',_externalData:"Employee.MiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"14259f84-46e7-4b73-9558-8a225171e7e1",_label:"Last Name",_placeholderLabel:"Last Name",_configJson:'{"width":"25%", "readOnly":"_lastName"}',_externalData:"Employee.LastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"f443473f-bf27-4421-96e3-78d2730b3fe9",_label:"Suffix",_placeholderLabel:"Suffix",_fieldType:"super-select-list",_configJson:'{"width":"15%", "externalSourceType": "enum", "externalSource": "suffix", "readOnly":"_suffix"}',_externalData:"Employee.Suffix",_sampleData:2,_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"a6b748c3-5327-447e-8bb9-3b0d778e787e",_label:"Preferred Name",_placeholderLabel:"Preferred Name",_configJson:'{"width":"30%", "readOnly":"_preferredName"}',_externalData:"Employee.PreferredName",_sampleData:"James",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_featureFlags:[{name:"fc_apr_2021_enable_preferred_staff_member_name",showIfActive:!0}]}],aliasName:[{_configJson:'{"mappable": false}',_label:"Other Name",_placeholderLabel:"Other Name",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"8f4a60cd-548e-419b-bfd4-fdf92c3fbe60",_label:"First Name",_placeholderLabel:"Other First Name",_configJson:'{"width":"33%", "readOnly":"_aliasFirstName", "uniqueLabel":"Other First Name"}',_externalData:"Employee.AliasFirstName",_sampleData:"John",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"37ef5ec9-6356-4d96-83c1-f184fcc93b08",_label:"Middle Name",_placeholderLabel:"Other Middle Name",_configJson:'{"width":"33%", "readOnly":"_aliasMiddleName", "uniqueLabel":"Other Middle Name"}',_externalData:"Employee.AliasMiddleName",_sampleData:"Quincy",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"fc7c530f-49e8-493a-ad8c-678675061cfc",_label:"Last Name",_placeholderLabel:"Other Last Name",_configJson:'{"width":"33%", "readOnly":"_aliasLastName", "uniqueLabel":"Other Last Name"}',_externalData:"Employee.AliasLastName",_sampleData:"Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}}],address:[{_configJson:'{"mappable": false}',_label:"Address",_placeholderLabel:"Address",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"4429b708-0db0-4d8d-af45-baeb4ca01245",_label:"Address 1",_placeholderLabel:"Address 1",_configJson:'{"readOnly":"address._street1", "uniqueLabel":"Address 1"}',_externalData:"Employee.Addresses.Primary.Street1",_sampleData:"123 Main St.",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e4d6142e-8c45-4a81-8cf9-3740a6923382",_label:"Address 2",_placeholderLabel:"Address 2",_configJson:'{"readOnly":"address._street2", "uniqueLabel":"Address 2"}',_externalData:"Employee.Addresses.Primary.Street2",_sampleData:"Apt. 1",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"e5ecad6a-5193-48b2-be95-ebd7401a5cf5",_label:"City",_placeholderLabel:"City",_configJson:'{"readOnly":"address._city", "uniqueLabel":"City"}',_externalData:"Employee.Addresses.Primary.City",_sampleData:"Anytown",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"07ebdcec-0ff6-46ad-92aa-121b8573b8a6",_label:"State",_placeholderLabel:"State",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "states", "readOnly":"address._state", "uniqueLabel":"State"}',_externalData:"Employee.Addresses.Primary.State",_sampleData:"NY",_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4dc761df-2ce8-498d-bb7d-27606480627b",_label:"Zip Code",_placeholderLabel:"Zip Code",_configJson:'{"width":"50%", "readOnly":"address._zip", "uniqueLabel":"Zip Code"}',_externalData:"Employee.Addresses.Primary.Zip",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"zip",options:{}}}],contact:[{_configJson:'{"mappable": false}',_label:"Contact Information",_placeholderLabel:"Contact Information",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"5e989212-29f0-43e4-8d02-1a6a047b7e48",_label:"Organization Phone",_placeholderLabel:"Organization Phone",_configJson:'{"width":"35%", "readOnly":"phoneNumbers.work"}',_externalData:"Employee.PhoneNumbers.Work.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"5c34865e-9e5b-4ece-96ca-d412254506a0",_label:"Organization Phone Ext.",_placeholderLabel:"Organization Phone Ext.",_configJson:'{"width":"35%","readOnly":"phoneNumbers.workExt", "uniqueLabel":"Organization Phone Ext."}',_externalData:"Employee.PhoneNumbers.Work.Extension",_sampleData:"1234",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"numeric",options:{}}},{_fieldDefId:"59523a6b-05c2-4eec-8f40-1bb40795f770",_label:"Primary",_placeholderLabel:"Primary",_configJson:'{"width":"15%","readOnly":"phoneNumbers.workIsPrimary", "uniqueLabel":"primary phone (work)"}',_externalData:"Employee.PhoneNumbers.Work.IsPrimary",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!0}]},{_fieldDefId:"5ad85079-17e2-4f55-8a7b-1f7004b61517",_label:"Can Receive Texts",_placeholderLabel:"Can Receive Texts",_configJson:'{"width":"15%","readOnly":"phoneNumbers.canRecieveTexts", "uniqueLabel":"Work # Can Receive Texts"}',_externalData:"Employee.PhoneNumbers.Work.CanRecieveTexts",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!0}]},{_fieldDefId:"0977c048-185c-4eec-8800-74842a7fbb4f",_label:"Personal Phone",_placeholderLabel:"Personal Phone",_configJson:'{"width":"35%","readOnly":"phoneNumbers.personal"}',_externalData:"Employee.PhoneNumbers.Personal.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"1961f259-b1e5-4852-9fd1-ffa5450d7850",_label:"Personal Phone Ext.",_placeholderLabel:"Personal Phone Ext.",_configJson:'{"width":"35%","readOnly":"phoneNumbers.personalExt", "uniqueLabel":"Personal Phone Ext."}',_externalData:"Employee.PhoneNumbers.Personal.Extension",_sampleData:"123",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"numeric",options:{}},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!0}]},{_fieldDefId:"7a2caf47-562c-4b28-90af-969357493586",_label:"Type",_placeholderLabel:"Personal Phone Type",_configJson:'{"width":"30%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.personalPhoneType", "uniqueLabel":"Personal Phone Type"}',_externalData:"Employee.PhoneNumbers.Personal.PhoneType",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!1}]},{_fieldDefId:"2cedb2be-12d9-4958-9247-d2e974a22bbc",_label:"Primary",_placeholderLabel:"Primary",_configJson:'{"width":"15%","readOnly":"phoneNumbers.personalIsPrimary", "uniqueLabel":"primary phone (personal)"}',_externalData:"Employee.PhoneNumbers.Personal.IsPrimary",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"}},{_fieldDefId:"1dd209a0-86bd-4a8d-ac1e-e679306c41b0",_label:"Can Receive Texts",_placeholderLabel:"Can Receive Texts",_configJson:'{"width":"15%","readOnly":"phoneNumbers.canRecieveTexts", "uniqueLabel":"Personal # Can Receive Texts"}',_externalData:"Employee.PhoneNumbers.Personal.CanRecieveTexts",_sampleData:!0,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!0}]},{_fieldDefId:"f658f159-910a-485f-89b7-f20559222f73",_label:"Other Phone",_placeholderLabel:"Other Phone",_configJson:'{"width":"50%","readOnly":"phoneNumbers.other"}',_externalData:"Employee.PhoneNumbers.Other.Number",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!1}]},{_fieldDefId:"9b7f605f-c5b4-46bd-8096-85acc8f358f6",_label:"Type",_placeholderLabel:"Other Phone Type",_configJson:'{"width":"25%", "externalSourceType": "enum", "externalSource": "phoneTypes","readOnly":"phoneNumbers.otherPhoneType", "uniqueLabel":"Other Phone Type"}',_externalData:"Employee.PhoneNumbers.Other.PhoneType",_sampleData:2,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!1}]},{_fieldDefId:"9e32dbea-8575-478a-9b98-4f731d9c121d",_label:"Primary",_placeholderLabel:"Primary",_configJson:'{"width":"25%","readOnly":"phoneNumbers.otherIsPrimary", "uniqueLabel":"primary phone (other)"}',_externalData:"Employee.PhoneNumbers.Other.IsPrimary",_sampleData:!1,_fieldType:"super-input-checkbox",_fieldTypeOptions:{edit:"super-input-checkbox",view:"readOnlyText"},_featureFlags:[{name:"fc_oct_2020_phone_email_type_restriction",showIfActive:!1}]},{_fieldDefId:"f513faf6-fb0d-43c3-851c-178121015d29",_label:"Organization E-mail",_placeholderLabel:"Organization E-mail",_configJson:'{"width":"50%","readOnly":"emails.work"}',_externalData:"Employee.Emails.Work.EmailAddress",_sampleData:"organization@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}},{_fieldDefId:"6172d8d3-cf07-41cf-b77d-2c0cf2e7bfd8",_label:"Personal E-mail",_placeholderLabel:"Personal E-mail",_configJson:'{"width":"50%","readOnly":"emails.personal"}',_externalData:"Employee.Emails.Personal.EmailAddress",_sampleData:"personal@email.com",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"email",options:{}}}],personal:[{_configJson:'{"mappable": false}',_label:"Personal",_placeholderLabel:"Personal",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"aa736224-2a09-490a-b069-7cc945a040ea",_label:"Birth Date",_placeholderLabel:"Birth Date",_configJson:'{"width":"50%","readOnly":"personalInfo.birthDate"}',_externalData:"Employee.BirthDateUtc",_sampleData:"01/01/0001",_fieldType:"super-iso-org-date",_fieldTypeOptions:{edit:"super-iso-org-date",view:"readOnlyDate"},_sensitive:!0},{_fieldDefId:"ba2d2021-59b6-45b9-9e4b-c501d064e012",_label:"SSN",_placeholderLabel:"SSN",_configJson:'{"width":"50%","readOnly":"personalInfo.ssn"}',_externalData:"Employee.SSN",_sampleData:"123-45-6789",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_sensitive:!0,_validator:{type:"ssn",options:{}}},{_fieldDefId:"4b232b2d-aa7a-4578-b620-cf241caee9ce",_label:"External ID",_placeholderLabel:"External ID",_configJson:'{"width":"50%","readOnly":"personalInfo.externalId"}',_externalData:"Employee.ExternalId",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"667655b4-318c-4173-94e9-7c49a532b3e1",_label:"State Educator ID",_placeholderLabel:"State Educator ID",_configJson:'{"width":"50%","readOnly":"personalInfo.stateEducatorId"}',_externalData:"Employee.StateEducatorId",_sampleData:"12345",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"b78df686-cfbf-463f-919b-26acee984abc",_label:"Marital Status",_placeholderLabel:"Marital Status",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "maritalStatus","readOnly":"personalInfo.maritalStatus"}',_externalData:"Employee.MaritalStatus",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"3fe07f5a-f5b5-4c31-b975-b2d363b76240",_label:"Gender",_placeholderLabel:"Gender",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "gender","readOnly":"personalInfo.gender"}',_externalData:"Employee.Gender",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"c78acc62-5b6a-4401-a0fb-8c0cd8cd4ca1",_label:"Ethnicity",_placeholderLabel:"Ethnicity",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "ethnicity","readOnly":"personalInfo.ethnicity"}',_externalData:"Employee.Ethnicity",_sampleData:1,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"bd5cc16e-b1b5-4246-98da-8289bc24a451",_label:"Race",_placeholderLabel:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race","readOnly":"personalInfo.race"}',_externalData:"Employee.Race",_sampleData:4,_featureFlags:[{name:"fc_enable_multiple_races",showIfActive:!1}],_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"07b5eaed-e8df-4193-9517-9983d597c313",_label:"Race",_placeholderLabel:"Race",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "race"}',_externalData:"Employee.MultipleRaces",_sampleData:4,_featureFlags:[{name:"fc_enable_multiple_races",showIfActive:!0}],_fieldType:"super-combo-select-list",_fieldTypeOptions:{edit:"super-combo-select-list",view:"readOnlyText"},_validator:{type:"array",options:{},applyOnRequired:!0}}],employment:[{_configJson:'{"mappable": false}',_label:"Employment",_placeholderLabel:"Employment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"8d33bb12-8ab6-476a-b306-91e82cbe30f4",_label:"Hire Date",_placeholderLabel:"Hire Date",_configJson:'{"width":"33%", "readOnly":"_hireDate"}',_externalData:"Employee.HireDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"e45f9c7a-4621-4b88-ae21-e3abd33ab366",_label:"Seniority Date",_placeholderLabel:"Seniority Date",_configJson:'{"width":"33%", "readOnly":"_seniorityDate"}',_externalData:"Employee.SeniorityDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"7e784681-a31e-4af3-9756-cb2d5077ea3c",_label:"Tenure Date",_placeholderLabel:"Tenure Date",_configJson:'{"width":"33%", "readOnly":"_tenureDate"}',_externalData:"Employee.TenureDate",_sampleData:"01/01/0001",_fieldType:"readOnlyDate",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"5f3161f2-3bb8-47d5-b7a1-fc64d1300a49",_label:"Work Relationship",_placeholderLabel:"Work Relationship",_configJson:'{"width":"33%", "readOnly":"_workRelationship"}',_externalData:"Employee.WorkRelationship",_sampleData:"Work Relationship",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!0,name:"fc_work_relationships"}]},{_fieldDefId:"9bd2c469-c10c-4ab4-a7c6-a3e1bfbf881f",_label:"Staff Type",_placeholderLabel:"Staff Type",_configJson:'{"width":"33%", "readOnly":"_staffType"}',_externalData:"Employee.StaffType",_sampleData:"Staff Type",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!0,name:"fc_work_relationships"}]}],primaryAssignment:[{_configJson:'{"mappable": false}',_label:"Primary Assignment",_placeholderLabel:"Primary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc", "uniqueLabel": "Primary Asgmt. Start Date"}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc", "uniqueLabel": "Primary Asgmt. End Date"}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name", "uniqueLabel":"Primary Asgmt. Employment Group"}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",
_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name", "uniqueLabel":"Primary Asgmt. Job Type"}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Name",_placeholderLabel:"Position Name",_configJson:'{"readOnly":"primaryPosition.name", "uniqueLabel":"Primary Asgmt. Position"}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name", "uniqueLabel":"Primary Asgmt. Location"}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name", "uniqueLabel":"Primary Asgmt. Dept."}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte", "uniqueLabel":"Primary Asgmt. FTE"}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "uniqueLabel":"Primary Asgmt. Hours/Day"}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "uniqueLabel":"Primary Asgmt. Work Days/Year"}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]}],primaryAssignmentNew:[{_configJson:'{ "tableView": "false", "tableWidth": 100 , "tableAlignment": "center" ,"tableViewChecked": false,"isTableSwapped": false,"isFieldMoved": false, "defaultOrder": 1}'},{_configJson:'{"header": "Primary Assignment", "mappable": false,"tableViewChecked": true, "defaultOrder": 2}',_label:"Primary Assignment",_placeholderLabel:"Primary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false , "tableViewChecked": true, "defaultOrder": 3}',_fieldType:"instructions",_label:""},{_fieldDefId:"5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedStartDateUtc", "header": "Primary Assignment", "uniqueLabel": "Primary Asgmt. Start Date", "tableViewChecked": false, "defaultOrder": 4}',_externalData:"Employee.Assignments.Primary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"76c6ac41-1b54-4f19-b768-4ecc8e71dce1",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"primaryAssignment.formattedEndDateUtc", "header": "Primary Assignment", "uniqueLabel": "Primary Asgmt. End Date", "tableViewChecked": false, "defaultOrder": 5}',_externalData:"Employee.Assignments.Primary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"1efc9ba2-4c12-4270-a353-4d828ac942de",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType.employmentGroup.name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Employment Group", "tableViewChecked": false, "defaultOrder": 6}',_externalData:"Employee.Assignments.Primary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"1515243d-d6e3-4707-84f5-1ed380a2f2ce",_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"primaryPosition.jobType._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Job Type", "tableViewChecked": false, "defaultOrder": 7}',_externalData:"Employee.Assignments.Primary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",_label:"Position Name",_placeholderLabel:"Position Name",_configJson:'{"readOnly":"primaryPosition.name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Position", "tableViewChecked": true, "defaultOrder": 8}',_externalData:"Employee.Assignments.Primary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"1fd44d06-ddc0-48a8-89be-7373a3d724ca",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"primaryPosition.location._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Location", "tableViewChecked": false, "defaultOrder": 9}',_externalData:"Employee.Assignments.Primary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"9c165824-f3d9-428e-b28e-4750ac27c1df",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"primaryPosition.department._name", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Dept.", "tableViewChecked": false, "defaultOrder": 10}',_externalData:"Employee.Assignments.Primary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"71fb6f82-c489-4cd0-ba4e-785c43ad0798",_label:"Contract Group",_placeholderLabel:"Contract Group",_configJson:'{"width":"50%",  "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Contract Group", "tableViewChecked": false, "defaultOrder": 11}',_externalData:"Employee.Assignments.Primary.ContractGroup.Name",_sampleData:"Full Time Staff",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!0,name:"fc_enable_contract_groups"}]},{_fieldDefId:"2504b580-2655-456e-9377-93dd0e2fcb61",_label:"Contract Group Type",_placeholderLabel:"Contract Group Type",_configJson:'{"width":"50%", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Contract Group Type", "tableViewChecked": false, "defaultOrder": 12}',_externalData:"Employee.Assignments.Primary.ContractGroup.Type",_sampleData:"Offer of Employment",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!0,name:"fc_enable_contract_groups"}]},{_fieldDefId:"cdcc0683-5468-4a6b-883f-170d41c4e519",_placeholderLabel:"External ID",_label:"External ID",_configJson:'{"width":"50%", "readOnly":"primaryPosition.externalId", "header":"Primary Assignment", "uniqueLabel":"Primary Asgmt. External ID", "tableViewChecked": false, "defaultOrder": 13}',_externalData:"Employee.Assignments.Primary.ExternalId",_sampleData:"123ABC",_fieldType:"readOnlyText"},{_fieldDefId:"94088ca8-de8a-4bcd-b87b-81dd67803367",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._fTE != null) ? primaryAssignment.currentDetails._fTE : primaryPosition.jobType._currentJobTypeDetail.fte", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. FTE", "tableViewChecked": false, "defaultOrder": 14}',_externalData:"Employee.Assignments.Primary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"6cf4854a-9607-49e2-8b66-c550375bba10",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._hoursPerDay != null) ? primaryAssignment.currentDetails._hoursPerDay : primaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Hours/Day", "tableViewChecked": false, "defaultOrder": 15}',_externalData:"Employee.Assignments.Primary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"90adbdc6-f364-4a9e-b517-7fac47a74a22",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._workDaysPerYear != null) ? primaryAssignment.currentDetails._workDaysPerYear : primaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "header": "Primary Assignment", "uniqueLabel":"Primary Asgmt. Work Days/Year", "tableViewChecked": false, "defaultOrder": 16}',_externalData:"Employee.Assignments.Primary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_label:"Assignment Benefits",_placeholderLabel:"Assignment Benefits",_fieldType:"readOnlySubheading",_configJson:'{"header": "Assignment Benefits", "tableViewChecked": true, "isVisible": false, "defaultOrder": 17}',_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Sick Days/Year", "tableViewChecked": false, "defaultOrder": 18}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Personal Days/Year", "tableViewChecked": false, "defaultOrder": 19}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Vacation Days/Year", "tableViewChecked": false, "defaultOrder": 20}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Paid Holidays", "tableViewChecked": false, "defaultOrder": 21}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name", "header": "Assignment Benefits", "uniqueLabel":"Primary Asgmt. Ret. System", "tableViewChecked": false, "defaultOrder": 22}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText",_subHeader:"Assignment Benefits",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_label:"Assignment Compensation",_placeholderLabel:"Assignment Compensation",_fieldType:"readOnlySubheading",_configJson:'{"header": "Assignment Compensation", "tableViewChecked": true, "isVisible": false, "defaultOrder": 23}',_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Schedule", "tableViewChecked": false, "defaultOrder": 24}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Lane", "tableViewChecked": false, "defaultOrder": 25}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay Step", "tableViewChecked": false, "defaultOrder": 26}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay/Year", "tableViewChecked": false, "defaultOrder": 27}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Pay/Period", "tableViewChecked": false, "defaultOrder": 28}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency", "header": "Assignment Compensation", "uniqueLabel":"Primary Asgmt. Salary", "tableViewChecked": true, "defaultOrder": 29}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]}],assignments:[{_fieldDefId:"54c1e578-f3f5-4832-be7f-7e5abe48fb45YYYY",_label:"Secondary Assignment(s)",_placeholderLabel:"Secondary Assignment(s)",_fieldType:"cmp-secondary-assignments",_externalData:"secondaryAssignments",
_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"_fieldDefId": "5d3ebdb0-f907-4ec3-8886-f2bfe0ba6666",\n\t\t\t\t\t\t"_label": "Secondary Assignment",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Assignment",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Assignment", "mappable": false,"width": "100%", "defaultOrder": 1},\n\t\t\t\t\t\t"_fieldType": "readOnlyHeading",\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_configJson": {"mappable": false,"width": "100%", "defaultOrder": 2},\n\t\t\t\t\t\t"_fieldType": "instructions",\n\t\t\t\t\t\t"_label": ""\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "5d3ebdb0-f907-4ec3-8886-f2bfe0ba66e9",\n\t\t\t\t\t\t"_label": "Start Date",\n\t\t\t\t\t\t"_placeholderLabel": "Start Date",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.formattedStartDateUtc","header":"Secondary Assignment","mappable": false, "defaultOrder": 3},\n\t\t\t\t\t\t"_formFieldValueProperty": "StartDateTimeUtc",\n\t\t\t\t\t\t"_sampleData": "01/01/0001",\n\t\t\t\t\t\t"_fieldType": "readOnlyDate",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "76c6ac41-1b54-4f19-b768-4ecc8e71dce1",\n\t\t\t\t\t\t"_label": "End Date",\n\t\t\t\t\t\t"_placeholderLabel": "End Date",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.formattedEndDateUtc","header":"Secondary Assignment", "mappable": false, "defaultOrder": 4},\n\t\t\t\t\t\t"_formFieldValueProperty": "EndDateTimeUtc",\n\t\t\t\t\t\t"_sampleData": "01/01/0001",\n\t\t\t\t\t\t"_fieldType": "readOnlyDate",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",\n\t\t\t\t\t\t"_label": "Employment Group",\n\t\t\t\t\t\t"_placeholderLabel": "Employment Group",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.name","header":"Secondary Assignment","mappable": false, "defaultOrder": 5},\n\t\t\t\t\t\t"_formFieldValueProperty": "EmploymentGroupName",\n\t\t\t\t\t\t"_sampleData": "First Grade",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "1515243d-d6e3-4707-84f5-1ed380a2f2ce",\n\t\t\t\t\t\t"_label": "Job Type",\n\t\t\t\t\t\t"_placeholderLabel": "Job Type",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.jobType._name","header":"Secondary Assignment","mappable": false, "defaultOrder": 6},\n\t\t\t\t\t\t"_formFieldValueProperty": "JobTypeName",\n\t\t\t\t\t\t"_sampleData": "Teacher",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "fc5d9260-2fe8-438a-bdc8-2e7e2784db7d",\n\t\t\t\t\t\t"_label": "Position Name",\n\t\t\t\t\t\t"_placeholderLabel": "Position Name",\n\t\t\t\t\t\t"_configJson": {"readOnly":"secondaryPosition.name","header":"Secondary Assignment","mappable": false,"width":"100%", "defaultOrder": 7},\n\t\t\t\t\t\t"_formFieldValueProperty": "PositionName",\n\t\t\t\t\t\t"_sampleData": "First Grade",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "1fd44d06-ddc0-48a8-89be-7373a3d724ca",\n\t\t\t\t\t\t"_label": "Location",\n\t\t\t\t\t\t"_placeholderLabel": "Location",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.location._name","header":"Secondary Assignment","mappable": false, "defaultOrder": 8},\n\t\t\t\t\t\t"_formFieldValueProperty": "LocationName",\n\t\t\t\t\t\t"_sampleData": "ABC Elementary School",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "9c165824-f3d9-428e-b28e-4750ac27c1df",\n\t\t\t\t\t\t"_label": "Department",\n\t\t\t\t\t\t"_placeholderLabel": "Department",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryPosition.department._name","header":"Secondary Assignment","mappable": false, "defaultOrder": 9},\n\t\t\t\t\t\t"_formFieldValueProperty": "DepartmentName",\n\t\t\t\t\t\t"_sampleData": "Elementary",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "53816b4e-8016-44fb-88d0-6c5841502ba6",\n\t\t\t\t\t\t"_label": "Contract Group",\n\t\t\t\t\t\t"_placeholderLabel": "Contract Group",\n\t\t\t\t\t\t"_formFieldValueProperty": "ContractGroup",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.contractGroup._name", "header":"Secondary Assignment", "defaultOrder": 10},\n\t\t\t\t\t\t"_sampleData": "Full Time Staff",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": true,\n\t\t\t\t\t\t\t"name": "fc_enable_contract_groups"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "7d7444b2-9a47-476d-9aa5-148b983250a1",\n\t\t\t\t\t\t"_label": "Contract Group Type",\n\t\t\t\t\t\t"_placeholderLabel": "Contract Group Type",\n\t\t\t\t\t\t"_formFieldValueProperty": "ContractGroupType",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.contractGroupType._name", "header":"Secondary Assignment", "defaultOrder": 11},\n\t\t\t\t\t\t"_sampleData": "Offer to Employment",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": true,\n\t\t\t\t\t\t\t"name": "fc_enable_contract_groups"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "577f1424-fa35-4eeb-a9ba-05a738ea1370",\n\t\t\t\t\t\t"_placeholderLabel": "External ID",\n\t\t\t\t\t\t"_label": "External ID",\n\t\t\t\t\t\t"_formFieldValueProperty": "ExternalId",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"secondaryAssignment.externalId", "header":"Secondary Assignment", "defaultOrder": 12},\n\t\t\t\t\t\t"_sampleData": "123ABC",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "94088ca8-de8a-4bcd-b87b-81dd67803367",\n\t\t\t\t\t\t"_label": "FTE",\n\t\t\t\t\t\t"_placeholderLabel": "FTE",\n\t\t\t\t\t\t"_formFieldValueProperty": "Fte",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._fTE != null) ? secondaryAssignment.currentDetails._fTE : secondaryPosition.jobType._currentJobTypeDetail.fte","header":"Secondary Assignment","mappable": false, "defaultOrder": 13},\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "6cf4854a-9607-49e2-8b66-c550375bba10",\n\t\t\t\t\t\t"_label": "Hours Per Day",\n\t\t\t\t\t\t"_placeholderLabel": "Hours Per Day",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._hoursPerDay != null) ? secondaryAssignment.currentDetails._hoursPerDay : secondaryPosition.jobType._currentJobTypeDetail.hoursPerDay", "header": "Secondary Assignment","mappable": false, "defaultOrder": 14},\n\t\t\t\t\t\t"_formFieldValueProperty": "HoursPerDay",\n\t\t\t\t\t\t"_sampleData": "7.5",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "90adbdc6-f364-4a9e-b517-7fac47a74a22",\n\t\t\t\t\t\t"_label": "Work Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Work Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(secondaryAssignment.currentDetails._workDaysPerYear != null) ? secondaryAssignment.currentDetails._workDaysPerYear : secondaryPosition.jobType._currentJobTypeDetail.workDaysPerYear", "header": "Secondary Assignment","mappable": false, "defaultOrder": 15},\n\t\t\t\t\t\t"_formFieldValueProperty": "WorkDays",\n\t\t\t\t\t\t"_sampleData": "180",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_label": "Secondary Benefits",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Benefits",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Benefits","mappable": false,"width": "100%", "tableView": false, "defaultOrder": 16},\n\t\t\t\t\t\t"_fieldType": "readOnlySubheading",\n\t\t\t\t\t\t"_tableViewChecked": true,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "9220e992-9832-405f-aae2-2e80419e6128",\n\t\t\t\t\t\t"_label": "Sick Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Sick Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "header": "Sec0ondary Benefits","mappable": false, "defaultOrder": 17},\n\t\t\t\t\t\t"_formFieldValueProperty": "SickDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "98fb9c91-ff03-4089-b028-844e407f39ec",\n\t\t\t\t\t\t"_label": "Pers. Days Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Pers. Days Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "header": "Secondary Benefits","mappable": false, "defaultOrder": 18},\n\t\t\t\t\t\t"_formFieldValueProperty": "PersonalDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "9e674c8e-5347-42b5-8100-fad4edfbebc4",\n\t\t\t\t\t\t"_label": "Vacation Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Vacation Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "header": "Secondary Benefits","mappable": false, "defaultOrder": 19},\n\t\t\t\t\t\t"_formFieldValueProperty": "VacationDaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "cf9ce02d-f7b1-455d-85ed-614e361f112a",\n\t\t\t\t\t\t"_label": "Paid Holidays",\n\t\t\t\t\t\t"_placeholderLabel": "Paid Holidays",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "header": "Secondary Benefits","mappable": false, "defaultOrder": 20},\n\t\t\t\t\t\t"_formFieldValueProperty": "PaidHolidaysPerSchoolYear",\n\t\t\t\t\t\t"_sampleData": "10",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "91bef119-7b9e-4c3d-9e09-360f32ce78ba",\n\t\t\t\t\t\t"_label": "Retirement System",\n\t\t\t\t\t\t"_placeholderLabel": "Retirement System",\n\t\t\t\t\t\t"_configJson": {"width":"50%", "readOnly":"retirementSystem.name", "header": "Secondary Benefits","mappable": false, "defaultOrder": 21},\n\t\t\t\t\t\t"_formFieldValueProperty": "RetirementSystemName",\n\t\t\t\t\t\t"_sampleData": "ABCD",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_label": "Secondary Compensation",\n\t\t\t\t\t\t"_placeholderLabel": "Secondary Compensation",\n\t\t\t\t\t\t"_configJson": {"header": "Secondary Compensation","mappable": false,"width": "100%","tableView": false, "defaultOrder": 22},\n\t\t\t\t\t\t"_fieldType": "readOnlySubheading",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "eec7acd5-4302-4b33-9014-364202832e3e",\n\t\t\t\t\t\t"_label": "Pay Schedule",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Schedule",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name", "header": "Secondary Compensation","mappable": false, "defaultOrder": 23},\n\t\t\t\t\t\t"_sampleData": "Teacher Pay Table",\n\t\t\t\t\t\t"_formFieldValueProperty": "PayScheduleName",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "3211dabc-b9da-474a-89f6-de17d2446bbb",\n\t\t\t\t\t\t"_label": "Pay Lane",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Lane",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayLane.name", "header": "Secondary Compensation","mappable": false, "defaultOrder": 24},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayLaneName",\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "8031280b-27cb-4d0d-bbc6-ac3832947685",\n\t\t\t\t\t\t"_label": "Pay Step",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Step",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayStep.name", "header": "Secondary Compensation","mappable": false, "defaultOrder": 25},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayStepName",\n\t\t\t\t\t\t"_sampleData": "1",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "be022480-b100-43ca-a47e-71be6b027e93",\n\t\t\t\t\t\t"_label": "Pay Per Year",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Per Year",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "header": "Secondary Compensation","mappable": false, "defaultOrder": 26},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayPeriodsPerYear",\n\t\t\t\t\t\t"_sampleData": "24",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",\n\t\t\t\t\t\t"_label": "Pay Per Period",\n\t\t\t\t\t\t"_placeholderLabel": "Pay Per Period",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherPayPerPeriod | currency", "header": "Secondary Compensation","mappable": false, "defaultOrder": 27},\n\t\t\t\t\t\t"_formFieldValueProperty": "PayPerPeriod",\n\t\t\t\t\t\t"_sampleData": "$1000",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "7ad63aae-4ccd-4551-b038-ad250dd6ea68",\n\t\t\t\t\t\t"_label": "Salary",\n\t\t\t\t\t\t"_placeholderLabel": "Salary",\n\t\t\t\t\t\t"_configJson": {"width":"33%", "readOnly":"otherSalary | currency", "header": "Secondary Compensation","mappable": false, "defaultOrder": 28},\n\t\t\t\t\t\t"_formFieldValueProperty": "Salary",\n\t\t\t\t\t\t"_sampleData": "$24,000",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": true,\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": false,\n\t\t\t\t\t\t\t"name": "isHRMSEnabled"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'}],supplementals:[{_fieldDefId:"de7ffb7a-75c6-4529-a1a9-bfb9bf9f41c2",_label:"Supplementals",_fieldType:"cmp-supplementals",_externalData:"Employee.Supplementals",_configJson:'{\n\t\t\t\t"mappable": false,\n\t\t\t\t"tableConfig": {\n\t\t\t\t\t"view": "false",\n\t\t\t\t\t"width": 100,\n\t\t\t\t\t"alignment": "center",\n\t\t\t\t\t"isSwapped": false\n\t\t\t\t},\n\t\t\t\t"fields":[\n\t\t\t\t\t{\n\t\t\t\t\t\t"_fieldDefId": "b5f2d6d2-3522-4861-ac45-df71e1cbcd00",\n\t\t\t\t\t\t"_label": "Supplementals",\n\t\t\t\t\t\t"_placeholderLabel": "Supplementals",\n\t\t\t\t\t\t"_configJson": {"header": "Supplementals", "mappable": false, "width": "100%", "defaultOrder": 1},\n\t\t\t\t\t\t"_fieldType": "readOnlyHeading",\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_configJson": {"mappable": false,"width": "100%", "defaultOrder": 2},\n\t\t\t\t\t\t"_fieldType": "instructions",\n\t\t\t\t\t\t"_label": "",\n\t\t\t\t\t\t"_tableViewChecked": true\n\t\t\t\t\t}, {\n\t\t\t\t\t\t"_fieldDefId": "25a4cc18-1def-4b87-b2f1-2939b0d73284",\n\t\t\t\t\t\t "_formFieldValueProperty": "StartDate",\n\t\t\t\t\t\t "_label":"Start Date",\n\t\t\t\t\t\t "_placeholderLabel":"Start Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_tableViewChecked": false,\n\t\t\t\t\t\t "_configJson":{"width": "30%", "mappable": false, "readOnly": "supplemental.startDate", "header": "Supplementals", "defaultOrder": 3}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "627c154e-b729-4454-9148-f9bc91650afc",\n\t\t\t\t\t\t "_formFieldValueProperty": "EndDate",\n\t\t\t\t\t\t "_label":"End Date",\n\t\t\t\t\t\t "_placeholderLabel":"End Date",\n\t\t\t\t\t\t "_fieldType":"readOnlyDate",\n\t\t\t\t\t\t "_tableViewChecked": false,\n\t\t\t\t\t\t "_configJson":{"width": "50%", "mappable": false,"readOnly": "supplemental.endDate", "header": "Supplementals", "defaultOrder": 4}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "934d3fd4-35ac-47d9-9410-da7f756f6101",\n\t\t\t\t\t\t"_formFieldValueProperty": "Name",\n\t\t\t\t\t\t"_label":"Name",\n\t\t\t\t\t\t"_placeholderLabel":"Name",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": true,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 5}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "3fac20c8-26ef-4942-95a3-b22c8127592a",\n\t\t\t\t\t\t"_formFieldValueProperty": "TotalPayAmount",\n\t\t\t\t\t\t"_label":"Total Payment Amount",\n\t\t\t\t\t\t"_placeholderLabel":"Total Payment Amount",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": true,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 6}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "5e72d8bc-7b31-4672-811b-51c540cbc225",\n\t\t\t\t\t\t"_label":"Total Installments",\n\t\t\t\t\t\t"_placeholderLabel":"Total Installments",\n\t\t\t\t\t\t"_formFieldValueProperty": "TotalInstallments",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 7}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "4a6306e6-dc73-4b6c-98b6-eb39150fa1a8",\n\t\t\t\t\t\t"_formFieldValueProperty": "ExternalId",\n\t\t\t\t\t\t"_label":"External ID",\n\t\t\t\t\t\t"_placeholderLabel":"External ID",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 8}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "9774d8b5-72a6-4065-8d3b-fbe0e329d44b",\n\t\t\t\t\t\t"_formFieldValueProperty": "Reason",\n\t\t\t\t\t\t"_label":"Reason",\n\t\t\t\t\t\t"_placeholderLabel":"Reason",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 9}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "ead51e2f-8215-4cdb-98f9-6f2191c59ecd",\n\t\t\t\t\t\t"_formFieldValueProperty": "Type",\n\t\t\t\t\t\t"_label":"Type",\n\t\t\t\t\t\t"_placeholderLabel":"Type",\n\t\t\t\t\t\t"_fieldType":"readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 10}\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "921436d6-b024-4c6c-9148-dddfe894d25a",\n\t\t\t\t\t\t"_formFieldValueProperty": "ContractGroup",\n\t\t\t\t\t\t"_label": "Contract Group",\n\t\t\t\t\t\t"_placeholderLabel": "Contract Group",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson":{"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 11},\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": true,\n\t\t\t\t\t\t\t"name": "fc_enable_contract_groups"\n\t\t\t\t\t\t}]\n\t\t\t\t\t},{\n\t\t\t\t\t\t"_fieldDefId": "23623109-05cc-43a7-abec-97efcf652b79",\n\t\t\t\t\t\t"_formFieldValueProperty": "ContractGroupType",\n\t\t\t\t\t\t"_label": "Contract Group Type",\n\t\t\t\t\t\t"_placeholderLabel": "Contract Group Type",\n\t\t\t\t\t\t"_fieldType": "readOnlyText",\n\t\t\t\t\t\t"_tableViewChecked": false,\n\t\t\t\t\t\t"_configJson": {"width": "33%", "mappable": false, "header": "Supplementals", "defaultOrder": 12},\n\t\t\t\t\t\t"_featureFlags": [{\n\t\t\t\t\t\t\t"showIfActive": true,\n\t\t\t\t\t\t\t"name": "fc_enable_contract_groups"\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}'}],assignmentsTotalSalary:[{_configJson:'{"mappable": false}',_label:"Total Salary",_placeholderLabel:"Total Salary",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"87bbcb2a-2e5d-4c92-ae93-d4345b91f806",_label:"Total Salary",_placeholderLabel:"Total Salary",_fieldType:"readOnlyText",_externalData:"AssignmentsTotalSalary",_configJson:'{"width":"33%"}',_sampleData:"$24,000"}],assignmentCompensation:[{_configJson:'{"mappable": false}',_label:"Assignment Compensation",_placeholderLabel:"Assignment Compensation",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"92478956-3e85-4677-b409-99018c27890c",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"primaryPosition.jobType.paySchedule.name", "uniqueLabel":"Primary Asgmt. Pay Schedule"}',_externalData:"Employee.Assignments.Primary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"a721a2f1-fa2e-4a53-a556-23697f5fe1ce",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"payLane.name", "uniqueLabel":"Primary Asgmt. Pay Lane"}',_externalData:"Employee.Assignments.Primary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"65f587b9-5060-4d4f-a5c3-0c311cb27ad4",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"payStep.name", "uniqueLabel":"Primary Asgmt. Pay Step"}',_externalData:"Employee.Assignments.Primary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"1b48e58c-4d3a-4041-88b3-75042184334a",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._payPeriodsPerYear != null) ? primaryAssignment.currentDetails._payPeriodsPerYear : primaryPosition.jobType._currentJobTypeDetail.payPeriodsPerYear", "uniqueLabel":"Primary Asgmt. Pay/Year"}',_externalData:"Employee.Assignments.Primary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"ce98ea9c-5533-4acf-90f3-dbdc51cbef68",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"payPerPeriod | currency", "uniqueLabel":"Primary Asgmt. Pay/Period"}',_externalData:"Employee.Assignments.Primary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"19506ff5-6d04-48c9-9443-b380746b7e02",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"salary | currency", "uniqueLabel":"Primary Asgmt. Salary"}',_externalData:"Employee.Assignments.Primary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],assignmentBenefits:[{_configJson:'{"mappable": false}',_label:"Assignment Benefits",_placeholderLabel:"Assignment Benefits",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"d3a593b5-6941-48f5-a48f-f4bcc498ddce",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._sickDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._sickDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Sick Days/Year"}',_externalData:"Employee.Assignments.Primary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"e0a56083-d036-4c2c-a2f4-dcc63c7df27e",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._personalDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._personalDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Personal Days/Year"}',_externalData:"Employee.Assignments.Primary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"19d93472-e7db-4773-bc0b-66a5c55d1e50",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(primaryAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? primaryAssignment.currentDetails._vacationDaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Vacation Days/Year"}',_externalData:"Employee.Assignments.Primary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"53c091a6-a674-4394-9b16-f21e88cd1a64",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(primaryAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? primaryAssignment.currentDetails._paidHolidaysPerSchoolYear : primaryPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear", "uniqueLabel":"Primary Asgmt. Paid Holidays"}',_externalData:"Employee.Assignments.Primary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"3d6c25e0-0ce5-4ad6-8246-99826b12329e",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name", "uniqueLabel":"Primary Asgmt. Ret. System"}',_externalData:"Employee.Assignments.Primary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],secondaryAssignment:[{_configJson:'{"mappable": false}',_label:"Secondary Assignment",_placeholderLabel:"Secondary Assignment",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"0aa59ea6-1e03-43ba-bb3d-a39d4f631966",_label:"Start Date",_placeholderLabel:"Start Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedStartDateUtc"}',_externalData:"Employee.Assignments.Secondary.StartDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"40e1f8df-0c3f-4025-90bc-dfd0925a8eec",_label:"End Date",_placeholderLabel:"End Date",_configJson:'{"width":"50%", "readOnly":"earliestOtherAssignment.formattedEndDateUtc"}',_externalData:"Employee.Assignments.Secondary.EndDateTimeUTC",_sampleData:"01/01/0001",_fieldType:"readOnlyDate"},{_fieldDefId:"f0d303d6-1b9e-424f-8603-3232c60d50d5",_label:"Employment Group",_placeholderLabel:"Employment Group",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType.employmentGroup.name"}',_externalData:"Employee.Assignments.Secondary.JobType.EmploymentGroup.Name",_sampleData:"District Employees",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"d6c89711-c50b-4768-ae93-4718a9883b70",_label:"Job Type",_placeholderLabel:"Job Type",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.jobType._name"}',_externalData:"Employee.Assignments.Secondary.JobType.Name",_sampleData:"Teacher",_fieldType:"readOnlyText"},{_fieldDefId:"9e1542bf-afc0-43c0-b5b4-5a475fdcafd4",_label:"Position Name",_placeholderLabel:"",_configJson:'{"readOnly":"earliestOtherPosition.name"}',_externalData:"Employee.Assignments.Secondary.Name",_sampleData:"First Grade",_fieldType:"readOnlyText"},{_fieldDefId:"06a1ab47-ce04-4e88-981b-eccd889b978f",_label:"Location",_placeholderLabel:"Location",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.location._name"}',_externalData:"Employee.Assignments.Secondary.Location.Name",_sampleData:"ABC Elementary School",_fieldType:"readOnlyText"},{_fieldDefId:"f3f05928-02f5-41d8-8867-3af413bd5e08",_label:"Department",_placeholderLabel:"Department",_configJson:'{"width":"50%", "readOnly":"earliestOtherPosition.department._name"}',_externalData:"Employee.Assignments.Secondary.Department.Name",_sampleData:"Elementary",_fieldType:"readOnlyText"},{_fieldDefId:"cfb8a867-c1a0-4c19-a72e-03909d699294",_label:"FTE",_placeholderLabel:"FTE",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._fTE != null) ? earliestOtherAssignment.currentDetails._fTE : earliestOtherPosition.jobType._currentJobTypeDetail.fte"}',_externalData:"Employee.Assignments.Secondary.FTE",_sampleData:"1",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"362bfdf7-f861-49eb-a839-79aeebc703be",_label:"Hours Per Day",_placeholderLabel:"Hours Per Day",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._hoursPerDay != null) ? earliestOtherAssignment.currentDetails._hoursPerDay : earliestOtherPosition.jobType._currentJobTypeDetail.hoursPerDay"}',_externalData:"Employee.Assignments.Secondary.HoursPerDay",_sampleData:"7.5",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]},{_fieldDefId:"e4fcdc4b-2b30-4e81-a937-15f86951b88e",_label:"Work Days Per Year",_placeholderLabel:"Work Days Per Year",
_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._workDaysPerYear != null) ? earliestOtherAssignment.currentDetails._workDaysPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.workDaysPerYear"}',_externalData:"Employee.Assignments.Secondary.WorkDays",_sampleData:"180",_fieldType:"readOnlyText",_featureFlags:[{showIfActive:!1,name:"isHRMSEnabled"}]}],secondaryCompensation:[{_configJson:'{"mappable": false}',_label:"Secondary Compensation",_placeholderLabel:"Secondary Compensation",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"eec7acd5-4302-4b33-9014-364202832e3e",_label:"Pay Schedule",_placeholderLabel:"Pay Schedule",_configJson:'{"width":"33%", "readOnly":"earliestOtherPosition.jobType.paySchedule.name"}',_externalData:"Employee.Assignments.Secondary.PaySchedule.Name",_sampleData:"Teacher Pay Table",_fieldType:"readOnlyText"},{_fieldDefId:"3211dabc-b9da-474a-89f6-de17d2446bbb",_label:"Pay Lane",_placeholderLabel:"Pay Lane",_configJson:'{"width":"33%", "readOnly":"otherPayLane.name"}',_externalData:"Employee.Assignments.Secondary.PayLane.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"8031280b-27cb-4d0d-bbc6-ac3832947685",_label:"Pay Step",_placeholderLabel:"Pay Step",_configJson:'{"width":"33%", "readOnly":"otherPayStep.name"}',_externalData:"Employee.Assignments.Secondary.PayStep.Name",_sampleData:"1",_fieldType:"readOnlyText"},{_fieldDefId:"be022480-b100-43ca-a47e-71be6b027e93",_label:"Pay Per Year",_placeholderLabel:"Pay Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._payPeriodsPerYear != null) ? earliestOtherAssignment.currentDetails._payPeriodsPerYear : earliestOtherPosition.jobType._currentJobTypeDetail.payPeriodsPerYear"}',_externalData:"Employee.Assignments.Secondary.PayPeriodsPerYear",_sampleData:"24",_fieldType:"readOnlyText"},{_fieldDefId:"adcd4aa2-58ed-4b5a-b8dc-31edfa043f58",_label:"Pay Per Period",_placeholderLabel:"Pay Per Period",_configJson:'{"width":"33%", "readOnly":"otherPayPerPeriod | currency"}',_externalData:"Employee.Assignments.Secondary.PayPerPeriod",_sampleData:"$1000",_fieldType:"readOnlyText"},{_fieldDefId:"7ad63aae-4ccd-4551-b038-ad250dd6ea68",_label:"Salary",_placeholderLabel:"Salary",_configJson:'{"width":"33%", "readOnly":"otherSalary | currency"}',_externalData:"Employee.Assignments.Secondary.Salary",_sampleData:"$24,000",_fieldType:"readOnlyText"}],secondaryBenefits:[{_configJson:'{"mappable": false}',_label:"Secondary Benefits",_placeholderLabel:"Secondary Benefits",_fieldType:"readOnlyHeading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"9220e992-9832-405f-aae2-2e80419e6128",_label:"Sick Days Per Year",_placeholderLabel:"Sick Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._sickDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.sickDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.SickDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"98fb9c91-ff03-4089-b028-844e407f39ec",_label:"Pers. Days Per Year",_placeholderLabel:"Pers. Days Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._personalDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.personalDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PersonalDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"9e674c8e-5347-42b5-8100-fad4edfbebc4",_label:"Vacation Per Year",_placeholderLabel:"Vacation Per Year",_configJson:'{"width":"33%", "readOnly":"(earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._vacationDaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.vacationDaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.VacationDaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"cf9ce02d-f7b1-455d-85ed-614e361f112a",_label:"Paid Holidays",_placeholderLabel:"Paid Holidays",_configJson:'{"width":"50%", "readOnly":"(earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear != null) ? earliestOtherAssignment.currentDetails._paidHolidaysPerSchoolYear : earliestOtherPosition.jobType._currentJobTypeDetail.paidHolidaysPerSchoolYear"}',_externalData:"Employee.Assignments.Secondary.PaidHolidaysPerSchoolYear",_sampleData:"10",_fieldType:"readOnlyText"},{_fieldDefId:"91bef119-7b9e-4c3d-9e09-360f32ce78ba",_label:"Retirement System",_placeholderLabel:"Retirement System",_configJson:'{"width":"50%", "readOnly":"retirementSystem.name"}',_externalData:"Employee.Assignments.Secondary.RetirementSystem.Name",_sampleData:"ABCD",_fieldType:"readOnlyText"}],financial:[{_configJson:'{"mappable": false}',_label:"Financial Information",_placeholderLabel:"Financial Information",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_fieldDefId:"70593e5c-65cb-4f65-beab-7db5695715ea",_label:"Primary Account Type",_placeholderLabel:"Primary Account Type",_configJson:'{"colwidth": "50%", "selectType": "super-input-radio", "multiple": false, "uniqueLabel": "Primary Bank Account Type"}',_sampleData:"Checking Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"9dddd926-ac0c-4114-9b16-a6f0986ba97c",_label:"Banking Name",_placeholderLabel:"Banking Name",_configJson:'{"width":"50%", "uniqueLabel":"Primary Bank Name"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"720a8295-b742-47f3-a25c-cf77e3eb8fe7",_label:"Routing/ABA Number",_placeholderLabel:"Routing/ABA Number",_configJson:'{"width":"50%","uniqueLabel":"Primary Bank Routing/ABA Number"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"2b816a19-7aea-4bbf-a6d2-19c76f760643",_label:"Account Number",_placeholderLabel:"Account Number",_configJson:'{"width":"50%","uniqueLabel":"Primary Bank Account Number"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"717836a3-4af7-41bd-8687-b6909370ecff",_label:"Percentage of Pay Deposited",_placeholderLabel:"Percentage of Pay Deposited",_configJson:'{"width":"35%", "uniqueLabel": "% of pay deposited (primary)"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"16cb9a79-3e07-42f7-a5e9-a7d144bfc1cd",_label:"Secondary Account Type",_placeholderLabel:"Secondary Account Type",_configJson:'{"colwidth": "50%", "selectType": "super-input-radio", "multiple": false, "uniqueLabel":"Secondary Bank Account Type"}',_sampleData:"Savings Account",_fieldType:"cmp-checkbox-group",_options:["Checking Account","Savings Account"]},{_fieldDefId:"4d049d8c-bb64-463c-83c6-a86aa604c1ef",_label:"Banking Name",_placeholderLabel:"Banking Name",_configJson:'{"width":"50%", "uniqueLabel":"Secondary Bank Name"}',_sampleData:"ABC Bank",_fieldType:"super-input-text"},{_fieldDefId:"a5b2d3f6-ece4-46ca-b382-2323413400a2",_label:"Routing/ABA Number",_placeholderLabel:"Routing/ABA Number",_configJson:'{"width":"50%", "uniqueLabel": "Secondary Bank Routing/ABA Number"}',_sampleData:"1234567",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"dcb0744d-d0e3-4a63-8ca5-1f1b05c4292b",_label:"Account Number",_placeholderLabel:"Account Number",_configJson:'{"width":"50%", "uniqueLabel": "Secondary Bank Account Number"}',_sampleData:"1234567890",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}},{_fieldDefId:"33c2e577-2958-444b-a612-58c29733df50",_label:"Percentage of Pay Deposited",_placeholderLabel:"Percentage of Pay Deposited",_configJson:'{"width":"35%", "uniqueLabel": "% of pay deposited (secondary)"}',_sampleData:"50",_fieldType:"super-input-text",_validator:{type:"numeric",options:{}}}],emergency:[{_configJson:'{"mappable": false}',_label:"Emergency Contacts",_placeholderLabel:"Emergency Contacts",_fieldType:"heading"},{_configJson:'{"mappable": false}',_fieldType:"instructions",_label:""},{_configJson:'{"mappable": false}',_fieldType:"subheading",_label:"Primary"},{_fieldDefId:"99df0167-ecea-405f-8192-a657cf2d0841",_label:"Name",_placeholderLabel:"Primary Contact Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactName", "uniqueLabel": "Primary Contact Name"}',_externalData:"Employee.EmergencyContacts.Primary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"3ee27e1a-780f-4dd1-87b8-688ef3f9a4fd",_label:"Relationship",_placeholderLabel:"Primary Contact Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.primaryContactRelationship", "uniqueLabel": "Primary Contact Relationship"}',_externalData:"Employee.EmergencyContacts.Primary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"4efae0cb-6d68-4eeb-8ce3-031b11678275",_label:"Personal Phone",_placeholderLabel:"Primary Contact Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactPhone", "uniqueLabel": "Primary Contact Personal Phone"}',_externalData:"Employee.EmergencyContacts.Primary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc",_label:"Work Phone",_placeholderLabel:"Primary Contact Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.primaryContactAltPhone", "uniqueLabel": "Primary Contact Work Phone"}',_externalData:"Employee.EmergencyContacts.Primary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_configJson:'{"mappable": false}',_fieldType:"subheading",_label:"Secondary"},{_fieldDefId:"a924fcee-27f1-4e17-811d-45b3e11342da",_label:"Name",_placeholderLabel:"Secondary Contact Name",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactName", "uniqueLabel": "Secondary Contact Name"}',_externalData:"Employee.EmergencyContacts.Secondary.ContactName",_sampleData:"Jane Doe",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"}},{_fieldDefId:"007139ff-0690-4ae4-a8e0-4494ecaaf357",_label:"Relationship",_placeholderLabel:"Secondary Contact Relationship",_configJson:'{"width":"50%", "externalSourceType": "enum", "externalSource": "relationshipTypes","readOnly":"emergencyContacts.secondaryContactRelationship", "uniqueLabel": "Secondary Contact Relationship"}',_externalData:"Employee.EmergencyContacts.Secondary.RelationshipType",_sampleData:0,_fieldType:"super-select-list",_fieldTypeOptions:{edit:"super-select-list",view:"readOnlyText"}},{_fieldDefId:"14827dc2-9d54-400d-a556-47656bc72f83",_label:"Personal Phone",_placeholderLabel:"Secondary Contact Personal Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactPhone", "uniqueLabel": "Secondary Contact Personal Phone"}',_externalData:"Employee.EmergencyContacts.Secondary.PrimaryPhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}},{_fieldDefId:"3a4799b5-168e-4f19-91a6-27299c543f69",_label:"Work Phone",_placeholderLabel:"Secondary Contact Work Phone",_configJson:'{"width":"50%","readOnly":"emergencyContacts.secondaryContactAltPhone", "uniqueLabel": "Secondary Contact Work Phone"}',_externalData:"Employee.EmergencyContacts.Secondary.AlternatePhone",_sampleData:"123-456-7890",_fieldTypeOptions:{edit:"super-input-text",view:"readOnlyText"},_validator:{type:"phone",options:{}}}],supervisor:[{_fieldDefId:"64936edc-60dd-445b-98ca-f8594d237037",_label:"Supervisor First Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.FirstName",_placeholderLabel:"Supervisor First Name",_sampleData:"John",_fieldType:"readOnlyText"},{_fieldDefId:"3afed5f1-7674-4804-93a3-a795f6e6d277",_label:"Supervisor Middle Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.MiddleName",_placeholderLabel:"Supervisor Middle Name",_sampleData:"Quincy",_fieldType:"readOnlyText"},{_fieldDefId:"f1015b7a-b378-47bd-bf95-c52ca7e87b3d",_label:"Supervisor Last Name",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.LastName",_placeholderLabel:"Supervisor Last Name",_sampleData:"Smith",_fieldType:"readOnlyText"},{_fieldDefId:"3d94b406-d34d-4389-a7d5-7f99cecd4047",_label:"Supervisor Start Date",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.StartDate",_placeholderLabel:"Supervisor Start Date",_sampleData:"01/01/2000",_fieldType:"readOnlyDate"},{_fieldDefId:"1a2b2cfe-f5e5-4c17-9fc1-8f0f78fd1733",_label:"Supervisor End Date",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.EndDate",_placeholderLabel:"Supervisor End Date",_sampleData:"01/01/2000",_fieldType:"readOnlyDate"},{_fieldDefId:"d0fb725e-aa59-4e68-9544-c651cfc31eb0",_label:"Supervisor External ID",_configJson:'{"mappable": true}',_externalData:"Employee.Supervisor.ExternalId",_placeholderLabel:"Supervisor External ID",_sampleData:"12345",_fieldType:"readOnlyText"}],custom_input:[{_fieldDefId:"951626b1-a422-46b4-9fa1-3b5acf7ee8fc",_label:"",_configJson:'{"width": "50%", "uniqueLabel": "input"}',_fieldType:"super-input-text"}],custom_dropdown:[{_fieldDefId:"977a2273-62c1-4eef-8d63-91f9d8d1e0bf",_label:"Dropdown",_placeholderLabel:"Dropdown",_configJson:'{"width":"50%", "uniqueLabel": "dropdown"}',_fieldType:"super-select-list",_options:["Option 1","Option 2","Option 3"]}],custom_selectGroup:[{_fieldDefId:"10a88a23-f8f3-48eb-aa48-c466db06378b",_label:"Multiple Choice",_placeholderLabel:"Multiple Choice",_configJson:'{"colwidth": "25%", "selectType": "super-input-checkbox", "multiple": true, "uniqueLabel": "multiple choice"}',_fieldType:"cmp-checkbox-group",_options:["Option 1","Option 2","Option 3","Option 4"]}],custom_signature:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851165",_label:"Please Sign",_placeholderLabel:"Please Sign",_configJson:'{"uniqueLabel": "signature"}',_fieldType:"super-digital-signature",_required:!0,_validator:{type:"digitalSignature",options:{},applyOnRequired:!0}}],custom_signatures:[{_fieldDefId:"17ff0b2c-4973-4181-92ce-b1c50c851166",_label:"Please Sign",_placeholderLabel:"Please Sign",_configJson:'{"uniqueLabel": "signature", "signatureDisplay": "step-participant", "signatureIds": [], "orientation": "h", "mappableMetaData": [{"name": "name", "label":"Name"}, {"name": "employeeName", "label":"Logged-in User Name"}, {"name":"email", "label":"Logged-in User Email"}, {"name":"userIP", "label":"IP Address"}, {"name": "time", "label":"Date/Time"}]}',_fieldType:"super-digital-signature",_required:!0,_validator:{type:"digitalSignature",options:{},applyOnRequired:!1}}],custom_date:[{_fieldDefId:"c2e31de2-09e8-4563-acb1-0e190a8e3b11",_label:"Date",_placeholderLabel:"Date",_configJson:'{"width":"25%", "uniqueLabel": "date"}',_fieldType:"super-iso-org-date"}],custom_fileUpload:[{_fieldDefId:"5299a28c-56d5-4dc3-81ae-6f9f741eb324",_label:"Instructions for uploading files...",_placeholderLabel:"Instructions for uploading files...",_configJson:'{"uniqueLabel": "file upload"}',_documentCategory:0,_documentSubCategory:8,_fieldType:"super-file-upload",_validator:{type:"fileUpload",options:{},applyOnRequired:!0}}],custom_fileLink:[{_fieldDefId:"e215f04f-037a-479e-b5da-9bb3155b55d5",_label:"Link",_placeholderLabel:"Link",_configJson:'{"isValid": false, "location": "", "name":"", "display": "Link will display here", "uniqueLabel":"File Link" }',_fieldType:"link"}],custom_sectionHead:[{_fieldDefId:"9eabf24b-ae80-4488-a164-2a6f78a50cbd",_label:"Section Heading",_placeholderLabel:"Section Heading",_configJson:'{"uniqueLabel":"Section Head"}',_fieldType:"heading"}],custom_text:[{_fieldDefId:"b6390770-0590-418c-b516-2080b243e9b7",_configJson:'{"mappable": false, "uniqueLabel": "text"}',_fieldType:"text",_label:""}],custom_textEditor:[{_configJson:'{"mappable": false}',_fieldDefId:"62b743aa-c127-40cb-9574-1f2810a201c6",_fieldType:"cmp-text-editor",_fieldTypeOptions:{edit:"cmp-text-editor",view:"readOnlyText"},_label:"",_tokenFields:[]}],custom_range:[{_fieldDefId:"2056c221-97c8-4994-962c-f4bfc319a9e4",_label:"Range",_placeholderLabel:"Range",_fieldType:"super-select-text",from:0,to:100}]},p={"cmp-checkbox-group":function(e){return i(e)},"super-select-list":function(e){return i(e)},text:function(e){return a(e)}};angular.module("ec-forms-helpers").factory("fieldsHlp",o)},{}],73:[function(e,t,n){"use strict";function r(e,t,n){var r={participantType:null,employeeId:"",canEdit:!1,canView:!0,canViewSensitive:!1,canEditSensitive:!1},i={initSaveInterrupter:function(e){t.clear(),e._steps.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e._steps),e._formFields&&(e._formFields.forEach(function(e){e.$$resetChangesDetected&&e.$$resetChangesDetected()}),t.register(e._formFields)),e.$$resetChangesDetected(),t.register(e)},makeStep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={_name:"",_fieldOrder:"",fieldGroups:[],_stepAction:null,_stepParticipant:{participantType:null,employeeIds:[]},_stepEvents:[{eventType:e.stepEventType.onSubmit,eventActions:[]}],_permissions:[]};return Object.assign({},n,t)},updateStepOrder:function(t,n){var r=void 0,i=void 0;return n||(n=t._steps.filter(function(t){return t._stepAction!==e.stepAction.formCompleted&&t._stepAction!==e.stepAction.employeeProfileReview})),i=t._steps.find(function(t){return t._stepAction===e.stepAction.formCompleted}),r=t._steps.find(function(t){return t._stepAction===e.stepAction.employeeProfileReview}),r?n.map(function(e){return e.id}).join(",")+","+r.id+","+i.id:n.map(function(e){return e.id}).join(",")+","+i.id},updateFieldOrder:function(e){e.forEach(function(e){if(e.fieldGroups){var t=e.fieldGroups.map(function(e){return e.map(function(e){return e.id}).join(",")}).join(",");e._fieldOrder.trim()!==t.trim()&&(e._fieldOrder=t)}})},sortByOrderField:function(e,t){if(null!=t&&null!=e){for(var n=t.split(","),r={},i=e.length;i--;){var a=e.pop();r[a.id]=a}return n.forEach(function(t){t in r&&(e.push(r[t]),delete r[t])}),Object.keys(r).forEach(function(t){null!=r[t]&&e.push(r[t])}),e}},buildParticipantList:function(t){var n=[];return t.forEach(function(t){if(t._stepAction!==e.stepAction.formCompleted&&null!=t._stepParticipant.participantType&&(t._stepParticipant.participantType!==e.stepParticipantType.specificPerson||t._stepParticipant.employeeIds.length)){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"";n.find(function(e){return i.matchByParticipant(e,t._stepParticipant)})||n.push({participantType:t._stepParticipant.participantType,employeeId:r})}}),n},matchByParticipant:function(e,t){var n=e.employeeIds&&e.employeeIds.length?e.employeeIds[0]:e.employeeId||"",r=t.employeeIds&&t.employeeIds.length?t.employeeIds[0]:t.employeeId||"";return e.participantType===t.participantType&&n===r},removePermissions:function(e,t){var n=[];if(e._permissions.length)for(var r=0;r<=e._permissions.length-1;r++)!function(r){var a=e._permissions[r],o=t.find(function(e){return i.matchByParticipant(e,a)});o&&void 0!==o||(n=e._permissions.splice(r,1))}(r);return n},assignStepAccess:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],["canEdit","canViewSensitive","canEditSensitive"]);return e.canView||(e.canView=!0),Object.keys(e).forEach(function(r){n.includes(r)&&(e[r]=i.matchByParticipant(e,t))}),e},copyStepAccess:function(e,t){return Object.assign(e,{canView:t.canView,canEdit:t.canEdit,canViewSensitive:t.canViewSensitive,canEditSensitive:t.canEditSensitive})},updatePermissions:function(t){var n=t.steps,a=t.currentStep,o=t.newStepParticipant,s=void 0===o?{}:o,l=t.oldStepParticipant,c=void 0===l?{}:l,p=t.options,u=void 0===p?{}:p,d=i.buildParticipantList(n);n.forEach(function(t,n){if(t._stepAction!==e.stepAction.formCompleted&&t._stepAction!==e.stepAction.employeeProfileReview){var o=i.removePermissions(t,d);d.forEach(function(n){var l=t._permissions.find(function(e){return i.matchByParticipant(n,e)});if(l)return void(a===t&&(i.matchByParticipant(l,s)&&i.assignStepAccess(l,t._stepParticipant,u),i.matchByParticipant(l,c)&&i.assignStepAccess(l,t._stepParticipant,u)));var p=Object.assign({},r,{participantType:n.participantType,employeeId:n.employeeId});t._stepAction===e.stepAction.employeeProfileReview&&(p.canView=!1),p=o.length?i.copyStepAccess(p,o[0]):i.assignStepAccess(p,t._stepParticipant,u),t._permissions.splice(d.indexOf(n),0,p)})}})},generatePDFOverlay:function(t,r){return Promise.resolve().then(function(){return t._steps.filter(function(t){return t._stepAction!==e.stepAction.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))})}).then(function(e){return n.generatePDFOverlay({formInstanceid:t.id,formFieldValues:e,showSensitive:r})})}};return i}r.$inject=["ssEnum","ssSaveInterrupterSvc","ssFormInstancesApi"],angular.module("ec-forms-helpers").factory("formsHlp",r)},{}],74:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return a}var a={lastXDays:function(e,t){return{from:e.clone().subtract(t,"days"),to:e.clone().endOf("day"),title:"Last "+t+" Days"}},currentSchoolYear:function(e,t,n){var r,i;if(e.clone().month()>6){var a=e.clone().utc().add(1,"years");r=e.clone().year()+"-08-01T00:00:00.000Z",i=a.format("YYYY")+"-07-31T23:59:59.999Z"}else{r=e.clone().utc().subtract(1,"years").format("YYYY")+"-08-01T00:00:00.000Z",i=e.clone().year()+"-07-31T23:59:59.999Z"}return{from:moment(n.startOfDayRelativeTo(moment(r).startOf("day"),t)),to:moment(n.endOfDayRelativeTo(moment(i).endOf("day"),t)),title:moment(r,moment.ISO_8601).utc().format("MMM YYYY")+"  "+moment(i,moment.ISO_8601).utc().format("MMM YYYY")}},getFCAddedDate:function(e){var t=e.filter(function(e){return"EC"===e._applicationId});return void 0!==t&&0!==t.length?t[0]._createdUtc:moment().toISOString()},getPreviousSchoolyear:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=arguments[3],i=this.currentSchoolYear(e,n,r),a=moment(i.from).subtract(t,"years"),o=moment(i.to).subtract(t,"years");return{from:a,to:o,title:a.format("MMM YYYY")+"  "+o.format("MMM YYYY")}},getYearsSinceCreation:function(e,t){return Math.ceil(e.diff(moment(t),"years",!0))},yearToDate:function(e){return{from:e.clone().startOf("year"),to:e.clone().endOf("day"),title:"Jan 1 - Today"}},getDateRange:function(e,t,n){var r=moment(n.startOfDayRelativeTo(moment(e.from).startOf("day"),t));return{from:r,to:moment(n.endOfDayRelativeTo(moment(e.to).endOf("day"),t)),title:moment(r).format("l")+"  "+moment(e.to).format("l")}},getDateLimits:function(e){var t=moment(e.from);return{minDate:t.clone().add(1,"day").toDate(),maxDate:t.clone().add(1,"year").toDate()}},isRangeGreaterThanYear:function(e){var t=moment(e.from),n=moment(e.to);return Math.abs(t.diff(n,"years",!0))>1},getDefaultDateSent:function(e,t){var n=t.todaysStartRelativeTo(e);return this.lastXDays(n,14)},getSumOfCounts:function(e){var t=e._notStarted+e._inProgress+e._complete;return isNaN(t)?0:t},getReminderCounts:function(e,t){var n=t?isNaN(e._expiredForms)?0:e._expiredForms:0,r=e._notStarted+e._inProgress-n;return isNaN(r)?0:r},getPacketIds:function(e){return e.filter(function(e){return"Packet"===e._objectType}).map(function(e){return e.id})},getTemplateIds:function(e){return e.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e.id})},areAllSelected:function(e,t){return t.length===e.length&&t.every(function(t){return e.includes(t)})},getSelectedPacketsAndTemplates:function(e,t){var n=this.getPacketIds(e),r=this.getTemplateIds(e),i=this.areAllSelected(n,this.getPacketIds(t))&&this.areAllSelected(r,this.getTemplateIds(t)),a={packetIds:[],templateIds:[]};return i||(a.packetIds=n,a.templateIds=r),a},listFilterOrNull:function(e,t){return Array.isArray(e)&&e.length?r({},t,e.join(",")):null},textFilterOrNull:function(e,t){return null==e?null:r({},t,e)},getSelectedIds:function(e,t){return e.map(function(e){return e[t]})}};angular.module("ec-forms-helpers").factory("headerFilterLogicHlp",i)},{}],75:[function(e,t,n){"use strict";function r(e,t){return{printFormToPdfPayload:function(n,r,i){var a=t.getSelectedPacketsAndTemplates(n.templateFilterSelections,e.vm.templateFilterOptions),o=Object.assign({from:n.dateSent.from,to:n.dateSent.to,filter:Object.assign({},t.listFilterOrNull(a.packetIds,"packetids"),t.listFilterOrNull(a.templateIds,"templateids"),t.textFilterOrNull(r.search,"formname"),t.textFilterOrNull(r.formStatus,"status"),t.listFilterOrNull(t.getSelectedIds(n.workRelationship,"id"),"workrelationshiptype"),t.listFilterOrNull(t.getSelectedIds(n.staffType,"value"),"stafftype"))});return"boolean"==typeof r.archivalStatus&&(o.filter.archived=r.archivalStatus),"-1"!==n.sentToLocation&&Object.assign(o.filter,t.textFilterOrNull(n.sentToLocation,"locationids")),"0"!==n.sentByParticipant&&Object.assign(o.filter,t.textFilterOrNull(e.vm.empId,n.sentByParticipant)),{params:{id:i},body:{attributes:o}}}}}r.$inject=["$rootScope","headerFilterLogicHlp"],angular.module("ec-forms-helpers").factory("printFormToPdfHlp",r)},{}],76:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function a(){return document.createElement("figure")}function o(e,t){if(t.length){var n=a();t.forEach(function(e){l(e,1===t.length).forEach(function(e){return n.appendChild(e)})}),e.append(n)}}function s(e,t){t.length&&t.forEach(function(t){var n=a();l(t,!0).forEach(function(e){return n.appendChild(e)}),e.appendChild(n)})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("figcaption");return n.innerHTML=e.name,[n].concat(r(Array(t?4:2).fill().map(function(){return document.createElement("div")})))}function c(){return p}var p={render:function(e,t,n){var r=document.querySelector(".separation-visual");if(r){r=i(r);var a=[];null!==e&&a.push({name:"Primary",value:e}),null!==t&&a.push({name:"Secondary"+(t?"":" (All)"),value:t}),null!==n&&a.push({name:"Supplemental"+(n?"":" (All)"),value:n});var l=!1;a.forEach(function(e){if(e.value){var t="Primary"!==e.name?[e,e]:[e];s(r,t)}else l||(o(r,a.filter(function(e){return!e.value})),l=!0)})}}};angular.module("ec-forms-helpers").factory("separationVisualHlp",c)},{}],77:[function(e,t,n){"use strict";function r(e,t){function n(n,r){var i,a;if(a=null==n._statusId?t.byValue(0):t.byValue(n._statusId),i=a.toLowerCase(),n._statusHistory)for(var o=0;o<n._statusHistory.length;o++){var s=e.utcIsoToRelativeMoment(n._statusHistory[o]._from,r),l=n._statusHistory[o]._statusId,c=e.utcIsoToRelativeMoment(moment().utc().toISOString(),r);if(c<s&&"Inactive"===a&&l===t.active){var p=s.format("L");a="Inactive until "+p}}return{status:i,statusLabel:a}}return{getLabel:n}}r.$inject=["ssDateByOrgHlp","enumFormTemplateStatus"],angular.module("ec-forms-helpers").factory("statusLabelHlp",r)},{}],78:[function(e,t,n){"use strict";function r(){return i}var i={formatText:function(e){return e},getViewportOffsets:function(e){var t={left:-1,top:-1};if(null==e)return t;try{t.left=e.pageXOffset||e.document.documentElement.scrollLeft||e.document.body.scrollLeft||0}catch(e){t.left=0}try{t.top=e.pageYOffset||e.document.documentElement.scrollTop||e.document.body.scrollTop||0}catch(e){t.top=0}return t}};angular.module("ec-forms-helpers").factory("viewportOffsetHlp",r)},{}],79:[function(e,t,n){"use strict";e("./components/cmp-attachments/attachments.js"),e("./components/cmp-box-creator/box-creator.js"),e("./components/cmp-box-date-options/box-date-options.js"),e("./components/cmp-box-resizer/box-resizer.js"),e("./components/cmp-checkbox-group/checkbox-group.js"),e("./components/cmp-credential-group/credential-group.js"),e("./components/cmp-credential/credential.js"),e("./components/cmp-dnd-options/dnd-options.js"),e("./components/cmp-due-expiration-date/due-expiration-date.js"),e("./components/cmp-emp-initiated-template/emp-initiated-template.js"),e("./components/cmp-field-renderer/field-renderer.js"),e("./components/cmp-fl-share-form/fl-share-form.js"),e("./components/cmp-form-list-group/form-list-group.js"),e("./components/cmp-form-send-status/form-send-status.js"),e("./components/cmp-multiple-employee-search/multiple-employee-search.js"),e("./components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.js"),e("./components/cmp-primary-assignment-table-view/primary-assignment-table-view.js"),e("./components/cmp-progress-bar/progress-bar.js"),e("./components/cmp-properties-credentials/properties-credentials.js"),e("./components/cmp-properties-custom-common/properties-custom-common.js"),e("./components/cmp-properties-custom-date/properties-custom-date.js"),e("./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js"),e("./components/cmp-properties-custom-filelink/properties-custom-filelink.js"),e("./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js"),e("./components/cmp-properties-custom-input/properties-custom-input.js"),e("./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js"),e("./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js"),e("./components/cmp-properties-custom-signature/properties-custom-signature.js"),e("./components/cmp-properties-custom-text/properties-custom-text.js"),e("./components/cmp-properties-emp-record/properties-emp-record.js"),e("./components/cmp-properties-form-complete/properties-form-complete.js"),e("./components/cmp-properties-notifications/properties-notifications.js"),e("./components/cmp-properties-primary-assignment/properties-primary-assignment.js"),e("./components/cmp-properties-profile-review/properties-profile-review.js"),e("./components/cmp-properties-salary/properties-salary.js"),e("./components/cmp-properties-secondary-assignments/properties-secondary-assignments.js"),e("./components/cmp-properties-smart/properties-smart.js"),e("./components/cmp-properties-step-permissions/properties-step-permissions.js"),e("./components/cmp-properties-step/properties-step.js"),e("./components/cmp-properties-supplementals/properties-supplementals.js"),e("./components/cmp-properties-text-editor/properties-text-editor.js"),e("./components/cmp-secondary-assignment/secondary-assignment.js"),e("./components/cmp-secondary-assignments/secondary-assignments.js"),e("./components/cmp-step-checkbox-display/step-checkbox-display.js"),e("./components/cmp-step-date-display/step-date-display.js"),e("./components/cmp-step-renderer/step-renderer.js"),e("./components/cmp-step-text-display/step-text-display.js"),e("./components/cmp-supplemental/supplemental.js"),e("./components/cmp-supplementals/supplementals.js"),e("./components/cmp-table-view/table-view.js"),e("./components/cmp-template-field-renderer/template-field-renderer.js"),e("./components/cmp-template-list-form/template-list-form.js"),e("./components/cmp-template-list-packet/template-list-packet.js"),e("./components/cmp-text-editor/ckeditorConfig.js"),e("./components/cmp-text-editor/placeholders.js"),
e("./components/cmp-text-editor/text-editor.js"),e("./components/cmp-toggle/toggle.js"),e("./components/cmp-track-forms-filter-group/track-forms-filter-group.js"),e("./components/cmp-tracked-form-group/tracked-form-group.js"),e("./components/cmp-tracked-form/tracked-form.js"),e("./components/cmp-tracking-display-row/tracking-display-row.js"),e("./helpers/bulkActionsHlp/bulk-actions.js"),e("./helpers/dueExpirationDateHlp/dueExpirationDateHlp.js"),e("./helpers/fieldRendererHlp/field-renderer.js"),e("./helpers/fieldsHlp/fields.js"),e("./helpers/formsHlp/forms.js"),e("./helpers/headerFilterLogicHlp/header-filter-logic.js"),e("./helpers/printFormToPdfHlp/printFormToPdfHlp.js"),e("./helpers/separationVisualHlp/separation-visual.js"),e("./helpers/statusLabelHlp/status-label.js"),e("./helpers/viewportOffsetHlp/viewport-offset.js"),e("./routes/ck-finder/ck-finder.state.js"),e("./routes/form-builder/builder/builder.state.js"),e("./routes/form-builder/builder/segment-builder/builder.js"),e("./routes/form-builder/builder/segment-builder/builder.logic.js"),e("./routes/form-builder/builder/segment-fields/fields.js"),e("./routes/form-builder/builder/segment-fields/fields.logic.js"),e("./routes/form-builder/builder/segment-properties/properties.js"),e("./routes/form-builder/builder/segment-properties/properties.logic.js"),e("./routes/form-builder/form-builder.state.js"),e("./routes/form-builder/overlay-builder/overlay-builder.state.js"),e("./routes/form-builder/overlay-builder/segment-data-panel/data-panel.js"),e("./routes/form-builder/overlay-builder/segment-data-panel/data-panel.logic.js"),e("./routes/form-builder/overlay-builder/segment-overlay/overlay.js"),e("./routes/form-builder/overlay-builder/segment-overlay/overlay.logic.js"),e("./routes/form-builder/preview/preview.state.js"),e("./routes/form-builder/preview/segment-attachments/attachments.js"),e("./routes/form-builder/preview/segment-attachments/attachments.logic.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.js"),e("./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js"),e("./routes/form-builder/preview/segment-page-header/page-header.js"),e("./routes/form-builder/preview/segment-page-header/page-header.logic.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.js"),e("./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-builder/segment-content/content.js"),e("./routes/form-builder/segment-content/content.logic.js"),e("./routes/form-builder/segment-header/header.js"),e("./routes/form-builder/segment-header/header.logic.js"),e("./routes/form-builder/settings/segment-settings/settings.js"),e("./routes/form-builder/settings/segment-settings/settings.logic.js"),e("./routes/form-builder/settings/settings.state.js"),e("./routes/form-instance/form-instance.state.js"),e("./routes/form-instance/segment-attachments/attachments.js"),e("./routes/form-instance/segment-attachments/attachments.logic.js"),e("./routes/form-instance/segment-form/form.js"),e("./routes/form-instance/segment-form/form.logic.js"),e("./routes/form-instance/segment-header/header.js"),e("./routes/form-instance/segment-header/header.logic.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.js"),e("./routes/form-instance/segment-steps-summary/steps-summary.logic.js"),e("./routes/form-templates/form-templates.state.js"),e("./routes/form-templates/segment-content/content.js"),e("./routes/form-templates/segment-content/content.logic.js"),e("./routes/form-templates/segment-header/header.js"),e("./routes/form-templates/segment-header/header.logic.js"),e("./routes/form-tracking/form-tracking.state.js"),e("./routes/form-tracking/segment-content/content.js"),e("./routes/form-tracking/segment-content/content.logic.js"),e("./routes/form-tracking/segment-header/header.js"),e("./routes/form-tracking/segment-header/header.logic.js"),e("./routes/form-tracking/template-summary-details/segment-content/content.js"),e("./routes/form-tracking/template-summary-details/segment-content/content.logic.js"),e("./routes/form-tracking/template-summary-details/template-summary-details.state.js"),e("./routes/form-tracking/template-summary/segment-content/content.js"),e("./routes/form-tracking/template-summary/segment-content/content.logic.js"),e("./routes/form-tracking/template-summary/template-summary.state.js"),e("./routes/form-tracking/view-by-subject/segment-content/content.js"),e("./routes/form-tracking/view-by-subject/segment-content/content.logic.js"),e("./routes/form-tracking/view-by-subject/view-by-subject.state.js"),e("./routes/inbox/form-instance/form-instance.state.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.js"),e("./routes/inbox/form-instance/segment-attachments/attachments.logic.js"),e("./routes/inbox/form-instance/segment-close/close.js"),e("./routes/inbox/form-instance/segment-close/close.logic.js"),e("./routes/inbox/form-instance/segment-form/form.js"),e("./routes/inbox/form-instance/segment-form/form.logic.js"),e("./routes/inbox/form-instance/segment-header/header.js"),e("./routes/inbox/form-instance/segment-header/header.logic.js"),e("./routes/inbox/form-instance/segment-steps/steps.js"),e("./routes/inbox/form-instance/segment-steps/steps.logic.js"),e("./routes/inbox/inbox.state.js"),e("./routes/inbox/segment-content/content.js"),e("./routes/inbox/segment-content/content.logic.js"),e("./routes/inbox/segment-header/header.js"),e("./routes/inbox/segment-header/header.logic.js"),e("./routes/index/index.state.js"),e("./routes/index/segment-content/content.js"),e("./routes/index/segment-content/content.logic.js"),e("./routes/index/segment-header/header.js"),e("./routes/index/segment-header/header.logic.js"),e("./routes/my-forms/my-forms.state.js"),e("./routes/my-forms/segment-content/content.js"),e("./routes/my-forms/segment-content/content.logic.js"),e("./routes/my-forms/segment-header/header.js"),e("./routes/my-forms/segment-header/header.logic.js"),e("./routes/packet-builder/builder/builder.state.js"),e("./routes/packet-builder/builder/segment-builder/builder.js"),e("./routes/packet-builder/builder/segment-builder/builder.logic.js"),e("./routes/packet-builder/packet-builder.state.js"),e("./routes/packet-builder/segment-content/content.js"),e("./routes/packet-builder/segment-content/content.logic.js"),e("./routes/packet-builder/segment-header/header.js"),e("./routes/packet-builder/segment-header/header.logic.js"),e("./routes/packet-builder/settings/segment-settings/settings.js"),e("./routes/packet-builder/settings/segment-settings/settings.logic.js"),e("./routes/packet-builder/settings/settings.state.js"),e("./routes/send/segment-content/content.js"),e("./routes/send/segment-content/content.logic.js"),e("./routes/send/segment-header/header.js"),e("./routes/send/segment-header/header.logic.js"),e("./routes/send/send.state.js"),e("./config/load-config.js"),e("./config/router.js")},{"./components/cmp-attachments/attachments.js":2,"./components/cmp-box-creator/box-creator.js":3,"./components/cmp-box-date-options/box-date-options.js":4,"./components/cmp-box-resizer/box-resizer.js":5,"./components/cmp-checkbox-group/checkbox-group.js":6,"./components/cmp-credential-group/credential-group.js":7,"./components/cmp-credential/credential.js":8,"./components/cmp-dnd-options/dnd-options.js":9,"./components/cmp-due-expiration-date/due-expiration-date.js":10,"./components/cmp-emp-initiated-template/emp-initiated-template.js":11,"./components/cmp-field-renderer/field-renderer.js":12,"./components/cmp-fl-share-form/fl-share-form.js":13,"./components/cmp-form-list-group/form-list-group.js":14,"./components/cmp-form-send-status/form-send-status.js":15,"./components/cmp-multiple-employee-search/multiple-employee-search.js":16,"./components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.js":17,"./components/cmp-primary-assignment-table-view/primary-assignment-table-view.js":18,"./components/cmp-progress-bar/progress-bar.js":19,"./components/cmp-properties-credentials/properties-credentials.js":20,"./components/cmp-properties-custom-common/properties-custom-common.js":21,"./components/cmp-properties-custom-date/properties-custom-date.js":22,"./components/cmp-properties-custom-dropdown/properties-custom-dropdown.js":23,"./components/cmp-properties-custom-filelink/properties-custom-filelink.js":24,"./components/cmp-properties-custom-fileupload/properties-custom-fileupload.js":25,"./components/cmp-properties-custom-input/properties-custom-input.js":26,"./components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.js":27,"./components/cmp-properties-custom-selectbox/properties-custom-selectbox.js":28,"./components/cmp-properties-custom-signature/properties-custom-signature.js":29,"./components/cmp-properties-custom-text/properties-custom-text.js":30,"./components/cmp-properties-emp-record/properties-emp-record.js":31,"./components/cmp-properties-form-complete/properties-form-complete.js":32,"./components/cmp-properties-notifications/properties-notifications.js":33,"./components/cmp-properties-primary-assignment/properties-primary-assignment.js":34,"./components/cmp-properties-profile-review/properties-profile-review.js":35,"./components/cmp-properties-salary/properties-salary.js":36,"./components/cmp-properties-secondary-assignments/properties-secondary-assignments.js":37,"./components/cmp-properties-smart/properties-smart.js":38,"./components/cmp-properties-step-permissions/properties-step-permissions.js":39,"./components/cmp-properties-step/properties-step.js":40,"./components/cmp-properties-supplementals/properties-supplementals.js":41,"./components/cmp-properties-text-editor/properties-text-editor.js":42,"./components/cmp-secondary-assignment/secondary-assignment.js":43,"./components/cmp-secondary-assignments/secondary-assignments.js":44,"./components/cmp-step-checkbox-display/step-checkbox-display.js":45,"./components/cmp-step-date-display/step-date-display.js":46,"./components/cmp-step-renderer/step-renderer.js":47,"./components/cmp-step-text-display/step-text-display.js":48,"./components/cmp-supplemental/supplemental.js":49,"./components/cmp-supplementals/supplementals.js":50,"./components/cmp-table-view/table-view.js":51,"./components/cmp-template-field-renderer/template-field-renderer.js":52,"./components/cmp-template-list-form/template-list-form.js":53,"./components/cmp-template-list-packet/template-list-packet.js":54,"./components/cmp-text-editor/ckeditorConfig.js":55,"./components/cmp-text-editor/placeholders.js":56,"./components/cmp-text-editor/text-editor.js":58,"./components/cmp-toggle/toggle.js":59,"./components/cmp-track-forms-filter-group/track-forms-filter-group.js":60,"./components/cmp-tracked-form-group/tracked-form-group.js":61,"./components/cmp-tracked-form/tracked-form.js":62,"./components/cmp-tracking-display-row/tracking-display-row.js":63,"./config/load-config.js":67,"./config/router.js":68,"./helpers/bulkActionsHlp/bulk-actions.js":69,"./helpers/dueExpirationDateHlp/dueExpirationDateHlp.js":70,"./helpers/fieldRendererHlp/field-renderer.js":71,"./helpers/fieldsHlp/fields.js":72,"./helpers/formsHlp/forms.js":73,"./helpers/headerFilterLogicHlp/header-filter-logic.js":74,"./helpers/printFormToPdfHlp/printFormToPdfHlp.js":75,"./helpers/separationVisualHlp/separation-visual.js":76,"./helpers/statusLabelHlp/status-label.js":77,"./helpers/viewportOffsetHlp/viewport-offset.js":78,"./routes/ck-finder/ck-finder.state.js":82,"./routes/form-builder/builder/builder.state.js":83,"./routes/form-builder/builder/segment-builder/builder.js":84,"./routes/form-builder/builder/segment-builder/builder.logic.js":85,"./routes/form-builder/builder/segment-fields/fields.js":86,"./routes/form-builder/builder/segment-fields/fields.logic.js":87,"./routes/form-builder/builder/segment-properties/properties.js":88,"./routes/form-builder/builder/segment-properties/properties.logic.js":89,"./routes/form-builder/form-builder.state.js":90,"./routes/form-builder/overlay-builder/overlay-builder.state.js":91,"./routes/form-builder/overlay-builder/segment-data-panel/data-panel.js":92,"./routes/form-builder/overlay-builder/segment-data-panel/data-panel.logic.js":93,"./routes/form-builder/overlay-builder/segment-overlay/overlay.js":94,"./routes/form-builder/overlay-builder/segment-overlay/overlay.logic.js":95,"./routes/form-builder/preview/preview.state.js":96,"./routes/form-builder/preview/segment-attachments/attachments.js":97,"./routes/form-builder/preview/segment-attachments/attachments.logic.js":98,"./routes/form-builder/preview/segment-form-workflow/form-workflow.js":99,"./routes/form-builder/preview/segment-form-workflow/form-workflow.logic.js":100,"./routes/form-builder/preview/segment-page-header/page-header.js":101,"./routes/form-builder/preview/segment-page-header/page-header.logic.js":102,"./routes/form-builder/preview/segment-steps-summary/steps-summary.js":103,"./routes/form-builder/preview/segment-steps-summary/steps-summary.logic.js":104,"./routes/form-builder/segment-content/content.js":105,"./routes/form-builder/segment-content/content.logic.js":106,"./routes/form-builder/segment-header/header.js":107,"./routes/form-builder/segment-header/header.logic.js":108,"./routes/form-builder/settings/segment-settings/settings.js":109,"./routes/form-builder/settings/segment-settings/settings.logic.js":110,"./routes/form-builder/settings/settings.state.js":111,"./routes/form-instance/form-instance.state.js":112,"./routes/form-instance/segment-attachments/attachments.js":113,"./routes/form-instance/segment-attachments/attachments.logic.js":114,"./routes/form-instance/segment-form/form.js":115,"./routes/form-instance/segment-form/form.logic.js":116,"./routes/form-instance/segment-header/header.js":117,"./routes/form-instance/segment-header/header.logic.js":118,"./routes/form-instance/segment-steps-summary/steps-summary.js":119,"./routes/form-instance/segment-steps-summary/steps-summary.logic.js":120,"./routes/form-templates/form-templates.state.js":121,"./routes/form-templates/segment-content/content.js":122,"./routes/form-templates/segment-content/content.logic.js":123,"./routes/form-templates/segment-header/header.js":124,"./routes/form-templates/segment-header/header.logic.js":125,"./routes/form-tracking/form-tracking.state.js":126,"./routes/form-tracking/segment-content/content.js":127,"./routes/form-tracking/segment-content/content.logic.js":128,"./routes/form-tracking/segment-header/header.js":129,"./routes/form-tracking/segment-header/header.logic.js":130,"./routes/form-tracking/template-summary-details/segment-content/content.js":131,"./routes/form-tracking/template-summary-details/segment-content/content.logic.js":132,"./routes/form-tracking/template-summary-details/template-summary-details.state.js":133,"./routes/form-tracking/template-summary/segment-content/content.js":134,"./routes/form-tracking/template-summary/segment-content/content.logic.js":135,"./routes/form-tracking/template-summary/template-summary.state.js":136,"./routes/form-tracking/view-by-subject/segment-content/content.js":137,"./routes/form-tracking/view-by-subject/segment-content/content.logic.js":138,"./routes/form-tracking/view-by-subject/view-by-subject.state.js":139,"./routes/inbox/form-instance/form-instance.state.js":140,"./routes/inbox/form-instance/segment-attachments/attachments.js":141,"./routes/inbox/form-instance/segment-attachments/attachments.logic.js":142,"./routes/inbox/form-instance/segment-close/close.js":143,"./routes/inbox/form-instance/segment-close/close.logic.js":144,"./routes/inbox/form-instance/segment-form/form.js":145,"./routes/inbox/form-instance/segment-form/form.logic.js":146,"./routes/inbox/form-instance/segment-header/header.js":147,"./routes/inbox/form-instance/segment-header/header.logic.js":148,"./routes/inbox/form-instance/segment-steps/steps.js":149,"./routes/inbox/form-instance/segment-steps/steps.logic.js":150,"./routes/inbox/inbox.state.js":151,"./routes/inbox/segment-content/content.js":152,"./routes/inbox/segment-content/content.logic.js":153,"./routes/inbox/segment-header/header.js":154,"./routes/inbox/segment-header/header.logic.js":155,"./routes/index/index.state.js":156,"./routes/index/segment-content/content.js":157,"./routes/index/segment-content/content.logic.js":158,"./routes/index/segment-header/header.js":159,"./routes/index/segment-header/header.logic.js":160,"./routes/my-forms/my-forms.state.js":161,"./routes/my-forms/segment-content/content.js":162,"./routes/my-forms/segment-content/content.logic.js":163,"./routes/my-forms/segment-header/header.js":164,"./routes/my-forms/segment-header/header.logic.js":165,"./routes/packet-builder/builder/builder.state.js":166,"./routes/packet-builder/builder/segment-builder/builder.js":167,"./routes/packet-builder/builder/segment-builder/builder.logic.js":168,"./routes/packet-builder/packet-builder.state.js":169,"./routes/packet-builder/segment-content/content.js":170,"./routes/packet-builder/segment-content/content.logic.js":171,"./routes/packet-builder/segment-header/header.js":172,"./routes/packet-builder/segment-header/header.logic.js":173,"./routes/packet-builder/settings/segment-settings/settings.js":174,"./routes/packet-builder/settings/segment-settings/settings.logic.js":175,"./routes/packet-builder/settings/settings.state.js":176,"./routes/send/segment-content/content.js":177,"./routes/send/segment-content/content.logic.js":178,"./routes/send/segment-header/header.js":179,"./routes/send/segment-header/header.logic.js":180,"./routes/send/send.state.js":181}],80:[function(e,t,n){"use strict";angular.module("ec-forms",["super-suit","ec-forms-segments","ec-forms-segment-logic","ec-forms-templates","dndLists","ec-forms-helpers","ec-forms-components","ec-forms-decorators","ec-forms-filters","ec-forms-services"]),angular.module("ec-forms-segments",[]),angular.module("ec-forms-segment-logic",[]),angular.module("ec-forms-helpers",[]),angular.module("ec-forms-components",[]),angular.module("ec-forms-decorators",[]),angular.module("ec-forms-filters",[]),angular.module("ec-forms-services",[])},{}],81:[function(e,t,n){"use strict";!function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/ck-finder/ck-finder.html",'<route folder="/ckfinder"> </route> <style type="text/css"> .sidekick {\n    \tdisplay: none !important\n\t} </style>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/form-builder.html",'<route folder="/form-builder"> <form id="form-controls" class="route-wrapper form-controls" ng-submit="routeVm.submitForm()" ss-validate-form> <segment name="header"></segment> <div class="gd-row" ss-pending="routeVm.loading || routeVm.saving" ss-pending-status="routeVm.loadingMsg"> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/form-instance.html",'<route folder="/form-instance"> <div class="full-screen" data-qa="form-instance" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <segment name="header"></segment> <main class="full-screen-content"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <section class="gd-65p content"> <segment name="form"></segment> </section> <aside class="gd-35p sidebar" ss-window-anchor window-anchor-top="10"> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </main> </div> </route>\t')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/form-templates.html",'<route folder="/form-templates"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/form-tracking.html",'<route folder="/form-tracking"> <div class="route-wrapper"> <segment name="header" ng-if="!routeVm.featureFlags.fc_nov_2020_new_track_forms"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/inbox.html",'<route folder="/inbox"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/index.html",'<route folder="/index"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/my-forms.html",'<route folder="/my-forms"> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/packet-builder.html",'<route folder="/packet-builder"> <form id="form-controls" class="form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <div class="route-wrapper"> <segment name="header"></segment> <segment name="content"></segment> </div> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/send.html",'<route folder="/send"> <div class="route-wrapper" ss-pending="routeVm.retryLoading" ss-pending-status="\'Please wait...\'"> <form ss-validate-form ng-submit="routeVm.go.send()" autocomplete="off"> <segment name="header"></segment> <segment name="content"></segment> </form> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-attachments/attachments.html",'<div class="cmp-attachments"> <div class="fb-step"> <div class="fb-step-header secondary"> <h4 class="fb-step-title">Attachments</h4> </div> <div class="content"> <p id="attachment-instructions">Include files and attachments with this template. Attachments will be accessible to all workflow participants. <em>(Max file size: 50 MB)</em></p> <div class="file-list-container"> <ul id="attachment-upload-list-{{::$id}}" class="attachments-list" ng-class="{\'addHeight\': vm.processing}"> <li ng-repeat="attachment in vm.files" class="form-attachment"> <i class="file-icon" ss-icon="{{ attachment.icon }}" aria-hidden="true"></i> <a href="" class="document" ng-bind="attachment.filename" ng-click="go.download(attachment._fileId)" title="Open {{attachment.filename}}" target="_blank"></a> <div class="attachment-actions-group" role="group"> <i ss-icon="trash-o" aria-hidden="true"></i> <a role="button" href="" class="trash" ng-click="go.delete(attachment)" aria-label="Delete {{ attachment.filename }}" title="Delete {{attachment.filename}}" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}">Delete</a> </div> </li> </ul> <super-loader id="attachment-status-indicator-{{::$id}}" is-loading="vm.processing" status-text="vm.processingStatus" fill role="status"></super-loader> </div> <div class="uploader-group" role="group"> <i id="attachment-status-alert-{{::$id}}" class="attachment-status-alert" role="alert" aria-live="polite" aria-atomic="true"></i> <super-button class="upload" label="Add Attachment" aria-hidden="true" tabindex="-1"></super-button> <input id="fileUpload" type="file" nv-file-select name="fileUpload" uploader="uploader" filters="validExt,fileSize,fileDupe" aria-label="Select files to attach to the form" aria-describedby="attachment-instructions" aria-controls="attachment-status-indicator-{{::$id}}, attachment-upload-list-{{::$id}}, attachment-status-alert-{{::$id}}"> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-creator/box-creator.html",'<div class="cmp-box-creator" ng-show="startingPoint.x && startingPoint.y" ng-style="vm.styles"> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-date-options/box-date-options.html",'<div class="cmp-box-date-options"> <ul> <li ng-repeat="dateOption in vm.dateOptions"> <super-input-checkbox model="dateOption.selected" label="{{ dateOption.name }}" name="{{ dateOption.name }}" ng-click="go.update()"> </super-input-checkbox> <div> <super-input-radio ng-repeat="option in dateOption.options" is-disabled="!dateOption.selected" label="{{ option.name }}" model="dateOption.selectedVal" name="{{ dateOption.guid }}" value="{{ option.jsFormat }}" ng-click="go.update()"> </super-input-radio> </div> </li> </ul> <div class="example-string"> <label>Example:</label> {{ vm.displayString }} </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-box-resizer/box-resizer.html",'<div class="cmp-box-resizer"> <super-button smp ss-icon="times" ng-click="onDelete()"></super-button> <span class="handle-N-S"></span> <span class="handle-E-W"></span> <span class="handle-NW"></span> <span class="handle-NE"></span> <span class="handle-SW"></span> <span class="handle-SE"></span> <div class="box-options" ng-if="box.type != \'text\' && box.type != \'checkbox\'" ss-bind-html="vm.optionsTemplate" ng-mousedown="$event.stopPropagation()"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-checkbox-group/checkbox-group.html",'<div class="cmp-checkbox-group" ss-validate="field.ignoreValidations || vm.validate(field.step.formFieldValues, field._label)"> <label ng-bind="field._label" class="field-label" ng-class="{\'required\': field._required}"></label> <div ss-bind-html="vm.template"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credential/credential.html",'<div ng-class="vm.formfieldvalues ? \'cmp-credential\' : \'\'" ng-show="vm.visibility"> <dl ng-if="!vm.formfieldvalues"> <dt ng-bind="field._label" class="field-label"></dt> <dd>--</dd> </dl> <dl ng-if="vm.formfieldvalues"> <div ng-repeat="subField in field.config.fields | filter: go.hideHeadingsAndInactive | orderBy: go.sortOrder track by $index" ng-style="{\'width\': subField.config.width}" class="credential-property"> <dt class="field-label" ng-bind="subField._label"></dt> <dd ng-if="subField.formFieldValueProperty !== \'IsVerified\' && subField.formFieldValueProperty !== \'ExpirationDay\'" class="field-value" ng-bind="formfieldvalues[subField.formFieldValueProperty] ? formfieldvalues[subField.formFieldValueProperty] : \'--\'"></dd> <dd ng-if="subField.formFieldValueProperty === \'IsVerified\'"> <p ng-bind="formfieldvalues[subField.formFieldValueProperty] ? \'Verified\' : \'--\' " aria-label="credential is {{formfieldvalues[subField.formFieldValueProperty] ? \'verified\' : \'not verified\'}}"></p> </dd> <dd ng-if="subField.formFieldValueProperty === \'ExpirationDay\'" ng-bind="formfieldvalues[subField.formFieldValueProperty] !== \'9999-12-31\' ? formfieldvalues[subField.formFieldValueProperty] : \'Lifetime\'"></dd> </div> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-credential-group/credential-group.html",'<fieldset class="cmp-credential-group"> <legend ng-if="go.showGroupLabel()">{{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em></legend> <div ng-if="go.showTemplate()" ng-class="!vm.formfieldvalues ? \'credential-group\' : \'\'"> <cmp-credential ng-repeat="field in field.config.fields | filter: go.hideHeadings | orderBy: go.sortOrder track by $index" field="field" ng-style="{\'width\': field.config.width}" class="credential-property"></cmp-credential> </div> <div ng-if="!vm.formFieldValues && field.config.tableConfig.view === \'true\'" ng-class="!vm.formfieldvalues ? \'credential-table-group\' : \'\'"> <cmp-table-view field="field"></cmp-table-view> </div> <cmp-credential ng-if="go.showInstance()" ng-repeat="ffv in vm.formFieldValues" formfieldvalues="ffv" field="field"></cmp-credential> <div ng-if="field.config.tableConfig.view === \'true\' && vm.formFieldValues && vm.formFieldValues.length" class="supplemental-group"> <div ng-repeat="field in field.config.fields" class="field-property"> <h4 ng-if="field._fieldType == \'readOnlyHeading\' && field._tableViewChecked"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <cmp-table-view field="field" form-field-values="vm.formFieldValues"></cmp-table-view> </div> </fieldset> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-dnd-options/dnd-options.html",'<div class="cmp-dnd-options"> <dl class="option-list" ng-class="{\'overflow\': vm.options.length > 5}" dnd-list="vm.options" dnd-allowed-types="[\'optionType\']" dnd-drop="go.dropOption(event, index, item)" ss-validate="go.validate(field)"> <dt>Options</dt> <dd class="option-list-item" ng-repeat="option in vm.options track by $index"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="option" dnd-moved="go.moveOption($index, option)" dnd-type="\'optionType\'"></span> <super-input-text model="option.value"></super-input-text> <button type="button" ng-if="vm.options.length > 1" class="option-remove" ss-icon="minus-circle" ng-click="go.removeOption($index)"></button> </dd> </dl> <super-button std label="Add New Option" ss-icon="plus" ng-click="go.addOption()"></super-button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-due-expiration-date/due-expiration-date.html",'<div class="cmp-due-expiration-date"> <div class="due-expiraton-row"> <super-select-list class="due-expiraton-type" label="Due/Expiration Date" label-weight="heavy" model="vm.currentStep.dueExpiration.selectedDueExpirationType" data-qa="due-expiration-date-step-{{vm.stepIndex}}"> <super-select-list-item ng-repeat="option in vm.dueExpirationType | filter : go.filterDueExpiration" value="option.value" label="option.name" data-qa="results-filter-option"></super-select-list-item> </super-select-list> <div class="due-expiraton" ng-if="vm.currentStep.dueExpiration.selectedDueExpirationType === 1"> <super-input-datepicker data-test="due-date-step-{{vm.stepIndex}}" name="dueExactDate" options="vm.currentStep.datePickerOptions" ss-validate="validator.required(\n                    vm.currentStep.dueExpiration.dueExactDate,\'Date\')" model="vm.currentStep.dueExpiration.dueExactDate"> </super-input-datepicker> </div> <div class="due-expiraton" ng-if="vm.currentStep.dueExpiration.selectedDueExpirationType === 2 || vm.currentStep.dueExpiration.selectedDueExpirationType === 5"> <span class="due-expiraton-msg">Due</span> <super-input-text class="days-input" type="number" data-test="due-days-step-{{vm.stepIndex}}" ss-validate="validator.daysLimit(\n                vm.currentStep.dueExpiration.dueDays,\'Due days\')" name="dueDays" model="vm.currentStep.dueExpiration.dueDays"></super-input-text> <span class="due-expiraton-msg" data-test="due-days-message-step-{{vm.stepIndex}}" ng-if="isFirstStep">days after sent date</span> <span class="due-expiraton-msg" data-test="due-days-message-step-{{vm.stepIndex}}" ng-if="!isFirstStep">days after prior step complete</span> </div> <div class="due-expiraton" ng-if="vm.currentStep.dueExpiration.selectedDueExpirationType === 3"> <super-input-datepicker data-test="expire-date-step-{{vm.stepIndex}}" name="expirationExactDate" options="vm.currentStep.datePickerOptions" ss-validate="validator.required(\n                    vm.currentStep.dueExpiration.expirationExactDate,\'Date\')" model="vm.currentStep.dueExpiration.expirationExactDate"> </super-input-datepicker> <span data-test="due-days-expire-message-step-{{vm.stepIndex}}" ng-if="vm.currentStep.dueExpiration.expirationExactDate">Forms that expire are no longer able to be completed after the expiration date.</span> </div> <div class="due-expiraton" ng-if="vm.currentStep.dueExpiration.selectedDueExpirationType === 4 || vm.currentStep.dueExpiration.selectedDueExpirationType === 6"> <span class="due-expiraton-msg">Expires</span> <super-input-text data-test="due-days-step-{{vm.stepIndex}}" class="days-input" type="number" ss-validate="validator.daysLimit(\n                vm.currentStep.dueExpiration.expirationDays,\'Expire days\')" name="expirationDays" model="vm.currentStep.dueExpiration.expirationDays"></super-input-text> <span class="due-expiraton-msg" data-test="due-expiraton-msg-step-{{vm.stepIndex}}" ng-if="isFirstStep">days after sent date</span> <span class="due-expiraton-msg" data-test="due-expiraton-msg-step-{{vm.stepIndex}}" ng-if="!isFirstStep">days after prior step complete</span> </div> </div> <div class="warning" ng-if="vm.currentStep.showWarning" data-test="warning-step-{{vm.stepIndex}}"> Due to the change at this step, any subsequent steps that had already been set up with due/expiration date info have been reset. Please check each step to ensure that your dates are correct. </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-emp-initiated-template/emp-initiated-template.html",'<div class="cmp-emp-initiated-template"> <div class="gd-row form-list-header-group"> <div class="sort-by-filter"> <super-select-list type="filter" label="Sort by" model="vm.sortBy" is-disabled="vm.isLoading || vm.isSorting || vm.isSearching"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row gd-100p" ss-pending="vm.isSorting || vm.isSearching"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-class="{\'no-left-margin\': {{$index}} % 5 === 0}" ng-show="vm.formsAndPackets.length > 0" ng-repeat="form in vm.formsAndPackets track by form.id"> <div class="form-list-item-wrapper"> <div class="form-item-details"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ui-sref="base.formBuilder.preview({formId: form.id, returnTo: \'base.my-forms\', returnStateParams: { activeTab: \'initiate\'}})" title="click to preview \'{{::form._name}}\'\'">{{::form._name}}</a> </h3> <div class="form-meta"> <ul class="ss-pipe-children items-2"> <li class="form-meta-item"><label>Category: </label><span ng-bind="form._category.name"></span></li> <li class="form-meta-item"><label>Form Administrator: </label><span ng-bind="form.adminName"></span></li> </ul> </div> </div> <div class="form-actions-group"> <super-button label="Start this form" ss-icon-before="{{form.initiating ? \'spinner\':\'mail-forward\'}}" ng-click="go.initiateForm(form)" ng-class="{\'initiating\': form.initiating}" ng-disabled="form.initiating"></super-button> </div> </div> </div> </li> <li ng-if="vm.formsAndPackets.length < 1 && !vm.isLoading && !vm.isSorting && !vm.isSearching">No forms found</li> </ul> <div ng-if="vm.showInfScroll" ss-pending="vm.isLoading" infinite-scroll="scrollData()"></div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-field-renderer/field-renderer.html",'<div class="cmp-field-renderer auto-{{ field.id }}" ng-show="vm.visibility" ng-class="{\'hide\': !vm.visibility}" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-fl-share-form/fl-share-form.html",'<div class="cmp-fl-share-form modal"> <button type="button" ng-click="go.cancel()" class="button flat modal-close" ss-icon-before="times"></button> <div class="title">Share Template</div> <div class="content"> <ul class="gd-row org"> <li class="gd-100p"> <super-org-search model="vm.org" label="Organization or ID" limit="1"></super-org-search> </li> </ul> <ul class="gd-row form-name"> <li class="gd-100p"> <super-input-text label="Form Template Name" name="formName" model="vm.formName"></super-input-text> </li> </ul> </div> <div class="modal-button"> <super-button label="Cancel" ng-click="go.cancel()" is-disabled="vm.saving"></super-button> <super-button pri class="save-button" ng-class="{\'saving\': vm.saving}" label="Share Template" ng-click="go.share()" is-disabled="!vm.org.length || !vm.formName.length || vm.saving" ss-icon="spinner"></super-button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-list-group/form-list-group.html",'<div class="cmp-form-list-group" ng-class="{\'{{type}}\' : type}"> <div class="gd-row form-list-header-group"> <super-select-list ng-if="vm.formsAndPackets.length > 1" class="gd-100p sort-by-filter" type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> </div> <div ss-pending="vm.searching || vm.sorting"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-show="vm.formsAndPackets.length > 0" ng-class="{\'pending\': form.isPending && !form.isPacket}" ng-repeat="form in vm.formsAndPackets track by $index"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isRejected}"> <div class="form-item-details" ng-if="!form.isPacket" data-auto-date-modified="{{form._createdUtc}}" data-auto-due-date="{{form._dueDateUtc}}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-bind="form.name" ng-if="!form.isPending" title="Open {{form.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{form.id}}?returnUrl=%2Fec-forms%2Fmy-forms&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> <span ng-if="form.isPending">{{form.name}}</span> <small class="form-user-name" ng-if="!form.userIsPrimary" ss-icon="user" ng-bind="form._employee.name"></small> </h3> <div class="form-meta" data-auto-due-date="{{ form._dueDateUtc }}"> <ul class="ss-pipe-children" ng-class="{\'items-2\': form.dueDateStatus}"> <li class="form-meta-item" ng-bind="form.stepActionName"></li> <li class="form-meta-item" ng-if="form.dueDateStatus"> <strong class="form-due-date" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}" ng-bind="form.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected && form.isUserStep}" ss-icon="{{form.isRejected && form.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!form.isRejected && !form.isCompletedAndDenied"> <p ng-bind="form.formStatus"></p> </div> <div ng-if="form.isRejected || form.isCompletedAndDenied"> <div ng-if="form.isRejected"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="form.isCompletedAndDenied"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" title="click to view denier info" ss-icon="thumbsdown-stripes"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> </div> </div> </div> <div class="form-actions-group"> <super-button ng-if="!form.isPending && !form.isSubmitted" label="{{form.stepActionLabel}}" ng-click="go.complete(form)"></super-button> </div> </div> <div class="form-item-details" ng-if="form.isPacket"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{form._isEmployeeInitiated ? \'li-packet-e-large\' : \'li-packet-large\'}}" role="img" aria-hidden="true"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-click="go.toggleDetails(form)">{{form.name}}&nbsp;<small>-&nbsp;Packet</small></a> </h3> <button type="button" class="packet-toggle" ss-icon-after="{{form.showDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(form)">{{form.showDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-workflow-status-group"> <p ng-bind="form.formStatus" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div class="form-actions-group"> <super-button label="{{form.showDetails ? \'Hide\' : \'Show\'}} Details" ng-click="go.toggleDetails(form)"></super-button> </div> </div> </div> <div ng-if="form.isPacket" ng-show="form.showDetails" class="form-packet-details"> <ul class="form-packet-list"> <li class="form-packet-list-item" ng-if="form.content.length < 1"> <p>No Forms are associated with this Package</p> </li> <li class="form-packet-list-item" ng-if="form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" ng-class="{\'pending\': Pform.isPending}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isRejected}"> <div class="form-item-details" data-auto-date-modified="{{ Pform._createdUtc }}" data-auto-due-date="{{ Pform._dueDateUtc }}"> <div class="form-icon-group"> <figure class="form-icon" ss-icon-before="{{Pform._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="img" aria-label="form icon"></figure> </div> <div class="form-info-group"> <h3 class="form-name"> <a ng-bind="Pform.name" ng-if="!Pform.isPending" title="Open {{Pform.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{Pform.id}}?returnUrl=%2Fec-forms%2Fmy-forms&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> <span ng-if="Pform.isPending">{{Pform.name}}</span> <small class="form-user-name" ng-if="!Pform.userIsPrimary" class="form-user-name" ss-icon="user" ng-bind="Pform._employee.name"></small> </h3> <div class="form-meta"> <ul class="gd-row items-2 ss-pipe-children"> <li class="form-meta-item" ng-bind="Pform.stepActionName"></li> <li class="form-meta-item" ng-if="Pform._dueDateUtc"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> </ul> </div> </div> <div class="form-workflow-status-group"> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-bind="Pform.formStatus" ng-class="{\'denied\':Pform.isRejected && Pform.isUserStep}" ss-icon="{{Pform.isRejected && Pform.isUserStep ? \'thumbsdown-stripes\' : \'\' }}"></p> </div> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!Pform.isRejected && !Pform.isCompletedAndDenied"> <p ng-bind="Pform.formStatus"></p> </div> <div ng-if="Pform.isRejected || Pform.isCompletedAndDenied"> <div ng-if="Pform.isRejected"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="Pform.isCompletedAndDenied"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" title="click to view denier info" ss-icon="thumbsdown-stripes"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> </div> </div> </div> <div class="form-actions-group"> <super-button ng-if="!Pform.isPending" label="{{Pform.stepActionLabel}}" ng-click="go.complete(Pform)"></super-button> </div> </div> </div> </li> </ul> </div> </li> <li ng-if="vm.showInfScroll" ss-pending="vm.loading" infinite-scroll="scrollData()" infinite-scroll-distance="0.5" infinite-scroll-listen-for-event="forms-inbox.data-loaded"></li> <li class="" ng-if="vm.formsAndPackets.length < 1 && !vm.loading">No Forms or Packets found</li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-form-send-status/form-send-status.html",'<div class="cmp-form-send-status" ss-pending="vm.loading" ss-pending-status="\'{{vm.loadingMessage}}\'"> <div class="gd-row batch-status-wrapper"> <div class="batch-info-group"> <p><span ng-bind="vm.sendStatusText"></span>&nbsp;<span ng-if="!vm.hasFailures" ng-pluralize count="batch._includedEmployeeIds.length" when="{\'one\' : \'staff member\', \'other\' : \'staff members\'}"></span>&nbsp;|&nbsp;Sent by <span ng-bind="batch._creator.name"></span></p> <p class="status-helper-text" ng-if="vm.status._status !== 0" ng-bind-html="vm.statusHelperText"></p> </div> <div class="batch-progress-group"> <div class="batch-progress-wrapper"> <div class="progress-text"> <p ng-if="vm.status._status === 0" role="status">{{vm.numInBatch || 0}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;prepared</p> <p ng-if="vm.status._status !== 0" role="status">{{vm.numComplete}}&nbsp;of&nbsp;{{vm.formattedRecipientLength}}&nbsp;sent</p> </div> <div class="progress-bar-group"> <div class="progress-bar-container" ng-show="vm.inProgress"><div class="progress-bar" ng-style="{\'width\': vm.percentComplete, \'transition\': \'width 3s\'}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percentComplete}}" aria-label="batch progress bar"></div></div> <em class="progress-message" ng-show="!vm.inProgress"><span ng-class="[vm.progressMessageClass]" ng-bind="vm.progressMessage"></span></em> </div> </div> </div> </div> <button type="button" class="hide-batch-control" ng-if="vm.hasFailures" ng-click="go.archiveBatch()" ss-icon="times" aria-label="clear status message for {{form._name}}" title="clear status message for {{form._name}}"></button> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-multiple-employee-search/multiple-employee-search.html",'<div class="cmp-multiple-employee-search"> <super-button ss-icon="users" smp ng-click="go.toggleFilter()" label="{{label}}" is-disabled="model.length > 0" data-qa="add-group-control"></super-button> <div class="multiple-employee-search" ng-class="{\'ss-menu-open\' : vm.formOpened}"> <div class="form-error" ng-if="!model.length && vm.attempted && !vm.filtering" role="alert"><p ss-icon="exclamation-circle">These parameters returned 0 results. Please update and try again.</p></div> <form ng-submit="go.add()"> <div class="form-header"> <h5>Define A Group <span class="effective-date-subheading">Staff member information effective as of {{vm.asOf}}</span></h5> <button class="close fa-times-before" ss-icon="times" ng-click="go.toggleFilter()"></button> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-job-type"> <super-multi-filter-list label="With this Job Type" selected="vm.selected.jobType"> <super-multi-filter-list-item aria-label="{{!jobType._isActive ? \'inactive\' : \'\'}} location titled {{jobType._name}}" ng-class="{\'is-inactive\' : !jobType._isActive && featureFlags.fc_enable_referential_data_status}" ng-repeat="jobType in vm.jobTypes | filter: go.filterInactive | orderBy:\'_name\'" option="jobType"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-location"> <super-multi-filter-list label="At this Location" selected="vm.selected.location"> <super-multi-filter-list-item aria-label="{{!location._isActive ? \'inactive\' : \'\'}} location titled {{location._name}}" ng-class="{\'is-inactive\' : !location._isActive && featureFlags.fc_enable_referential_data_status}" ng-repeat="location in vm.locations | filter: go.filterInactive | orderBy:\'_name\'" option="location"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-employment-group"> <super-multi-filter-list ng-if="!featureFlags[\'isHRMSEnabled\']" label="In this Employment Group" selected="vm.selected.employmentGroup" is-disabled="vm.employmentGroupDisabled"> <super-multi-filter-list-item aria-label="{{!group._isActive ? \'inactive\' : \'\'}} location titled {{group._name}}" ng-class="{\'is-inactive\' : !group._isActive && featureFlags.fc_enable_referential_data_status}" ng-repeat="group in vm.employmentGroups | filter: go.filterInactive | orderBy:\'_name\'" option="group"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-department"> <super-multi-filter-list label="In this Department" selected="vm.selected.department"> <super-multi-filter-list-item aria-label="{{!department._isActive ? \'inactive\' : \'\'}} location titled {{department._name}}" ng-class="{\'is-inactive\' : !department._isActive && featureFlags.fc_enable_referential_data_status}" ng-repeat="department in vm.departments | filter: go.filterInactive | orderBy:\'_name\'" option="department"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row" ng-if="featureFlags.fc_work_relationships"> <div class="gd-50p" data-qa="auto-workRelationship"> <super-multi-filter-list label="With this Work Relationship" selected="vm.selected.workRelationship"> <super-multi-filter-list-item ng-repeat="option in vm.workRelationship | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p" data-qa="auto-staffType"> <super-multi-filter-list label="With this Staff Type" selected="vm.selected.staffType"> <super-multi-filter-list-item ng-repeat="option in vm.staffType | orderBy:\'_name\'" option="option"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> <div class="gd-row"> <div class="gd-50p" data-qa="auto-status"> <super-multi-filter-list label="With this Status" selected="vm.selected.status"> <super-multi-filter-list-item ng-repeat="status in vm.status | orderBy:\'_name\' track by $index" option="status"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div class="gd-50p"> <div class="main-label"> <label>Hired within this Date Range</label> </div> <super-input-datepicker class="gd-50p hireDateStart" options="" model="vm.selected.hireDateStart"></super-input-datepicker><span class="gd-5p"></span> <super-input-datepicker id="hireEndDate" class="gd-45p hireDateEnd" options="vm.endDateOptions" model="vm.selected.hireDateEnd" is-disabled="vm.noStartDate"></super-input-datepicker> </div> </div> <div class="gd-row exclusions"> <div class="main-label"> <label>Exclude these Staff members</label> </div> <div> <super-employee-search class="exclusions-search" data-test="exlude-staff-search" model="exclusions" use-pill="true"></super-employee-search> </div> </div> <div class="gd-row actions-group"> <div class="gd-50p"> <button type="button" class="clear-all-btn" ng-click="go.clearAllFilters()">Clear All Filters</button> </div> <div class="gd-50p flr"> <super-button data-qa="auto-cancel" label="Cancel" ng-click="go.cancel()" class="close-button" ng-disabled="vm.filtering"></super-button> <super-button data-qa="auto-add-group" ng-if="!model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Add Group"></super-button> <super-button data-qa="auto-update-group" ng-if="model.length" pri class="save-button" ss-pending="vm.filtering" ng-click="go.addGroup()" label="Update Group"></super-button> </div> </div> </form> </div> <div> <div class="employee-group" ng-show="model.length > 0"> <span ss-icon="users"> <a ng-click="go.toggleFilter()">Staff Member Group&nbsp;(<span class="users-count" ng-bind="model.length" data-qa="group-total"></span>)</a> <button type="button" class="remove" ss-icon-after="times" ng-click="routeVm.removeGroup()"></button> </span> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-overlay-builder-toolbox/overlay-builder-toolbox.html",'<div class="cmp-overlay-builder-toolbox" aria-label="overlay builder tools"> <ul class="tools" ng-show="routeVm.formTemplate._printPreviewDefinition && routeVm.formTemplate._printPreviewDefinition.templateFileId"> <li ng-repeat="t in vm.tools" ng-click="routeVm.selectedTool = t" ng-class="{selected: routeVm.selectedTool === t}" ss-tool-tip="{{t.title}}"><span ss-icon="{{t.icon}}"></span></li> </ul> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-primary-assignment-table-view/primary-assignment-table-view.html",'<div class="primary-assignment-table-view"> <div ng-repeat="field in group" ng-style="go.getFieldWidth(field)" ng-class="{\'table-view-heading\':field._fieldType == \'readOnlyHeading\'}" ng-if="field._fieldType == \'readOnlyHeading\' || field._fieldType == \'instructions\'"> <h4 ng-show="go.isVisible(field)" ng-if="field._fieldType == \'readOnlyHeading\'">{{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em></h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <table ng-if="!vm.isTableSwapped" class="primary-assignment-grid" ng-style="go.getTableStyles()"> <thead> <tr> <th class="primary-assignment-grid-header" ng-show="go.isVisible(field)" ng-repeat="field in group" ng-if="go.checkIfHeadingOrInstructions(field)" ng-bind="field._label"></th> </tr> </thead> <tbody> <tr ng-repeat="row in [].constructor(1) track by $index"> <td ng-if="go.checkIfHeadingOrInstructions(field)" ng-repeat="field in group" ng-show="go.isVisible(field)" ng-bind="go.bindFieldValue(field)"> </td> </tr> </tbody> </table> <table ng-if="vm.isTableSwapped" class="primary-assignment-grid" ng-style="go.getTableStyles()"> <tr class="table-view-row" ng-repeat="field in group"> <th class="primary-assignment-grid-header" ng-show="go.isVisible(field)" ng-if="go.checkIfHeadingOrInstructions(field)" ng-bind="field._label"></th> <td ng-if="go.checkIfHeadingOrInstructions(field)" ng-show="go.isVisible(field)" ng-repeat="row in [].constructor(1) track by $index" ng-bind="go.bindFieldValue(field)"></td> </tr> </table> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-progress-bar/progress-bar.html",'<div class="cmp-progress-bar"> <label>{{vm.percent}}</label> <div class="container"> <div class="progress-bar" ng-style="{width: \'{{vm.percent}}\'}" ng-class="{\'rejected\' : vm.rejected}" role="progressBar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{vm.percent}}" aria-label="progress bar"></div> </div> <ng-transclude></ng-transclude> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-properties-credentials/properties-credentials.html",'<div class="cmp-properties-credentials"> <h4 class="title-properties">Credential Properties</h4> <div> <super-input-checkbox model="vm.showActive" label="Show only active credentials"></super-input-checkbox> <div class="separator"></div> </div> <div class="gd-row" ng-if="routeVm.featureFlags.fc_enable_form_tables"> <h5 class="layout-header">Layout</h5> <super-popover class="layout-popover">Tables allow you to display information in a condensed layout. Table rows/columns adjust based on staff member assignments or credentials.</super-popover> <div class="layout-options"> <super-input-radio name="Default" label="Default" value="false" model="vm.fields[0].config.tableConfig.view"></super-input-radio> <super-input-radio name="Table" label="Table" value="true" model="vm.fields[0].config.tableConfig.view"></super-input-radio> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Width (%):</label> <super-input-text type="number" model="vm.fields[0].config.tableConfig.width" edit-mode="true" ss-validate="validator.width(vm.fields[0].config.tableConfig.width, \'Table Width\')"></super-input-text> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Alignment:</label> <super-select-list model="vm.fields[0].config.tableConfig.alignment" edit-mode="vm.editMode" data-test="delimiter"> <super-select-list-item ng-repeat="option in vm.tableAlignmentOptions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div ng-click="go.swapTable()" class="swap-label"> <label>Swap Rows/Columns</label> <span><svg class="swap-icon" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exchange-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-exchange-alt fa-w-16 fa-7x"><path fill="currentColor" d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z" class=""></path></svg></span> </div> </div> <div class="gd-row fields" data-qa="property-panel-fields" ng-repeat="f in vm.fields"> <div ng-style="{\'padding-left\': vm.isTableView ? \'14%\': \'\'}"> <super-input-checkbox model="f.config.fields[0][vm.propertyName]" ng-click="f.config.fields[0]._required = false" aria-label="click to {{f.config.fields[0][vm.propertyName] ? \'hide\':\'show\'}} the {{f.config.fields[0]._label ?  f.config.fields[0]._label : f.config.fields[0]._placeholderLabel}} field" data-qa="{{f.config.fields[0]._label ?  f.config.fields[0]._label : f.config.fields[0]._placeholderLabel}}-field-visibility-control"></super-input-checkbox> <label class="sub-title-properties" ng-bind="f._label"> </div> <table class="active-fld-ctrl-list"> <thead> <tr> <th ng-if="vm.isTableView" width="13%"></th> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th ng-if="!routeVm.featureFlags.fc_enable_form_tables" class="fld-ctrl-required" width="13%"><i ss-icon="asterisk" aria-label="is field required?" title="make field required"></i></th> <th class="fld-ctrl-label" ng-style="{width: vm.fields[0].config.tableConfig.view === \'false\' && routeVm.featureFlags.fc_enable_form_tables ? \'87%\' : \'74%\'}">Field Label</th> </tr> </thead> <tbody dnd-list="f.config.fields" dnd-allowed-types="[\'credentials{{f._fieldDefId}}\']" dnd-drop="go.dropField(index)"> <tr ng-repeat="subF in f.config.fields | filter: go.hideHeadings | orderBy: go.sortOrder track by $index"> <td ng-if="vm.isTableView"> <span dnd-draggable="subF" class="dnd-drag-drop" dnd-type="\'credentials{{f._fieldDefId}}\'" dnd-moved="go.dragDropProperties($index, subF, f.config.fields)" dnd-effect-allowed="move"> <svg class="grab-icon" aria-hidden="true" focusable="false" ss-icon="grip-vertical" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> <path fill="currentColor" d="M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"></path> </svg> </span> </td> <td class="fld-ctrl-active"> <super-input-checkbox model="subF[vm.propertyName]" ng-click="subF._required = false" aria-label="click to {{subF[vm.propertyName] ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td ng-if="!routeVm.featureFlags.fc_enable_form_tables" class="fld-ctrl-required"> <super-input-checkbox model="subF._required" is-disabled="subF._fieldType.startsWith(\'readOnly\') || !subF[vm.propertyName]" aria-label="click to make the {{subF._label ?  subF._label : subF._placeholderLabel}} field {{subF._required ? \'not \' : null}}required" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-requiredness-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="subF._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="subF._label" ss-validate="validator.label(subF._label)" ss-validate-message="Labels must be 25 characters or less" is-disabled="!subF[vm.propertyName]" placeholder="{{subF._placeholderLabel}}" aria-label="{{subF._label ? \'edit the\' : \'enter a\'}} value for the label of the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-common/properties-custom-common.html",'<div class="cmp-properties-custom-common"> <div class="gd-row" ng-if="vm.showLabel"> <super-input-text label="Label" model="vm.field._label" placeholder="Enter label text..."></super-input-text> </div> <div class="gd-row" ng-if="vm.showRequired"> <super-input-checkbox label="This is a required field" model="vm.field._required"></super-input-checkbox> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-date/properties-custom-date.html",'<div class="cmp-properties-custom-date"> <h4 class="title-properties">Date Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-dropdown/properties-custom-dropdown.html",'<div class="cmp-properties-custom-dropdown"> <h4 class="title-properties">Dropdown Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-filelink/properties-custom-filelink.html",'<div class="cmp-properties-custom-filelink"> <h4 class="title-properties">Link Properties</h4> <div class="gd-row"><super-input-text label="Insert a Link" model="field.config.location" ss-validate="vm.validator.requiredUrl(field.config.location)">www.link.com</super-input-text></div> <div class="gd-row"><super-input-text label="Link Name (optional)" model="field.config.name"></super-input-text></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-fileupload/properties-custom-fileupload.html",'<div class="cmp-properties-custom-fileupload"> <h4 class="title-properties">File Upload Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <super-input-textarea label="Instructions" model="vm.field._label" initial-height="90"></super-input-textarea> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-input/properties-custom-input.html",'<div class="cmp-properties-custom-input"> <h4 class="title-properties">Input Text Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-select-list label="Height" model="vm.field._fieldType"> <super-select-list-item ng-repeat="option in vm.heights" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <div ng-show="vm.field._fieldType === \'super-input-textarea\'">Multi-line text cannot be added to a PDF overlay.</div> </div> <div class="gd-row"> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-sectionhead/properties-custom-sectionhead.html",'<div class="cmp-properties-custom-sectionhead"> <h4 class="title-properties">Section Head Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields" show-required="false" show-instructions="false"></cmp-properties-custom-common> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-selectbox/properties-custom-selectbox.html",'<div class="cmp-properties-custom-selectbox"> <h4 class="title-properties">Select Box Properties</h4> <div class="gd-row"> <cmp-properties-custom-common fields="fields"></cmp-properties-custom-common> </div> <div class="gd-row"> <super-input-checkbox label="Allow user to select multiple choices" model="vm.field.config.multiple"></super-input-checkbox> </div> <div class="gd-row"> <super-select-list label="Columns" model="vm.field.config.colwidth"> <super-select-list-item ng-repeat="option in vm.cols" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-dnd-options field="vm.field" options="vm.field._options"></cmp-dnd-options> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-signature/properties-custom-signature.html",'<div class="cmp-properties-custom-signature"> <h4 class="title-properties">Signature Properties</h4> <div class="gd-row"> <p>Whose signature do you need on the form?</p> <ul> <li> <super-input-radio is-disabled="!vm.canAssociateSignatures && vm.signatureDisplay !== \'step-participant\'" data-ng-attr-title="{{!vm.canAssociateSignatures && vm.signatureDisplay !== \'step-participant\' ? \'You do not have permission to select this option, contact your admin if you need access.\': \'\'}}" name="signature-type" label="Step Participant" model="vm.signatureDisplay" value="step-participant" data-test="step-participant"> </super-input-radio> </li> <li> <super-input-radio is-disabled="!vm.canAssociateSignatures" data-ng-attr-title="{{!vm.canAssociateSignatures ? \'You do not have permission to select this option, contact your admin if you need access.\': \'\'}}" name="signature-type" label="Add from saved signatures" model="vm.signatureDisplay" value="saved-signatures" data-test="saved-signatures"> </super-input-radio> </li> </ul> <cmp-properties-custom-common fields="fields" ng-if="vm.signatureDisplay === \'step-participant\'"></cmp-properties-custom-common> <div ng-if="vm.signatureDisplay === \'saved-signatures\' && vm.canAssociateSignatures"> <super-multi-filter-list label="Signatures" selected="vm.selectedSignatures" is-disabled="vm.loadingDropdown"> <super-multi-filter-list-item ng-repeat="signature in vm.allSignatures track by $index" option="signature"></super-multi-filter-list-item> </super-multi-filter-list> <h4>Layout</h4> <button type="button" class="orientation" ng-class="{\'selected\': vm.orientation === \'h\'}" ng-click="vm.orientation = \'h\'" ss-icon="ellipsis-h" ng-disabled="!vm.selectedSignatures.length"></button> <button type="button" class="orientation" ng-class="{\'selected\': vm.orientation === \'v\'}" ng-click="vm.orientation = \'v\'" ss-icon="ellipsis-v" ng-disabled="!vm.selectedSignatures.length"></button> <h4>Reorder</h4> <ul class="signature-list-added" dnd-list="vm.selectedSignatures" dnd-drop="go.dropSignature(event, index, type, item)"> <li ng-if="vm.selectedSignatures.length < 1">There are no signatures selected yet</li> <li class="gd-row auto-{{ signature.id }}" ng-repeat="signature in vm.selectedSignatures"> <span ss-icon="navicon" dnd-effect-allowed="move" dnd-draggable="signature" dnd-moved="go.moveOption($index, option)" dnd-type="\'addedType\'">{{signature._name}} ({{signature._title}})</span> </li> </ul> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-custom-text/properties-custom-text.html",'<div class="cmp-properties-custom-text"> <h4 class="title-properties">Text Properties</h4> <super-input-textarea placeholder="Enter text..." model="vm.field._label" ss-validate="go.validate(vm.field)"></super-input-textarea> <super-select-list label="Width" model="vm.field.config.width"> <super-select-list-item ng-repeat="option in vm.widths" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <super-input-checkbox label="Map Text in Overlay Builder" model="vm.field.config.mappable"></super-input-checkbox> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-emp-record/properties-emp-record.html",'<div class="cmp-properties-emp-record"> <button type="button" class="smp" ss-toggle="emp-record-content" ss-toggle-start-expanded="{{vm.commit}}" data-qa="employee-record-toggle">Employee Profile</button> <div class="emp-record-content"> <super-input-checkbox is-disabled="!vm.hasExternalData || !canEdit" model="vm.commit" label="Commit submitted data to Employee\'s profile." data-qa="employee-record-toggle-checkbox"></super-input-checkbox> <super-popover>If enabled, this will overwrite any existing data in the Employee\'s profile. This control will be disabled for for read-only fields and for fields that do not have corresponding fields in the employee record.</super-popover> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-notifications/properties-notifications.html",'<div class="cmp-properties-notifications"> <button type="button" class="smp" ss-toggle-start-expanded="true" ng-disabled="step._stepAction == null" ss-toggle="step-action-content" aria-controls="properties-step-action-content">Step Actions</button> <div id="properties-step-action-content" class="step-action-content"> <div ng-repeat="event in vm.stepEvents"> <div ng-if="step._stepAction === event.eventActionEnum"> <h5><em ng-bind="event.title"></em></h5> <ul class="submit-fld-ctrl-list" data-auto="{{event.dataAuto}}"> <li ng-repeat="action in event.eventActions" class="fld-ctrl-item" data-auto="{{action.dataAuto}}"> <super-input-checkbox label="{{:: action.title }}" model="action.checked" ng-click="go.eventClicked(event, action)" is-disabled="action.isDisabled()"></super-input-checkbox> <super-employee-search ng-if="action.checked && action.emails" model="action.emails" use-pill="true" placeholder="Search by name"> </super-employee-search> </li> </ul> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-form-complete/properties-form-complete.html",'<div class="cmp-properties-form-complete"> <h4 class="title-properties">{{step._name}} - Properties</h4> <div class="gd-row"> <super-input-checkbox label="Add completed form to recipient\'s Employee Profile (will appear in Personnel File)" model="vm.addToEmpRecord"></super-input-checkbox> </div> <div class="gd-row" ng-if="vm.addToEmpRecord"> <super-select-list model="vm.webFormSubCategory"> <super-select-list-item type="heading" label="\'Personnel Documents\'"></super-select-list-item> <super-select-list-item ng-repeat="item in vm.personnel.enums" value="\'0-\' + item.value" label="item.name"></super-select-list-item> <super-select-list-item type="heading" label="\'Medical Documents\'"></super-select-list-item> <super-select-list-item ng-repeat="item in vm.medical.enums" value="\'1-\' + item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row"> <h5><em>On Complete</em></h5> <ul class="actions"> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee" model="actions.emailEmployee"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Form Sender" model="actions.emailFormSender"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Employee\'s Supervisor" model="actions.emailSupervisor"></super-input-checkbox></li> <li class="fld-ctrl-item"><super-input-checkbox label="Email Others" model="actions.emailOthers"></super-input-checkbox></li> </ul> <super-employee-search model="actions.emailIds" ng-if="actions.emailOthers" use-pill="true" placeholder="Search by name"></super-employee-search> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-primary-assignment/properties-primary-assignment.html",'<div class="cmp-properties-primary-assignment"> <h4 class="title-properties">Primary Assignment Properties</h4> <div class="gd-row"><super-input-text label="Instructions" model="fields[2]._label"></super-input-text></div> <div class="gd-row" ng-if="routeVm.featureFlags.fc_enable_form_tables"> <h5 class="layout-header">Layout</h5> <super-popover class="layout-popover">Tables allow you to display information in a condensed layout. Table rows/columns adjust based on staff member assignments or credentials.</super-popover> <div class="layout-options"> <super-input-radio name="Default" label="Default" value="false" model="vm.fields[0].config.tableView"></super-input-radio> <super-input-radio name="Table" label="Table" value="true" model="vm.fields[0].config.tableView"></super-input-radio> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="tablewidth-label">Table Width (%):</label> <super-input-text model="vm.fields[0].config.tableWidth" type="number" edit-mode="true" ss-validate="validator.width(vm.fields[0].config.tableWidth, \'Table Width\')"></super-input-text> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="tablewidth-label">Table Alignment:</label> <super-select-list model="vm.fields[0].config.tableAlignment" edit-mode="vm.editMode" data-test="delimiter"> <super-select-list-item ng-repeat="option in vm.tableAlignmentOption" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div ng-click="go.swapTable()" class="swap-label"> <label>Swap Rows/Columns</label> <span><svg class="swap-icon" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exchange-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-exchange-alt fa-w-16 fa-7x"><path fill="currentColor" d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z" class=""></path></svg></span> </div> </div> <table dnd-list="fields" dnd-allowed-types="[\'assignmentproperty\']" dnd-drop="go.dropField(index)"> <tbody class="active-fld-ctrl-list" ng-repeat="f in fields | filter: go.showActionableFields | orderBy: go.sortOrder track by $index" ng-show="!go.isTableViewField(f)" ng-class="{\'header-body\': f._fieldType == \'readOnlySubheading\'}"> <tr ng-if="go.isVisible(f)"> <td ng-if="vm.isTableView"></td> <td class="fld-ctrl-active"> <div> <super-input-checkbox model="f._active" ng-if="fields[0].config.tableView !== \'true\'" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f.s_placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> <super-input-checkbox model="f.config.tableViewChecked" ng-if="fields[0].config.tableView === \'true\'" ng-click="f._required = false;go.checkedTableView(f.config.tableViewChecked,\'tableViewChecked\',f)" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f.s_placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </div> </td> <td class="fld-ctrl-label"> <label class="sub-title-properties" ng-bind="f._label"> </td> </tr> <tr ng-if="go.isVisible(f)"> <th ng-if="vm.isTableView" width="13%"></th> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-label" ng-style="{width: vm.isTableView ? \'74%\' : \'87%\'}">Field Label</th> </tr> <tr ng-if="go.checkIfHeadingOrInstructions(f)" class="active-fld-ctrl-item" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td ng-if="vm.isTableView"> <span dnd-draggable="f" class="dnd-drag-drop" dnd-type="\'assignmentproperty\'" dnd-moved="go.dragDropProperties($index, f, fields)" dnd-effect-allowed="move"> <svg class="grab-icon" aria-hidden="true" focusable="false" ss-icon="grip-vertical" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> <path fill="currentColor" d="M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"></path> </svg> </span> </td> <td ng-if="go.checkIfHeadingOrInstructions(f)"> <super-input-checkbox model="f._active" ng-click="f._required = false" ng-if="fields[0].config.tableView !== \'true\'" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> <super-input-checkbox model="f.config.tableViewChecked" ng-if="fields[0].config.tableView === \'true\'" ng-click="f._required = false;go.checkedTableView(f.config.tableViewChecked,\'tableViewChecked\',f)" aria-label="click to {{f.config.tableViewChecked ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-label" ng-if="go.checkIfHeadingOrInstructions(f)"> <i ss-icon="warning" ng-if="f._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="fields[0].config.tableView === \'true\' ? !f.config.tableViewChecked : !f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-profile-review/properties-profile-review.html",'<div class="cmp-properties-profile-review"> <h4 class="title-properties">Review Profile Updates</h4> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Main Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <super-employee-search id="step-participant-search" model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipantType.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <div class="main-label"> <label>Action Performed</label> </div> <p>Review Employee Profile Updates</p> </div> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-salary/properties-salary.html",'<div class="cmp-properties-salary"> <div class="main-header"> <h4 class="title-properties">Total Salary Properties</h4> <super-popover class="header-popover">This form field summarizes salary amounts for the Primary Assignment, Secondary Assignment(s), or both.</super-popover> </div> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row fields" data-qa="property-panel-fields"> <table> <thead> <tr> <th class="fld-ctrl-label">Field Label</th> </tr> </thead> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in actionableFields" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td class="fld-ctrl-label"> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="!f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-properties-secondary-assignments/properties-secondary-assignments.html",'<div class="cmp-properties-secondary-assignments"> <div class="main-header"> <h4 class="title-properties">Secondary Assignment(s) Properties</h4> <super-popover class="header-popover">Secondary assignment fields cannot be mapped within the PDF Overlay Builder.</super-popover> </div> <div class="gd-row"><super-input-text label="Instructions" model="vm.fields[0].config.fields[1]._label"></super-input-text></div> <div class="gd-row" ng-if="routeVm.featureFlags.fc_enable_form_tables"> <h5 class="layout-header">Layout</h5> <super-popover class="layout-popover">Tables allow you to display information in a condensed layout. Table rows/columns adjust based on staff member assignments or credentials.</super-popover> <div class="layout-options"> <super-input-radio name="Default" label="Default" value="false" model="vm.fields[0].config.tableConfig.view"></super-input-radio> <super-input-radio name="Table" label="Table" value="true" model="vm.fields[0].config.tableConfig.view"></super-input-radio> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Width (%):</label> <super-input-text type="number" model="vm.fields[0].config.tableConfig.width" edit-mode="true" ss-validate="validator.width(vm.fields[0].config.tableConfig.width, \'Table Width\')"></super-input-text> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Alignment:</label> <super-select-list model="vm.fields[0].config.tableConfig.alignment" edit-mode="vm.editMode" data-test="delimiter"> <super-select-list-item ng-repeat="option in vm.tableAlignmentOptions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> <div> <div class="gd-row" ng-if="vm.isTableView"> <div ng-click="go.swapTable()" class="swap-label"> <label>Swap Rows/Columns</label> <span><svg class="swap-icon" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exchange-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-exchange-alt fa-w-16 fa-7x"><path fill="currentColor" d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z" class=""></path></svg></span> </div> </div> </div> <div class="gd-row fields" data-qa="property-panel-fields"> <table class="active-fld-ctrl-list" dnd-list="vm.fields[0].config.fields" dnd-allowed-types="[\'secondaryassignment\']" dnd-drop="go.dropField(index)"> <tbody ng-repeat="subF in vm.fields[0].config.fields | filter: go.hideInstructions | orderBy: go.sortOrder track by $index" ng-class="{\'header-body\': subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\'}"> <tr ng-if="go.isVisible(subF)"> <td ng-if="vm.isTableView"></td> <td class="fld-ctrl-active"> <div> <super-input-checkbox model="subF[vm.propertyName]" aria-label="click to {{subF[vm.propertyName] ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </div> </td> <td class="fld-ctrl-label"> <label class="sub-title-properties">{{vm.fields[0].config.tableConfig.view === \'true\' ? subF._label + \'(s)\' : subF._label}}</label> </td> </tr> <tr ng-if="go.isVisible(subF)"> <th ng-if="vm.isTableView" width="13%"></th> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-label" ng-style="{width: vm.isTableView ? \'74%\' : \'87%\'}">Field Label</th> </tr> <tr ng-if="go.checkIfHeadingOrInstructions(subF)"> <td ng-if="vm.isTableView"> <span dnd-draggable="subF" class="dnd-drag-drop" dnd-type="\'secondaryassignment\'" dnd-moved="go.dragDropProperties($index, subF, vm.fields[0].config.fields)" dnd-effect-allowed="move"> <svg class="grab-icon" aria-hidden="true" focusable="false" ss-icon="grip-vertical" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> <path fill="currentColor" d="M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"></path> </svg> </span> </td> <td class="fld-ctrl-active" ng-if="go.checkIfHeadingOrInstructions(subF)"> <super-input-checkbox model="subF[vm.propertyName]" ng-click="subF._required = false" aria-label="click to {{subF[vm.propertyName] ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="subF._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="subF._label" ss-validate="validator.label(subF._label)" ss-validate-message="Labels must be 25 characters or less" is-disabled="!subF[vm.propertyName]" placeholder="{{subF._placeholderLabel}}" aria-label="{{subF._label ? \'edit the\' : \'enter a\'}} value for the label of the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-smart/properties-smart.html",'<div class="cmp-properties-smart"> <h4 class="title-properties">{{fields[0]._label}} Properties</h4> <div class="gd-row"><super-input-checkbox label="Display section label" model="fields[0]._active"></super-input-checkbox></div> <div class="gd-row"><super-input-text label="Instructions" model="fields[1]._label"></super-input-text></div> <div class="gd-row"> <super-input-checkbox label="fields are editable" model="vm.canEdit" ng-click="go.switchFieldTypes(vm.canEdit)" is-disabled="!vm.canToggleFieldTypes" data-qa="toggle-field-type"></super-input-checkbox> </div> <div class="gd-row fields" data-qa="property-panel-fields"> <table> <thead> <tr> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-required" width="13%"><i ss-icon="asterisk" aria-label="is field required?" title="make field required"></i></th> <th class="fld-ctrl-label" width="74%">Field Label</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <p class="sensitive-field-label" ss-icon="warning" aria-describedby="sensitive-field-description">Sensitive Fields</p> <super-popover aria-label="click here for more information regaridng sensitive fields"> <p id="sensitive-field-description">If "view" access for any sensitive field is not enabled, that field will display as redacted</p> </super-popover> </td> </tr> </tfoot> <tbody class="active-fld-ctrl-list"> <tr class="active-fld-ctrl-item" ng-repeat="f in actionableFields" tabindex="0" aria-label="configure the {{f._label ?  f._label : f._placeholderLabel}} field"> <td class="fld-ctrl-active"> <super-input-checkbox model="f._active" ng-click="f._required = false" aria-label="click to {{f._active ? \'hide\':\'show\'}} the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-visibility-control"></super-input-checkbox> </td> <td class="fld-ctrl-required"> <super-input-checkbox model="f._required" is-disabled="f._fieldType.startsWith(\'readOnly\') || !f._active" aria-label="click to make the {{f._label ?  f._label : f._placeholderLabel}} field {{f._required ? \'not \' : null}}required" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-requiredness-control"></super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="f._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="f._label" ss-validate="validator.label(f._label)" ss-validate-message="Labels must be 30 characters or less" is-disabled="!f._active" placeholder="{{f._placeholderLabel}}" aria-label="{{f._label ? \'edit the\' : \'enter a\'}} value for the label of the {{f._label ?  f._label : f._placeholderLabel}} field" data-qa="{{f._label ?  f._label : f._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> <cmp-properties-emp-record ng-if="routeVm.featureFlags.isFCSystemOfRecord" fields="fields" can-edit="vm.canEdit"></cmp-properties-emp-record> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step/properties-step.html",'<div class="cmp-properties-step"> <h4 class="title-properties">Workflow Step {{step.index}} - Properties</h4> <div class="gd-row auto-step-name"> <super-input-text label="Name" model="step._name"></super-input-text> </div> <div class="gd-row auto-step-instructions"> <super-input-text label="Instructions" model="step._instructions"></super-input-text> </div> <div class="gd-row auto-step-participants"> <div class="super-select-list"> <div class="main-label"><label>Step Participant</label></div> <button type="button" class="super-button std" ss-menu="select-menu" hide-on-select> <label ss-icon-after="caret-down" ng-bind="vm.buttonLabel"></label> </button> <div class="select-menu"> <ul class="select-menu-list"> <li class="super-select-list-item select-menu-list-item" ng-repeat="option in vm.stepParticipant.getEnums()" ng-click="go.selectParticipant(option)"> {{option.name}} <small ng-if="option.desc" ng-bind="option.desc"></small> </li> </ul> </div> </div> <p class="support-text" ng-if="step._stepParticipant.participantType === vm.stepParticipant.primaryRecipientChosenWhenSent">Employee is the "main actor" around which the form revolves</p> <super-employee-search model="vm.specificParticipant" ss-validate="vm.validator.required(vm.specificParticipant[0], \'Step Participant\')" limit="1" ng-if="step._stepParticipant.participantType === vm.stepParticipant.specificPerson" placeholder="Search by name"></super-employee-search> </div> <div class="gd-row auto-action-performed"> <super-select-list label="Action Performed" model="step._stepAction"> <super-select-list-item ng-repeat="option in vm.stepActions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> <cmp-properties-step-permissions step="step" form="form"></cmp-properties-step-permissions> <cmp-properties-notifications step="step"></cmp-properties-notifications> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-step-permissions/properties-step-permissions.html",'<div class="cmp-properties-step-permissions"> <button class="smp" type="button" ss-toggle="permissions-content-toggle" ss-toggle-start-expanded>Step Access</button> <div class="permissions-content-toggle"> <table> <thead> <tr> <th class="participant">Participant can...</th> <th class="edit">Edit</th> <th class="view">View</th> </tr> </thead> <tfoot ng-if="vm.hasSensitiveFields"> <tr> <td colspan="3"> <i class="fa-warning"></i><strong>Sensitive Fields</strong> <super-popover> <p>If "view" is not enabled, sensitive fields (i.e. SSN) will be redacted</p> </super-popover> </td> </tr> </tfoot> <tbody ng-repeat="p in step._permissions" ng-class="{\'selected\': go.matchByParticipant(p, step._stepParticipant)}" data-auto="{{p.display}}"> <tr class="permissions-content"> <td valign="middle" class="name" ng-bind="p.display || \'None added\'"></td> <td valign="middle" class="edit"> <super-input-checkbox model="p.canEdit" ng-click="go.adjustStepAccess(\'canEdit\', p)" is-disabled="go.matchByParticipant(p, step._stepParticipant)"> </super-input-checkbox> </td> <td valign="middle" class="view"> <super-input-checkbox model="p.canView" ng-click="go.adjustStepAccess(\'canView\', p)" is-disabled="go.matchByParticipant(p, step._stepParticipant)"> </super-input-checkbox> </td> </tr> <tr ng-if="vm.hasSensitiveFields" class="sensitive-field-access"> <td valign="middle" class=""> <i class="fa-warning"></i>Sensitive Fields </td> <td valign="middle" class="edit"> <super-input-checkbox model="p.canEditSensitive" ng-click="go.adjustStepAccess(\'canEditSensitive\', p)" is-disabled="!p.canView"> </super-input-checkbox> </td> <td valign="middle" class="view"> <super-input-checkbox model="p.canViewSensitive" ng-click="go.adjustStepAccess(\'canViewSensitive\', p)" is-disabled="!p.canView"> </super-input-checkbox> </td> </tr> </tbody> <tbody ng-if="!step._permissions || !step._permissions.length"> <tr> <td class="name">None added</td> <td class="edit"> <super-input-checkbox is-disabled="true"> </super-input-checkbox> </td> <td class="view"> <super-input-checkbox is-disabled="true"></super-input-checkbox> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-supplementals/properties-supplementals.html",'<div class="cmp-properties-supplementals"> <div class="main-header"> <h4 class="title-properties">Supplementals Properties</h4> <super-popover class="header-popover">Supplementals assignment fields cannot be mapped within the PDF Overlay Builder. </super-popover> </div> <div class="gd-row"> <super-input-text label="Instructions" model="vm.fields[0].config.fields[1]._label"></super-input-text> </div> <div class="gd-row" ng-if="routeVm.featureFlags.fc_enable_form_tables"> <h5 class="layout-header">Layout</h5> <super-popover class="layout-popover">Tables allow you to display information in a condensed layout. Table rows/columns adjust based on staff member assignments or credentials.</super-popover> <div class="layout-options"> <super-input-radio name="Default" label="Default" value="false" model="vm.fields[0].config.tableConfig.view"></super-input-radio> <super-input-radio name="Table" label="Table" value="true" model="vm.fields[0].config.tableConfig.view"></super-input-radio> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Width (%):</label> <super-input-text type="number" model="vm.fields[0].config.tableConfig.width" edit-mode="true" ss-validate="validator.width(vm.fields[0].config.tableConfig.width, \'Table Width\')"></super-input-text> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div class="table-properties"> <label class="table-width-label">Table Alignment:</label> <super-select-list model="vm.fields[0].config.tableConfig.alignment" edit-mode="vm.editMode" data-test="delimiter"> <super-select-list-item ng-repeat="option in vm.tableAlignmentOptions" value="option.value" label="option.name"></super-select-list-item> </super-select-list> </div> </div> <div class="gd-row" ng-if="vm.isTableView"> <div ng-click="go.swapTable()" class="swap-label"> <label>Swap Rows/Columns</label> <span><svg class="swap-icon" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exchange-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-exchange-alt fa-w-16 fa-7x"><path fill="currentColor" d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z" class=""></path></svg></span> </div> </div> <div class="gd-row fields" data-qa="property-panel-fields"> <table class="active-fld-ctrl-list" dnd-list="vm.fields[0].config.fields" dnd-allowed-types="[\'supplementals\']" dnd-drop="go.dropField(index)"> <tbody ng-repeat="subF in vm.fields[0].config.fields | filter: go.hideInstructions | orderBy: go.sortOrder track by $index" ng-class="{\'header-body\': subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\'}"> <tr ng-if="subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\'"> <td ng-if="vm.isTableView"></td> <td class="fld-ctrl-active"> <div> <super-input-checkbox model="subF[vm.propertyName]" aria-label="click to {{subF[vm.propertyName] ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"> </super-input-checkbox> </div> </td> <td class="fld-ctrl-label"> <label class="sub-title-properties" ng-bind="subF._label"> </td> </tr> <tr ng-if="(subF._fieldType == \'readOnlyHeading\' || subF._fieldType == \'readOnlySubheading\')"> <th ng-if="vm.isTableView" width="13%"></th> <th class="fld-ctrl-active" width="13%"><i ss-icon="eye" aria-label="show or hide fields" title="show or hide fields"></i></th> <th class="fld-ctrl-label" ng-style="{width: vm.isTableView ? \'74%\' : \'87%\'}">Field Label</th> </tr> <tr ng-if="go.checkIfHeadingOrInstructions(subF)"> <td ng-if="vm.isTableView"> <span dnd-draggable="subF" class="dnd-drag-drop" dnd-type="\'supplementals\'" dnd-moved="go.dragDropProperties($index, subF, vm.fields[0].config.fields)" dnd-effect-allowed="move"> <svg class="grab-icon" aria-hidden="true" focusable="false" ss-icon="grip-vertical" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> <path fill="currentColor" d="M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"></path> </svg> </span> </td> <td class="fld-ctrl-active" ng-if="go.checkIfHeadingOrInstructions(subF)"> <super-input-checkbox model="subF[vm.propertyName]" ng-click="subF._required = false" aria-label="click to {{subF[vm.propertyName] ? \'hide\':\'show\'}} the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-visibility-control"> </super-input-checkbox> </td> <td class="fld-ctrl-label"> <i ss-icon="warning" ng-if="subF._sensitive" data-qa="sensitive-field-icon" aria-label="this is a sensitive field"></i> <super-input-text model="subF._label" ss-validate="validator.label(subF._label)" ss-validate-message="Labels must be 25 characters or less" is-disabled="!subF[vm.propertyName]" placeholder="{{subF._placeholderLabel}}" aria-label="{{subF._label ? \'edit the\' : \'enter a\'}} value for the label of the {{subF._label ?  subF._label : subF._placeholderLabel}} field" data-qa="{{subF._label ?  subF._label : subF._placeholderLabel}}-field-label-control"></super-input-text> </td> </tr> </tbody> </table> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-properties-text-editor/properties-text-editor.html",'<div class="cmp-properties-text-editor"> <p ng-click="go.click()">this is great {{ vm.test }}</p> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-secondary-assignment/secondary-assignment.html",'<div ng-class="vm.formfieldvalues ? \'cmp-secondary-assignment\' : \'\'" ng-show="vm.visibility"> <dl ng-if="!vm.formfieldvalues"> <h4 ng-if="field._fieldType == \'readOnlyHeading\'" class="field-header"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <h5 ng-if="field._fieldType == \'readOnlySubheading\'" class="field-header"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h5> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> <div ng-if="go.checkIfHeadingOrInstructions(field)"> <dt ng-bind="field._label" class="field-label"></dt> <dd ng-if="field._fieldType == \'readOnlyDate\'">--/--/--</dd> <dd ng-if="field._fieldType != \'readOnlyDate\'">--</dd> </div> </dl> <dl ng-if="vm.formfieldvalues"> <div ng-repeat="subField in field.config.fields | orderBy: go.sortOrder track by $index" ng-style="{\'width\': subField.config.width}" class="assignment-property" ng-show="subField._active"> <h4 ng-if="subField._fieldType == \'readOnlyHeading\'" class="field-header"> {{subField._label}} </h4> <p ng-if="subField._fieldType == \'instructions\'" ng-bind="subField._label"></p> <h5 ng-if="subField._fieldType == \'readOnlySubheading\'" class="sub-field-header"> {{field._label}} </h5> <dt ng-if="go.checkIfHeadingOrInstructions(subField)" class="field-label" ng-bind="subField._label"></dt> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType != \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--\'"></dd> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType == \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--/--/--\'"></dd> </div> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-secondary-assignments/secondary-assignments.html",'<fieldset class="cmp-secondary-assignments"> <div ng-if="go.showTemplate()" ng-class="!vm.formfieldvalues ? \'assignment-group\' : \'\'"> <cmp-secondary-assignment ng-repeat="field in field.config.fields | orderBy: go.sortOrder track by $index" field="field" ng-style="{\'width\': field.config.width}" class="assignment-property"></cmp-secondary-assignment> </div> <div ng-if="!vm.formFieldValues && field.config.tableConfig.view === \'true\'" ng-class="!vm.formfieldvalues ? \'assignment-group\' : \'\'"> <div ng-repeat="field in field.config.fields" class="field-property"> <h4 ng-if="field._fieldType == \'readOnlyHeading\' && field._tableViewChecked"> {{field._label}}(s) <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <cmp-table-view field="field"></cmp-table-view> </div> <cmp-secondary-assignment ng-if="go.showInstance()" ng-repeat="ffv in vm.formFieldValues" formfieldvalues="ffv" field="field"></cmp-secondary-assignment> <div ng-if="field.config.tableConfig.view === \'true\' && vm.formFieldValues && vm.formFieldValues.length" class="assignment-group"> <div ng-repeat="field in field.config.fields" class="field-property"> <h4 ng-if="field._fieldType == \'readOnlyHeading\' && field._tableViewChecked"> {{field._label}}(s) <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <cmp-table-view field="field" form-field-values="vm.formFieldValues"></cmp-table-view> </div> </fieldset> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-checkbox-display/step-checkbox-display.html",'<div class="cmp-step-checkbox-display"> <section class="fieldgroup" ng-if="go.showGroup(group)" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <div ng-repeat="field in group.fields | orderBy:group.config.orderBy:false"> <h6 ng-bind="go.numerateLabel(field, group.fields)" class="title" ng-if="field._options.length > 0"></h6> <ol class="fields-list"> <li ng-repeat="opt in field._options | filter:go.filterMigratedRaceOption" class="field"> <div class="truncation-wrapper"> <div class="super-input-radio"> <input id="chk-{{field.id}}-{{opt}}" type="radio" ng-checked="go.isSelected(field, opt)" ng-click="go.selectOption(field, opt)"> <label ng-bind="opt" for="chk-{{field.id}}-{{opt}}" id="chk-{{field.id}}-{{opt}}-label" class="fa" title="{{:: opt}}"></label> </div> </div> </li> </ol> </div> </div> </section> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-date-display/step-date-display.html",'<div class="cmp-step-date-display"> <section class="fieldgroup" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <ol class="fields-list"> <li ng-repeat="field in group.fields | orderBy:group.config.orderBy:false" class="field"> <div class="super-input-radio"> <input id="chk-{{field.id}}-{{opt}}" type="radio" ng-checked="field.isAdded" ng-click="go.selectOption(field)"> <label ng-bind="go.numerateLabel(field, group.fields)" for="chk-{{field.id}}-{{opt}}" id="chk-{{field.id}}-{{opt}}-label" class="fa" title="{{:: opt}}"></label> </div> </li> </ol> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-renderer/step-renderer.html",'<section class="fb-step cmp-step-renderer" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': routeVm.vm.selectedFormObject === step}"> <header class="fb-step-header" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <h4 class="fb-step-title">Workflow Step {{vm.stepIndex + 1}} <span ng-if="step._name">-</span> {{step._name}}</h4> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="vm.participantLabel" data-qa="step-participant-assignee"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> <div class="fb-actions fb-step-actions"> <i class="drag-handle" ss-icon="navicon" role="presentation"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-if="routeVm.vm.steps.length > 1" ng-click="go.removeStep($event, vm.stepIndex, routeVm.vm.steps)"></button> </div> </header> <ul class="fb-field-groups" dnd-list="step.fieldGroups" dnd-drop="go.dropFieldGroup(event, index, item, type, step)" dnd-allowed-types="[\'fieldType\', \'fieldGroup\']"> <li class="fb-field-group-empty" ng-if="!step.fieldGroups.length"> <i>Drag a field from the left column to add to this workflow step.</i> </li> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" dnd-draggable="group" dnd-moved="go.movedFieldGroup($index, group, step)" dnd-type="\'fieldGroup\'" dnd-effect-allowed="move" ng-click="go.fieldGroupSettings($event, group)" ng-class="{\'is-selected\': routeVm.vm.selectedFormObject === group}"> <dnd-nodrag> <div class="fb-actions fb-field-actions" dnd-handle> <i class="drag-handle" ss-icon="navicon"></i> <b role="presentation">Properties</b> <button type="button" class="ctrl-remove" ss-icon-after="trash-o" ng-click="go.removeFieldGroup(group, step)"></button> </div> <cmp-primary-assignment-table-view group="group" ng-if="go.isTableViewEnable(group) && routeVm.featureFlags.fc_enable_form_tables"></cmp-primary-assignment-table-view> <cmp-template-field-renderer ng-repeat="field in group | orderBy: go.sortOrder track by $index" field="field" group="group" ng-if="!go.isTableViewField(field) && (!go.isTableViewEnable(group) || !routeVm.featureFlags.fc_enable_form_tables)"></cmp-template-field-renderer> </dnd-nodrag> </li> </ul> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-step-text-display/step-text-display.html",'<div class="cmp-step-text-display"> <section class="fieldgroup" ng-repeat="group in step.fieldGroups"> <h5 ng-bind="group.fieldGroupName" class="fieldgroup-title" ss-toggle="fields-container" ss-toggle-start-expanded="{{onLoad({group: group})}}"></h5> <div class="fields-container"> <ol class="fields-list"> <li ng-repeat="field in group.fields | filter:go.filterUnmappable | orderBy:group.config.orderBy:false" class="field"> <div ng-if="!field.config.mappableMetaData" class="truncation-wrapper"> <super-input-checkbox title="{{:: field._label }}" label="{{go.numerateLabel(field, group.fields)}}" model="field.isAdded" ng-click="go.selectField(field)"></super-input-checkbox> </div> <div ng-if="field.config.mappableMetaData"> <div>{{go.numerateLabel(field, group.fields) | uppercase}}</div> <div ng-repeat="metaData in field.config.mappableMetaData"> <super-input-checkbox title="{{:: metaData.label }}" label="{{:: metaData.label}}" model="metaData.isAdded" ng-click="go.selectField(field, metaData)"></super-input-checkbox> </div> </div> </li> </ol> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-supplemental/supplemental.html",'<div ng-class="vm.formfieldvalues ? \'cmp-supplemental\' : \'\'" ng-show="vm.visibility"> <dl ng-if="!vm.formfieldvalues"> <h4 ng-if="field._fieldType == \'readOnlyHeading\'" class="field-header"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" class="instructions" ng-bind="field._label"></p> <div ng-if="go.checkIfHeadingOrInstructions(field)"> <dt ng-bind="field._label" class="field-label"></dt> <dd ng-if="field._fieldType == \'readOnlyDate\'">--/--/--</dd> <dd ng-if="field._fieldType != \'readOnlyDate\'">--</dd> </div> </dl> <dl ng-if="vm.formfieldvalues"> <div ng-repeat="subField in field.config.fields | orderBy: go.sortOrder track by $index" ng-style="{\'width\': subField.config.width}" class="supplemental-property" ng-show="subField._active"> <h4 ng-if="subField._fieldType == \'readOnlyHeading\'" class="field-header"> {{subField._label}} </h4> <div ng-if="subField._fieldType == \'instructions\'" class="instructions" ng-bind="subField._label"></div> <h5 ng-if="subField._fieldType == \'readOnlySubheading\'" class="sub-field-header"> {{field._label}} </h5> <dt ng-if="go.checkIfHeadingOrInstructions(subField)" class="field-label" ng-bind="subField._label"></dt> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType != \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--\'"> </dd> <dd ng-if="go.checkIfHeadingOrInstructions(subField) && subField._fieldType == \'readOnlyDate\'" class="field-value" ng-bind="formfieldvalues[subField._formFieldValueProperty] ? formfieldvalues[subField._formFieldValueProperty] : \'--/--/--\'"></dd> </div> </dl> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-supplementals/supplementals.html",'<fieldset class="cmp-supplementals"> <div ng-if="go.showTemplate()" ng-class="!vm.formfieldvalues ? \'supplemental-group\' : \'\'"> <cmp-supplemental ng-repeat="field in field.config.fields | orderBy: go.sortOrder track by $index" field="field" ng-style="{\'width\': field.config.width}" class="supplemental-property"> </cmp-supplemental> </div> <div ng-if="vm.formFieldValues == null && field.config.tableConfig.view === \'true\'" ng-class="!vm.formfieldvalues ? \'supplemental-group\' : \'\'"> <div ng-repeat="field in field.config.fields" class="field-property"> <h4 ng-if="field._fieldType == \'readOnlyHeading\' && field._tableViewChecked"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <cmp-table-view field="field"></cmp-table-view> </div> <cmp-supplemental ng-if="go.showInstance()" ng-repeat="ffv in vm.formFieldValues" formfieldvalues="ffv" field="field"> </cmp-supplemental> <div ng-if="field.config.tableConfig.view === \'true\' && vm.formFieldValues" class="supplemental-group"> <div ng-repeat="field in field.config.fields" class="field-property"> <h4 ng-if="field._fieldType == \'readOnlyHeading\' && field._tableViewChecked"> {{field._label}} <em ng-if="go.checkIfInFormBuilder()">Read-only</em> </h4> <p ng-if="field._fieldType == \'instructions\'" ng-bind="field._label"></p> </div> <cmp-table-view field="field" form-field-values="vm.formFieldValues"></cmp-table-view> </div> </fieldset>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-table-view/table-view.html",'<div class="cmp-table-view"> <table ng-if="!go.checkTableSwapView()" class="table-view-grid" ng-style="go.getTableStyles()"> <tr class="table-view-row"> <th class="table-view-header" ng-show="field[vm.propertyName]" ng-if="go.checkIfHeadingOrInstructions(field)" ng-repeat="field in field.config.fields"> {{ field._label}} </th> </tr> <tr class="table-view-row" ng-if="!formFieldValues" ng-repeat="row in [].constructor(3) track by $index"> <td class="table-view-column" ng-if="go.checkIfHeadingOrInstructions(field)" ng-show="field[vm.propertyName]" ng-repeat="field in field.config.fields"> {{field._fieldType == \'readOnlyDate\' ? \'--/--/--\' : \'--\'}} </td> </tr> <tr class="table-view-row" ng-if="formFieldValues" ng-repeat="ffv in formFieldValues"> <td ng-if="go.checkIfHeadingOrInstructions(field)" ng-show="field[vm.propertyName]" ng-repeat="field in field.config.fields"> {{go.getFieldValue(ffv, field)}} </td> </tr> </table> <table ng-if="go.checkTableSwapView()" class="table-view-grid" ng-style="go.getTableStyles()"> <tr class="table-view-row" ng-repeat="field in field.config.fields"> <th class="table-view-header" ng-show="field[vm.propertyName]" ng-if="go.checkIfHeadingOrInstructions(field)"> {{ field._label}} </th> <td ng-if="!formFieldValues && go.checkIfHeadingOrInstructions(field)" ng-show="field[vm.propertyName]" ng-repeat="row in [].constructor(3) track by $index"> {{field._fieldType == \'readOnlyDate\' ? \'--/--/--\' : \'--\'}} </td> <td ng-if="formFieldValues && go.checkIfHeadingOrInstructions(field)" ng-show="field[vm.propertyName]" ng-repeat="ffv in formFieldValues"> {{go.getFieldValue(ffv, field)}} </td> </tr> </table> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-field-renderer/template-field-renderer.html",'<div class="cmp-template-field-renderer" ng-show="vm.visibility" ng-style="vm.style" ng-class="{\'hide\': !vm.visibility}" ss-validate="go.validate(field)" ss-bind-html="vm.template"></div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-form/template-list-form.html",'<div class="cmp-template-list-form" ss-pending="template.isPending" ss-pending-status="vm.pendingMessage" ng-class="{\'highlight\': template.isHighlighted}"> <div class="template-details"> <div class="template-icon" ng-if="!template._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="template._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"><a ng-href="" ng-click="go.preview(template)" ng-bind="template._name"></a></h3> <div class="form-meta" data-auto-due-date="{{ template._modifiedDt }}"> <ul class="ss-pipe-children"> <li ng-if="template._fromFrontlineLibrary" class="frontline-template" ss-icon="logo-frontline-small">Frontline</li><li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li><li class="form-meta-item" ng-if="template._steps.length"> Workflow (<span ng-bind="template._steps.length"></span> <ng-pluralize count="template._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow Steps</h6> <ul class="popover-step-list" ng-if="template._steps.length"> <li ng-repeat="step in template._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span><span ng-bind="step.stepActionLabel"></span> </li> </ul> <p ng-if="!template._steps.length">No Workflow Steps</p> </div> </super-popover> </li><li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li><li class="form-meta-item" ng-if="template._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-status" ng-if="template.status"> <strong class="{{template.status}}" ng-bind="template.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/FormTemplate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.edit(template)" ss-permitted="formTemplates.edit"></super-button> </li> <li class="template-action-list-item template-action-menu"> <super-button ss-icon-after="angle-down"> <item ng-click="go.preview(template)">Preview Form</item> <item ss-permitted="formTemplates.startForMyself" ng-if="template._isEmployeeInitiated && template.status === \'active\'" ng-click="go.sendToSelf(template)">Start Form (about myself)</item> <item class="menu-separator"></item> <item ng-click="go.edit(template)" ss-permitted="formTemplates.edit">Edit Template</item> <item ng-click="go.copy(template)" ss-permitted="formTemplates.create">Create Copy</item> <item ng-click="go.share()" ng-if="go.canShare(template)">Share Template</item> <item ng-click="go.deactivate(template)" ng-if="template.status === \'active\'" ss-permitted="formTemplates.edit">Deactivate Template</item> <item ng-click="go.archive(template)" ss-permitted="formTemplates.archive">Archive Template</item> <item ng-click="go.delete(template)" ss-permitted="formTemplates.delete">Delete Template</item> </super-button> </li> </ul> </div> </div> <cmp-fl-share-form ss-modal-view ng-if="vm.showShare" template="template"></cmp-fl-share-form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-template-list-packet/template-list-packet.html",'<div class="cmp-template-list-packet"> <div class="template-details"> <div class="template-icon"><i ss-icon-before="li-packet-large"></i></div> <div class="template-info"> <h3 class="template-name"> <a ng-bind="template._name" ng-click="go.toggleDetails(template)"></a> <small> - Packet</small> </h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li ng-if="template._category.name.length > 0" class="form-meta-item" ng-bind="template._category.name"></li> <li class="form-meta-item" ng-if="template.packetCount">{{template.packetCount}}&nbsp; <ng-pluralize count="template.packetCount" when="{\'1\': \'form\', \'other\': \'forms\'}"></ng-pluralize> </li> <li class="form-meta-item"> <span>Modified {{template.modifiedText}}</span><span ng-if="template._modifier.name">&nbsp;by&nbsp;<span ng-bind="template._modifier.name"></span></span> </li> </ul> </div> <super-button smp class="details-toggle" label="{{template.detailsOpen === false ? \'Show\' : \'Hide\'}} Details" ss-icon-after="{{template.detailsOpen === false ? \'angle-down\': \'angle-up\'}}" ng-click="go.toggleDetails(template)"></super-button> </div> <div class="template-status"> <strong class="{{template.status}}" ng-bind="template.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Send" ng-if="template.status === \'active\'" ng-click="go.send(template)" ss-permitted-route="/ec-forms/send/Packet/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></super-button> <super-button label="Edit" ng-if="template.status === \'inactive\'" ng-click="go.editPacket(template)" ss-permitted="packets.edit"></super-button> </li> <li class="template-action-list-item template-action-menu" ng-if="template.status !== \'inactive\'" ss-permitted="packets.edit"> <super-button ss-icon-after="angle-down"> <item ng-click="go.editPacket(template)">Edit Packet</item> </super-button> </li> </ul> </div> </div> <div ng-if="template.detailsOpen" ss-pending="template.loading" class="packet-details"> <ul> <li class="packet-details-item" ng-show="template.contents.forms.length < 1 && !template.loading"> <p>No Forms are associated with this Package</p> </li> <li class="packet-details-item" ng-show="template.contents.forms.length > 0 && !template.loading" ng-repeat="form in template.contents.forms" ss-pending="form.isPending" ss-pending-status="form.pendingMessage"> <div class="template-details"> <div class="template-icon" ng-if="!form._isEmployeeInitiated"><i ss-icon-before="li-form-large"></i></div> <div class="template-icon" ng-if="form._isEmployeeInitiated"><i ss-icon-before="li-form-e-large"></i></div> <div class="template-info"> <h3 class="template-name"><a ng-href="" ng-click="go.preview(form)" ng-bind="form._name"></a></h3> <div class="form-meta"> <ul class="ss-pipe-children"> <li class="form-meta-item" ng-if="form._category.name.length > 0" ng-bind="form._category.name"></li> <li class="form-meta-item" ng-if="form._steps.length"> Workflow (<span ng-bind="form._steps.length"></span> <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <h6>Workflow <ng-pluralize count="form._steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ul class="popover-step-list"> <li ng-repeat="step in form._steps track by $index"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step.participantLabel"></span> <span ng-bind="step.stepActionLabel"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item"> <span>Modified {{form.modifiedText}}</span><span ng-if="form._modifier.name">&nbsp;by&nbsp;<span ng-bind="form._modifier.name"></span></span> </li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> </div> <div class="template-action-list-item template-status template-status-packet"> <strong ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong> </div> <div class="template-actions"> <ul> <li class="template-action-list-item template-primary-action"> <super-button label="Edit" ng-click="go.editForm(form)" ss-permitted="formTemplates.edit"></super-button> </li> </ul> </div> </div> </li> </ul> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-text-editor/text-editor.html",'<div class="cmp-text-editor" ng-class="{\'hide\': !field._active}"> <div class="top" id="{{vm.editorId}}-top" ng-if="!field.step"> </div> <div ng-model="field._label" contenteditable="{{!field.step}}" id="{{vm.editorId}}"></div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-toggle/toggle.html",'<div class="cmp-toggle"> <label ng-if="label" for="toggle-group" class="main-label" ng-class="{\'{{labelWeight}}\':labelWeight, \'required\': required}" ng-bind="label"></label> <div class="toggle-group" name="toggle-group"> <button id="option.name" ng-repeat="option in model" ng-class="{\'active\': vm.active === $index}" data-test="{{option.label}}-toggle" ng-click="go.handleClick(option, $index)" ng-bind="option.label"> </button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-track-forms-filter-group/track-forms-filter-group.html",'<div class="cmp-track-forms-filter-group"> <div class="manage-filter-menu-group" ng-if="parentVm.featureFlags.fc_work_relationships"> <button ss-icon="nav-cog" ss-tool-tip="Manage Filters" ng-click="vm.formOpened=true;" ss-menu="manage-filter-menu" data-test="manage-filter"></button> <div class="manage-filter-menu" role="dialog" aria-label="Manage Filter"> <div class="manage-filter-items"> <item ng-repeat="filter in vm.manageFilters"><super-input-checkbox label="{{filter.label}}" model="filter.isVisible"></super-input-checkbox></item> </div> <hr> <div class="manage-filters-done-btn"> <super-button label="Done" ng-click="go.filterData()"> </super-button></div> </div> </div> <div id="view-filter" class="filter-control-group"> <cmp-toggle model="vm.viewToggleConfig" label="View By" label-weight="heavy" selection="{{vm.currentRoute}}" toggle-callback="go.changeView" class=""> </cmp-toggle> </div> <div id="template-filter" class="filter-control-group" ng-if="vm.manageFilters.formPacketTemplate.isVisible"> <super-multi-filter-list label="Form/Packet Template" label-weight="heavy" display="tags" selected="filterConfig.templateFilterSelections" data-qa="form-template-filter"> <super-multi-filter-list-group label="Forms"> <super-multi-filter-list-item ng-repeat="formTemplate in vm.formTemplates | orderBy:\'_name\'" option="formTemplate" data-qa="form-template-filter-option"></super-multi-filter-list-item> </super-multi-filter-list-group> <super-multi-filter-list-group label="Packets"> <super-multi-filter-list-item ng-repeat="packet in vm.packets | orderBy:\'_name\'" option="packet" data-qa="form-template-filter-option"> </super-multi-filter-list-item> </super-multi-filter-list-group> </super-multi-filter-list> </div> <div id="date-filter" class="filter-control-group date-filter-group" ng-if="vm.manageFilters.dateSent.isVisible"> <super-select-list ng-if="!vm.customDateRange" label="Date Sent" label-weight="heavy" model="vm.dateSentIdx" data-qa="date-filter"> <super-select-list-item ng-repeat="dateSent in vm.dateSentOptions" label="dateSent.title" value="$index" data-qa="date-filter-option"> </super-select-list-item> <super-select-list-item label="\'Custom Date Range\'" value="\'customRange\'" data-qa="date-filter-option"></super-select-list-item> </super-select-list> <div ng-if="vm.customDateRange"> <super-input-datepicker label="Start Date" name="from-date" label-weight="heavy" class="date-filter" model="vm.customDateRange.from" data-qa="date-range-start"> </super-input-datepicker> <span class="date-divider">-</span> <super-input-datepicker label="End Date" name="to-date" label-weight="heavy" class="date-filter" model="vm.customDateRange.to" options="vm.customDateRangeOptions" data-qa="date-range-end"> </super-input-datepicker> <label class="date-range-label">{{filterConfig.dateSent.title}} <button class="fa-times-after" ng-click="go.clearCustomRange()"></button> </label> </div> </div> <div id="sender-filter" class="filter-control-group" ng-if="vm.empId && vm.manageFilters.results.isVisible"> <super-select-list label="Results (Sender/Admin)" label-weight="heavy" model="filterConfig.sentByParticipant" data-qa="results-filter"> <super-select-list-item ng-repeat="sent in vm.sentByCriteria" value="sent.value" label="sent.name" data-qa="results-filter-option"></super-select-list-item> </super-select-list> </div> <div id="location-filter" class="filter-control-group" ng-if="vm.manageFilters.employeeLocation.isVisible"> <super-select-list label="Employee location" label-weight="heavy" model="filterConfig.sentToLocation" data-qa="employee-location-filter"> <super-select-list-item aria-label="{{loc._name}} is {{loc._isActive ? \'Active\' : \'Inactive\'}}" class="{{!loc._isActive && parentVm.featureFlags.fc_enable_referential_data_status ? \'is-inactive\' : \'\'}}" ng-repeat="loc in vm.locations | filter: go.filterInactive" value="loc.id" label="loc._name" data-qa="employee-location-filter-option"></super-select-list-item> </super-select-list> </div> <div id="work-relationship-filter" class="filter-control-group" ng-if="parentVm.featureFlags.fc_work_relationships && vm.manageFilters.workRelationship.isVisible"> <super-multi-filter-list label="Work Relationship" label-weight="heavy" display="tags" selected="filterConfig.workRelationship" data-qa="employee-work-relationship-filter"> <super-multi-filter-list-item ng-repeat="option in vm.workRelationship | orderBy:\'_name\'" option="option" data-qa="employee-work-relationship-filter-option"></super-multi-filter-list-item> </super-multi-filter-list> </div> <div id="staff-type-filter" class="filter-control-group" ng-if="parentVm.featureFlags.fc_work_relationships && vm.manageFilters.staffType.isVisible"> <super-multi-filter-list label="Staff Type" label-weight="heavy" display="tags" selected="filterConfig.staffType" data-qa="employee-staff-type-filter"> <super-multi-filter-list-item ng-repeat="option in vm.staffType | orderBy:\'_name\'" option="option" data-qa="employee-staff-type-filter-option"></super-multi-filter-list-item> </super-multi-filter-list> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("components/cmp-tracked-form/tracked-form.html",'<div class="cmp-tracked-form" data-auto-due-date="{{ form._dueDateUtc }}" data-auto-create-date="{{ form._createdUtc }}"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': form.isRejected, \'{{form.dueDateStatus.class}}\' : form.dueDateStatus && !form.isComplete && !form.isRejected}"> <div class="form-item-details"> <div class="form-item-group form-recipient-group" data-qa="form-recipient-group"> <p ng-if="!vm.showContactToggle && form._employee.meta.permissions.permittedActions.view"><a href="" ng-click="go.resolveEmpRecordPath()" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></p> <p ng-if="!vm.showContactToggle && !form._employee.meta.permissions.permittedActions.view" ng-bind="form.primaryRecipient.name || \'N/A\'"></p> <div class="contact-toggle-group" ng-if="vm.showContactToggle" data-qa="contact-toggle-group"> <p ss-menu="contact-details"><a class="toggle-ctrl" ng-click="go.toggleContact()" ng-bind="form.primaryRecipient.name || \'N/A\'"></a></p> <div class="select-menu contact-details" ss-pending="vm.loadingContact"> <div ng-if="!vm.loadingContact"> <p ss-multi-item-truncation> <span data-auto="emp-contact-name" title="{{form.primaryRecipient.name}}">{{::form.primaryRecipient.name}}</span><span data-auto="emp-external-id" title="{{vm.formSubjectToggleData.externalId}}">{{::vm.formSubjectToggleData.externalId}}</span> </p> <p ng-if="vm.formSubjectToggleData.position" data-auto="emp-position">{{::vm.formSubjectToggleData.position}}</p> <p ng-class="{\'no-entry\': !vm.formSubjectToggleData.phone}" data-auto="emp-contact-phone" ss-icon="phone" title="{{vm.formSubjectToggleData.phone}}">{{::vm.formSubjectToggleData.phone || \'none\'}}</p> <p ng-class="{\'no-entry\': !vm.formSubjectToggleData.email}" data-auto="emp-contact-email" ss-icon="envelope" title="{{vm.formSubjectToggleData.email}}">{{::vm.formSubjectToggleData.email || \'none\'}}</p> <a ng-if="form._employee.meta.permissions.permittedActions.view" href="" ng-click="go.resolveEmpRecordPath(vm.formSubjectToggleData.id)">view employee profile</a> </div> </div> </div> </div> <div class="form-item-group form-name-group"> <h4 class="form-name" ss-icon-before="{{go.resolveFormIcon()}}" ng-if="!form.isPacket"> <a ng-bind="form.name" title="Open {{form.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{form.id}}?returnUrl=%2Fec-forms%2Fform-tracking&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> </h4> <h4 class="form-name" ng-if="form.isPacket" ss-icon-before="li-packet-large"><a ng-click="vm.openDetails = !vm.openDetails" ng-bind="form.name"></a></h4> <button ng-if="form.isPacket" smp class="details-toggle" ss-icon-after="{{vm.openDetails === false ? \'angle-down\': \'angle-up\'}}" ng-click="vm.openDetails = !vm.openDetails">{{vm.openDetails === false ? \'Show\' : \'Hide\'}} Details</button> </div> <div class="form-item-group form-due-group form-step-status-group" data-auto-due-date="{{form._dueDateUtc}}"> <ul> <li class="form-meta-item" data-test="due-expire-label" ng-if="form.dueDateStatus.statusFriendly && !form.isComplete"> <strong class="form-due-date" ng-bind="form.dueDateStatus.statusFriendly" ng-class="{\'{{form.dueDateStatus.class}}\': form.dueDateStatus}"></strong> <super-popover data-test="steps-expire-tooltip" ng-if="routeVm.featureFlags.fc_form_instance_expiration"> <h6>Expiration/Due Dates: </h6> <table> <tbody> <tr ng-repeat="step in form._steps" ng-init="stepIndex = $index + 1"> <td class="participant-col"> <p class="expiration-info" ng-bind="go.getExpirationTooltip(step,stepIndex)"></p> </td> </tr> </tbody> </table> </super-popover> </li> <li class="form-meta-item form-sent-date">Sent {{form.sentDate}}</li> </ul> </div> <div class="form-item-group form-step-status-group"> <cmp-progress-bar ng-if="!form.isPacket" status="form.currentStep.stepStatus" progress="form.currentStepIndex" total="form.totalSteps"> <super-popover> <h6>Workflow Steps</h6> <table> <thead> <tr> <th>Participant</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="step in form._steps | limitTo: form.totalSteps" ng-init="stepIndex = $index + 1"> <td class="participant-col"> <p ng-bind="stepIndex + \'. \' + (step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)" title="{{(step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)}}"></p> </td> <td class="action-col"> <p ng-bind="step._stepAction | enumByValue:\'stepAction\'" title="{{step._stepAction | enumByValue:\'stepAction\'}}"></p> </td> </tr> </tbody> </table> </super-popover> </cmp-progress-bar> <p ng-if="form.isPacket" ng-bind="form.packetCount" ng-class="{\'form-complete\' : form.isComplete}" ss-icon="{{form.isComplete ? \'check\' : \'\'}}"></p> </div> <div class="form-item-group archival-count" ng-if="currentCategory === \'complete\' && routeVm.featureFlags.fc_include_form_archival_statuses"> <span ng-if="form._archived || form.packetArchivedCount" ss-icon="archive" ng-bind="form.packetArchivedCount"></span> </div> <div class="form-item-group form-step-action-group"> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="!form.isPacket && form._statusId === ssEnum.formStatus.completedAndDenied"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" aria-label="Click here for denied info." ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="!form.isPacket && form._statusId === ssEnum.formStatus.rejected"> <p ng-if="!form.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="form.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" aria-label="Click here for denied info." title="click to view denier info"> <p>Denied by: {{form._deniedInfo.denier.name}}</p> <p>Comments: {{form._deniedInfo.comments}}</p> </super-popover> </div> <p ng-if="!form.isComplete && !form.isPacket && form._statusId !== ssEnum.formStatus.rejected && form._statusId !== ssEnum.formStatus.completedAndDenied" ng-bind="form.currentStepMeta" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{form.currentStepMeta}}"></p> </div> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-if="!form.isComplete && !form.isPacket" ng-bind="form.currentStepMeta" ng-class="{\'denied\':form.isRejected}" ss-icon="{{form.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{form.currentStepMeta}}"></p> </div> <p ng-if="form._lastReminderSentUtc != null && !form.isComplete && !form.isPacket"> <em>Reminder sent {{form.reminderSentDate}}</em> </p> </div> <div class="form-item-group file-attachments"> <super-popover ng-if="form.filesOnInstance.length" link="{{ form.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in form.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-item-group form-actions-group"> <super-button ng-if="form.isPacket" ss-icon-after="angle-down" ss-hide-when-empty> <item ng-if="currentCategory === \'complete\' && form.isComplete && !routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="packetInstances.archive" ng-click="go.archivePacket(form)"> archive packet </item> <item ng-if="currentCategory === \'complete\' && form.isComplete  && !form.isUnarchive && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="packetInstances.archive" ng-click="go.archivePacket(form)"> archive packet </item> <item ng-if="currentCategory === \'complete\' && form.isComplete && form.isUnarchive && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="packetInstances.archive" ng-click="go.archivePacket(form, false)"> unarchive packet </item> <item ng-if="currentCategory !== \'complete\'" ng-click="go.sendReminder(form.content)"> send reminders </item> <item ng-if="form._employee.meta.permissions.permittedActions.deleteFormInstance" ng-click="go.removePacket(form)" ss-permitted="formInstances.delete"> delete packet </item> </super-button> <div ng-if="routeVm.featureFlags.fc_form_instance_expiration"> <super-button ng-if="!form.isPacket" ss-menu="form-action-menu" ng-click="go.toggleMenu()" ss-icon-after="angle-down"></super-button> <div class="form-action-menu"> <div class="form-action" ng-if="vm.openMenu"> <ul class="form-action-items"> <li class="form-action-item" data-test="step-expire-reset" ng-if="!form.isComplete && go.isExpired()" ng-mouseover="go.toggleResetMenu()" ss-icon-after="angle-right" ss-permitted="formInstances.ResetExpiredFormInstances"> Reset Expiration Date </li> <div class="reset-expiration-form" ng-if="vm.openResetMenu"> <form ng-submit="go.resetExpirationDate()" ss-validate-form> <fieldset class="reset-expiration-fields"> <h4>Set New Expiration/Due Dates</h4> <div ng-if="step._dueOrExpirationOption != 0 && step.stepStatus === ssEnum.formStatus.byValue(0).toLowerCase()" class="expiration-field" ng-repeat="step in form._steps"> <label data-test="reset-expire-label-step-{{$index}}">{{go.getExpirationDateLabel(step, $index + 1)}}</label> <super-input-datepicker data-test="reset-expire-date-step-{{$index}}" ss-validate="validator.required(step.resetDate,\'Date\')" options="step.datePickerOptions" model="step.resetDate"> </super-input-datepicker> </div> </fieldset> <fieldset class="reset-expiration-buttons"> <super-button data-test="step-reset-cancel" class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button data-test="step-reset-save" class="submit" ss-pending="vm.isSaving" pri label="Save" type="submit"></super-button> </fieldset> </form> </div> <li class="form-action-item" ng-if="!form.isComplete && !form.isUser && !go.isExpired()" ng-click="go.sendReminder(form)"> <small>Send reminder to</small>{{form.currentStepParticipantName}} </li> <li class="form-action-item" ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)"> <small>Uploaded files</small>Download {{form.filesOnInstance.length}} <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </li> <li class="form-action-item" ng-if="form.isComplete && form._employee.meta.permissions.permittedActions.createEmployeeFile && routeVm.empId" ng-click="form._sentToEmployeeRecord || go.updateEmpRecord(form)" ng-disabled="form._sentToEmployeeRecord"> Move to Employee Record </li> <li class="form-action-item" ng-if="form.isComplete && !routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')"> Archive Form </li> <li class="form-action-item" ng-if="form.isComplete && !form._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')"> Archive Form </li> <li class="form-action-item" ng-if="form.isComplete && form._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'unarchived\', false)"> Unarchive Form </li> <li class="form-action-item" ng-if="form._employee.meta.permissions.permittedActions.deleteFormInstance" ss-permitted="formInstances.delete" ng-click="go.remove(form)"> Delete Form </li> </ul> </div> </div> </div> <super-button ng-if="!form.isPacket && !routeVm.featureFlags.fc_form_instance_expiration" ss-hide-when-empty ss-icon-after="angle-down"> <item ng-if="!form.isComplete && !form.isUser" ng-click="go.sendReminder(form)"> <small>Send reminder to</small>{{form.currentStepParticipantName}} </item> <item ng-if="form.filesOnInstance.length" ng-click="go.download(form.filesOnInstance)"> <small>Uploaded files</small>Download {{form.filesOnInstance.length}} <ng-pluralize count="form.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> <item ng-if="form.isComplete && form._employee.meta.permissions.permittedActions.createEmployeeFile && routeVm.empId" ng-click="form._sentToEmployeeRecord || go.updateEmpRecord(form)" ng-disabled="form._sentToEmployeeRecord"> Move to Employee Record </item> <item ng-if="form.isComplete && !routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')"> Archive Form </item> <item ng-if="form.isComplete && !form._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'archived\')"> Archive Form </item> <item ng-if="form.isComplete && form._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(form, \'unarchived\', false)"> Unarchive Form </item> <item ng-if="form._employee.meta.permissions.permittedActions.deleteFormInstance" ss-permitted="formInstances.delete" ng-click="go.remove(form)"> Delete Form </item> </super-button> </div> </div> </div> <div class="form-packet-details" ng-if="form.isPacket" ng-show="vm.openDetails"> <ul class="form-packet-list"> <li ng-show="!routeVm.loading && form.content.length > 0" ng-repeat="Pform in form.content | orderBy: \'_packetInstance.sortOrder\'" class="form-packet-list-item"> <div class="form-list-item-wrapper" ng-class="{\'rejected\': Pform.isRejected, \'{{Pform.dueDateStatus.class}}\' : Pform.dueDateStatus && !Pform.isComplete && !Pform.isRejected}"> <div class="form-item-details" data-auto-create-date="{{Pform._createdUtc}}" data-auto-due-date="{{Pform._dueDateUtc}}"> <div class="form-item-group form-name-group"> <h4 class="form-name" ss-icon-before="li-form-large"> <a ng-bind="Pform.name" title="Open {{Pform.name}}" data-test="form-instance" href="/ec-forms/form-instance/{{Pform.id}}?returnUrl=%2Fec-forms%2Fform-tracking&target=_blank" target="_blank" onclick="window.open(this.href, this.target); return false;"></a> </h4> </div> <div class="form-item-group form-due-group"> <ul> <li class="form-meta-item" ng-if="Pform._dueDateUtc && !Pform.isComplete"> <strong class="form-due-date" ng-class="{\'{{Pform.dueDateStatus.class}}\': Pform.dueDateStatus}" ng-bind="Pform.dueDateStatus.statusFriendly"></strong> </li> <li class="form-meta-item form-sent-date">Sent {{Pform.sentDate}}</li> </ul> </div> <div class="form-item-group form-step-status-group"> <cmp-progress-bar status="Pform.currentStep.stepStatus" progress="Pform.currentStepIndex" total="Pform.totalSteps"> <super-popover> <h6>Workflow Steps</h6> <table> <thead> <tr> <th>Participant</th> <th>Action</th> </tr> </thead> <tbody> <tr ng-repeat="step in Pform._steps | limitTo: Pform.totalSteps" ng-init="stepIndex = $index + 1"> <td class="participant-col"> <p ng-bind="stepIndex + \'. \' + (step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)" title="{{(step._stepParticipant.name || \'N/A\') + go.displaySubmissionInfo(step)}}"></p> </td> <td class="action-col"> <p ng-bind="step._stepAction | enumByValue:\'stepAction\'" title="{{step._stepAction | enumByValue:\'stepAction\'}}"></p> </td> </tr> </tbody> </table> </super-popover> </cmp-progress-bar> </div> <div ng-if="currentCategory === \'complete\' && routeVm.featureFlags.fc_include_form_archival_statuses"> <span ng-if="Pform._archived" ss-icon="archive"></span> </div> <div class="form-step-action-group"> <div ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <div ng-if="Pform._statusId === ssEnum.formStatus.completedAndDenied"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Form Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Form Denied" aria-label="Click here for denied info." ss-icon="thumbsdown-stripes" title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <div ng-if="Pform._statusId === ssEnum.formStatus.rejected"> <p ng-if="!Pform.hasValidEnhancedDeniedInfo" class="denied" ss-icon="thumbsdown-stripes" title="No denier information available">Step Denied</p> <super-popover ng-if="Pform.hasValidEnhancedDeniedInfo" class="denied" link="Step Denied" ss-icon="thumbsdown-stripes" aria-label="Click here for denied info." title="click to view denier info"> <p>Denied by: {{Pform._deniedInfo.denier.name}}</p> <p>Comments: {{Pform._deniedInfo.comments}}</p> </super-popover> </div> <p ng-if="!Pform.isComplete && Pform._statusId !== ssEnum.formStatus.rejected && Pform._statusId !== ssEnum.formStatus.completedAndDenied" ng-bind="Pform.currentStepMeta" ng-class="{\'denied\':Pform.isRejected}" ss-icon="{{Pform.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{Pform.currentStepMeta}}"></p> </div> <div ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> <p ng-if="!Pform.isComplete" ng-bind="Pform.currentStepMeta" ng-class="{\'denied\':Pform.isRejected}" ss-icon="{{Pform.isRejected ? \'thumbsdown-stripes\' : \'\' }}" title="{{Pform.currentStepMeta}}"></p> </div> <p ng-if="Pform._lastReminderSentUtc != null && !Pform.isComplete"> <em>Reminder sent {{Pform.reminderSentDate}}</em> </p> </div> <div class="form-item-group file-attachments"> <super-popover ng-if="Pform.filesOnInstance.length" link="{{ Pform.filesOnInstance.length }}" ss-icon="paperclip"> <h6>UPLOADED FILES</h6> <ul class="popover-step-list" ng-repeat="file in Pform.filesOnInstance"> <li ss-icon-before="{{ file.icon }}" ng-bind="file.filename"></li> </ul> <h6>These files were uploaded by a user as part of a workflow step.</h6> </super-popover> </div> <div class="form-item-group form-actions-group"> <super-button ss-hide-when-empty ss-icon-after="angle-down"> <item class="" ng-if="!Pform.isComplete && !Pform.isUser" ng-click="go.sendReminder(Pform)"> <small>Send reminder to</small>{{Pform.currentStepParticipantName}} </item> <item ng-if="Pform.filesOnInstance.length" ng-click="go.download(Pform.filesOnInstance)"> <small>Uploaded files</small>Download {{Pform.filesOnInstance.length}}<ng-pluralize count="Pform.filesOnInstance.length" when="{\'1\': \'file\', \'other\': \'files\'}"></ng-pluralize> </item> <item ng-if="Pform.isComplete && Pform._employee.meta.permissions.permittedActions.createEmployeeFile && routeVm.empId" ng-click="Pform._sentToEmployeeRecord || go.updateEmpRecord(Pform)" ng-disabled="Pform._sentToEmployeeRecord"> Move to Employee Record </item> <item ng-if="Pform.isComplete && !routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(Pform, \'archived\')"> Archive Form </item> <item ng-if="Pform.isComplete && !Pform._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(Pform, \'archived\')"> Archive Form </item> <item ng-if="Pform.isComplete && Pform._archived && routeVm.featureFlags.fc_include_form_archival_statuses" ss-permitted="formInstances.archive" ng-click="go.updateFormStatus(Pform, \'unarchived\', false)"> Unarchive Form </item> <item ng-if="Pform._employee.meta.permissions.permittedActions.deleteFormInstance" ss-permitted="formInstances.delete" ng-click="go.remove(Pform)"> Delete Form </item> </super-button> </div> </div> </div> </li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracked-form-group/tracked-form-group.html",'<div class="cmp-tracked-form-group"> <div ss-pending="vm.loading && !vm.scrolling" ss-pending-status="\'Loading Form Instances...\'"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="vm.formsAndPackets.length" ng-repeat="form in vm.formsAndPackets track by ($index + form.id + form.primaryRecipient.employeeId)"> <cmp-tracked-form form="form" current-category="{{currentCategory}}" employee-permissions="currentUser.$permitted.props" status-updated="go.refreshData()"></cmp-tracked-form> </li> <li class="ss-panel-list-item" ng-if="!vm.loading && !vm.formsAndPackets.length"> <div class="form-list-item-wrapper">No Forms or Packets found</div> </li> </ul> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("components/cmp-tracking-display-row/tracking-display-row.html",'<li class="cmp-tracking-display-row" data-test="summary-item"> <div class="row"> <div class="template-details" data-test="summary-item-details" data-test-id="{{item.id}}"> <div class="template-icon"><i ss-icon-before="{{item.isPacket ? \'li-packet-large\' : \'li-form-large\'}}" data-test="icon"></i></div> <div class="template-info"> <h4> <span class="template-name" ng-bind="item._name" data-test="{{item._archivedForms >0 ? \'archived-form-name\': \'form-name\'}}"></span> </h4> <div class="form-meta" ng-if="item.isPacket"> <a data-test="packet-details-link"><span ng-click="go.getPacketData()" ss-icon-after="{{vm.showPacketData === false ? \'angle-down\': \'angle-up\'}}" ng-bind="vm.showPacketData ? \'Hide Details\' : \'Show Details\'"></span></a> </div> </div> <div class="last-sent" ng-bind="\'Last sent \' + item.lastSentDate" data-test="last-sent"></div> <div class="template-progress"> <cmp-progress-bar label="{{item.percentComplete}}" percent="{{item.percentComplete}}"> <span ng-bind="item.progressText" class="progress-text" data-test="progress-text"></span> </cmp-progress-bar> </div> <div class="archived-count" ng-if="routeVm.featureFlags.fc_include_form_archival_statuses"> <span ng-if="item._archivedForms > 0" ng-bind="item._archivedForms" ss-icon="archive"></span> </div> <div class="details-button"> <super-button label="Details" ng-click="go.detailsClickHandler(item)" ng-if="!item.isPacket" data-test="form-template-details-button"></super-button> </div> </div> </div> <ul class="packet-contents" ng-if="vm.showPacketData" ss-pending="vm.loadingPacketData"> <li class="row" ng-repeat="packetForm in vm.subPacketData track by $index"> <div class="template-details" data-test="packet-item-details" data-test-id="{{packetForm.id}}"> <div class="template-icon"><i ss-icon-before="li-form-large" data-test="icon"></i></div> <div class="packet-member-template-info"> <h4> <span class="template-name" ng-bind="packetForm._name" data-test="{{packetForm._archivedForms >0 ? \'archived-packet-form-name\': \'packet-form-name\'}}"></span> </h4> </div> <div class="progress"> <cmp-progress-bar label="{{packetForm.percentComplete}}" percent="{{packetForm.percentComplete}}"> <span ng-bind="packetForm.progressText" class="progress-text" data-test="progress-text"></span> </cmp-progress-bar> </div> <div class="archived-count" ng-if="routeVm.featureFlags.fc_include_form_archival_statuses"> <span ng-if="packetForm._archivedForms > 0" ng-bind="packetForm._archivedForms" ss-icon="archive"></span> </div> <div class="details-button"> <super-button label="Details" ng-click="go.detailsClickHandler(packetForm, item)" data-test="form-template-details-button"></super-button> </div> </div> </li> <li class="row" ng-if="!vm.subPacketData.length && !vm.loadingPacketData"><div>No Forms found</div></li> </ul> </li> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/builder.html",'<route folder="/form-builder/builder"> <div class="gd-row"> <aside class="panel fields-panel"><segment name="fields"></segment></aside> <section class="panel builder-panel"><segment name="builder"></segment></section> <aside class="panel properties-panel"><segment name="properties"></segment></aside> </div> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/overlay-builder/overlay-builder.html",'<route folder="/form-builder/overlay-builder"> <form id="form-controls" class="gd-row route-wrapper form-controls" ng-submit="routeVm.saveFormTemplate()" ss-validate-form> <section class="overlay-builder-overlay"> <segment name="overlay"></segment> </section> <aside class="overlay-builder-data-panel"> <segment name="data-panel"></segment> </aside> </form> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/preview.html",'<route folder="/form-builder/preview" id="form-preview"> <segment name="page-header"></segment> <section class="full-screen-content"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <section class="gd-60p content"> <segment name="form-workflow"></segment> </section> <aside class="gd-40p sidebar" ss-window-anchor> <segment name="attachments"></segment> <segment name="steps-summary"></segment> </aside> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="{{routeVm.PDFOverlayUrl}}"></iframe> </div> </section> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-content/content.html",'<section class="segment-form-builder-content" aria-label="form builder section"> <ui-view id="formBuilder-builder" aria-controlled-by="content-nav"></ui-view> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/segment-header/header.html",'<header class="segment-form-builder-header" ss-window-anchor> <div class="form-title-group" aria-label="form title section" role="region" tabindex="0"> <i ss-icon-before="{{routeVm.formData._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" role="presentation"></i> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span class="locked-state" title="{{ routeVm.formData._name }}" ng-bind="routeVm.formData._name"></span> <span class="non-locked-stated" ng-if="!vm.editTitle" ng-bind="routeVm.formData._name"></span> <super-input-text id="formTitle" model="routeVm.formData._name" ng-if="vm.editTitle" ss-validate="validator.required(routeVm.formData._name, \'Form Name\')" ;> </super-input-text> <p class="form-status" ng-bind="vm.formStatusLabel"></p> </div> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="vm.editTitle = false" ng-disabled="!routeVm.formData._name.length" aria-label="confirm form name change"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> </div><div class="form-control-actions" role="region"> <div class="status-messages" role="status"> <strong class="auto-saved" ng-show="vm.autoSaved">Auto-Saved</strong> </div> <ul> <li class="form-save"> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="routeVm.saving" ss-icon="spinner" ng-click="go.setActivationConfig(false)"></super-button> </li> <li class="form-activate"> <super-button label="Activate" ss-icon-after="angle-down" ss-menu="activate-menu" ng-disabled="routeVm.saving"></super-button> <div class="activate-menu" data-qa="form-activation-menu"> <ul class="select-menu-list"> <li class="select-menu-list-item" data-qa="activate-immediately"> <button type="submit" class="activation-btn" ng-click="go.setActivationConfig(true, false)">Activate immediately<small>Will become sendable</small></button> </li> <li class="select-menu-list-item gd-row"> <div class="gd-55p"> <button type="submit" class="activation-btn" ng-click="go.setActivationConfig(true)" data-qa="activate-on-date">Activate on<small>Set a future \'active\' date</small> </button> </div> <div class="gd-45p"> <super-input-datepicker model="vm.activationDate"></super-input-datepicker> </div> </li> </ul> </div> </li> <li class="form-preview"> <super-button label="Preview" ng-click="go.preview()" is-disabled="routeVm.saving"></super-button> </li> </ul> </div> <nav id="content-nav" aria-controls="formBuilder-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Form Builder" state="base.formBuilder.builder"></super-tab-list-item> <super-tab-list-item label="Form Settings" state="base.formBuilder.settings" params=""></super-tab-list-item> <super-tab-list-item ng-if="vm.printViewBuilderEnabled" label="Overlay Builder" state="base.formBuilder.overlayBuilder" params=""></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/settings/settings.html",'<route folder="/form-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-attachments/attachments.html",'<article class="segment-form-instance-attachments" role="complimentary"> <header class="sidebar-article-header"> <h4 class="">Attachments</h4> </header> <div class="sidebar-article-content" ss-pending="vm.loading"> <div class="main-content"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-instance/segment-form/form.html",'<div class="segment-form-instance-form"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)" ss-pending="vm.loading"> <section class="fb-step" ng-class="{\'is-selected\': vm.selectedStep.id === step.id, \'is-denied\': step.isDenied}" ng-repeat="step in vm.steps track by $id(step)" ng-click="go.selectStep(step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{step.actualIndex}}" tabindex="0"> <div ng-disabled="step.disabled" ng-if="step._stepAction !== ssEnum.stepAction.employeeProfileReview"> <header class="fb-step-header"> <h3 class="fb-step-title" data-qa="step-title"> <span>{{!step._name || step._name.trim() === "" ? \'Workflow Step \' + (step.actualIndex + 1) : step._name}}</span> <span class="step-title-print" ng-if="step.stepActionName">| {{step.stepActionName}}</span> <span class="step-title-print" ng-if="step.instance._stepParticipant.name">| {{step.instance._stepParticipant.name}}</span> <label ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="tag denied-tag step-title-non-print" role="alert" aria-label="this step has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label> </h3> <p id="{{step.id}}-denied-comments" class="denied-comments" ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ng-bind="routeVm.formInstance._deniedInfo.comments"></p> <p ng-if="step.submissionDetail" class="step-status-dtl" ng-bind="step.submissionDetail"></p> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </header> <ul> <li class="field-group" ng-repeat="group in step.fieldGroups" ss-hide-when-empty tabindex="0"> <cmp-primary-assignment-table-view group="group" ng-if="go.isTableViewEnable(group) && routeVm.featureFlags.fc_enable_form_tables" ss-hide-when-empty></cmp-primary-assignment-table-view> <cmp-field-renderer ng-repeat="field in group | orderBy: go.sortOrder track by $index" field="field" group="group" org="routeVm.org" ng-style="{width: field.config.width}" ng-if="!go.isTableViewField(field) && (!go.isTableViewEnable(group) || !routeVm.featureFlags.fc_enable_form_tables)" ss-hide-when-empty></cmp-field-renderer> </li> </ul> <footer class="fb-step-footer"> <div ng-class="{\'hide-for-print-view\' : !step.instance._stepComments}"> <super-input-textarea label="Comments - Visible to all participants {{routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\'] && step._stepAction === ssEnum.stepAction.reviewApproveOrDeny ? \'(required for deny action)\' : \'\'}}" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled || vm.isExpired"></super-input-textarea> </div> <div class="step-action" ng-if="!formIsComplete && !vm.isExpired"> <div ng-if="step.id === vm.currentStepId"> <super-button pri label="Submit Form" type="submit" ng-if="step._stepAction === ssEnum[\'stepAction\'].formEntry" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> <super-button pri label="Form Has Been Reviewed" type="submit" ng-if="step._stepAction === ssEnum[\'stepAction\'].reviewForm" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> <div ng-if="step._stepAction === ssEnum[\'stepAction\'].reviewApproveOrDeny"> <super-button pri label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="button" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ng-click="go.denyStep($event,step)" data-qa="deny-step-button"></super-button> <super-button neg label="Deny Form" type="button" ng-if="routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" data-qa="deny-step-button" is-disabled="!step.instance._stepComments.length"> <item ng-if="step.deniableStepOptions.length > 1" class="no-select">Send back to:</item> <item ng-repeat="config in step.deniableStepOptions" ng-click="go.denyAndResetWorkflowStep(step, config)">{{config.optionText}}</item> </super-button> </div> </div> </div> </footer> </div> <div ng-disabled="step.disabled" ng-if="step._stepAction === ssEnum.stepAction.employeeProfileReview"> <header class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </header> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th ng-show="routeVm.featureFlags.isFCSystemOfRecord" class="update-profile">Update Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues track by $id(employeeProfileReviewStepField)"> <td class="step-field"> <p ng-bind="employeeProfileReviewStepField.sourceField.step._name"></p> <p class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></p> </td> <td class="current" data-qa="profile-value-{{ employeeProfileReviewStepField.formFieldId}}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" org="routeVm.org"></cmp-field-renderer> </td> <td ng-if="routeVm.featureFlags.isFCSystemOfRecord" class="update-profile"> <super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== ssEnum.stepAction.employeeProfileReview || formIsComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"> </super-input-checkbox> </td> </tr> </tbody> </table> <footer class="fb-step-footer"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled || vm.isExpired"></super-input-textarea> <div ng-if="!formIsComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </footer> </div> </section> <section class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <header class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </header> <p>Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</p> </section>  </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-header/header.html",'<header class="segment-form-instance-header"> <div class="page-header"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="actions"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" aria-label="close this page" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> <div class="form-header"> <div class="form-header-row"> <div class="form-header-row-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <p class="form-status" ng-bind="vm.formStatus"></p> <div class="form-header-row-group form-controls-group" ss-hide-when-empty> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="routeVm.showToggle"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" is-disabled="routeVm.isLoading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> <div class="form-header-row" ss-hide-when-empty> <div class="form-header-row-group form-error-group" ng-if="formIsCompleteAndDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" ss-hide-when-empty> <label class="tag denied-tag" role="alert" aria-label="this form has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label> <span id="{{step.id}}-denied-comments" class="denied-comments" ng-bind="routeVm.formInstance._deniedInfo.comments"></span> </div> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-instance/segment-steps-summary/steps-summary.html",'<article class="segment-form-instance-steps-summary"> <header class="sidebar-article-header"> <h4 class="">Form Workflow</h4> </header> <div class="sidebar-article-content" ng-if="!vm.loading && vm.steps.length" ss-pending="vm.loading"> <section class="fb-step fb-summary-step" ng-class="{\n\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\'is-disabled\': step.disabled,\n\t\t\t\t\'is-denied\': step.isDenied\n\t\t\t}" ng-repeat="step in vm.steps" ng-click="go.selectStep(step)" role="region"> <header class="fb-step-header"> <h4 class="fb-step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span><label ng-show="step.isDenied && routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']" class="tag denied-tag" role="alert" aria-label="this step has been denied for the following reason:" aria-flowto="{{step.id}}-denied-comments">denied</label></h4> </header> <div class="main-content" ng-show="vm.selectedStep === step" ng-cloak> <dl class="step-summary-list"> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </div> </section> <section class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </section> </div> </article> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-content/content.html",'<div class="segment-form-templates-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search" debounce="400">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Forms/Packets" model="vm.selectedType"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="type in vm.templateTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <div class="paging-group" ng-hide="!routeVm.displayTemplates.length || vm.hidePager"> <fluid-paginator total-pages="vm.pages" current-page="vm.currentPage" on:current-page-change="go.changePage($event.currentPage)"></fluid-paginator> </div> <ul class="ss-form-panel-list form-templates-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length" ng-repeat="template in routeVm.displayTemplates track by $index"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> <div class="paging-group" ng-hide="!routeVm.displayTemplates.length || vm.hidePager"> <fluid-paginator total-pages="vm.pages" current-page="vm.currentPage" on:current-page-change="go.changePage($event.currentPage)"></fluid-paginator> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-templates/segment-header/header.html",'<header class="gd-row segment-index-header"> <div> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()" data-qa="form-create-cancel-btn"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig" data-qa="form-create-confirm-btn"></super-button> </fieldset> </fieldset> </div> </form> </div> </div> <p class="gd-100p" ng-if="routeVm.featureFlags[\'isHRMSEnabled\']"><strong>Note:</strong>&nbsp;Details collected in <em>Frontline Central</em> forms will not appear in other applications.</p> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-content/content.html",'<div class="segment-form-tracking-content"> <div ng-if="routeVm.featureFlags.fc_nov_2020_new_track_forms"> <ui-view></ui-view> </div> <div ng-if="!routeVm.featureFlags.fc_nov_2020_new_track_forms"> <cmp-tracked-form-group current-page="routeVm.currentPage" current-user="routeVm.currentUser" endpoint="go.urgent()" filters="routeVm.filterConfig" ng-if="routeVm.selectedCategory === \'urgent\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-page="routeVm.currentPage" current-user="routeVm.currentUser" endpoint="go.denied()" filters="routeVm.filterConfig" ng-if="routeVm.selectedCategory === \'denied\' && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> </cmp-tracked-form-group> <cmp-tracked-form-group current-page="routeVm.currentPage" current-user="routeVm.currentUser" endpoint="go.notStarted()" filters="routeVm.filterConfig" ng-if="routeVm.selectedCategory === \'not-started\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-page="routeVm.currentPage" current-user="routeVm.currentUser" endpoint="go.inProgress()" filters="routeVm.filterConfig" ng-if="routeVm.selectedCategory === \'in-progress\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-page="routeVm.currentPage" current-user="routeVm.currentUser" endpoint="go.complete()" filters="routeVm.filterConfig" ng-if="routeVm.selectedCategory === \'complete\'"> </cmp-tracked-form-group> <div id="form-data-filter-group" class="gd-row" ng-if="routeVm.pages > 1"> <div class="form-data-pagination"> <fluid-paginator total-pages="routeVm.pages" current-page="routeVm.currentPage" on:current-page-change="go.changePage($event)"></fluid-paginator> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/segment-header/header.html",'<header class="segment-form-tracking-header"> <h1 data-test="track-forms-header-main">Track Forms</h1> <div class="gd-row form-list-filters"> <div class="gd-20p"> <div class="form-search-filter"> <label for="search-filter">Filter by Employee</label> <super-input-text id="search-filter" debounce="750" ss-icon="search" model="routeVm.filterConfig.search">Type here to filter</super-input-text> </div> </div> <div class="gd-20p"> <super-multi-filter-list label="Form/Packet Template" label-weight="heavy" display="tags" selected="routeVm.filterConfig.templateFilterSelections"> <super-multi-filter-list-group label="Forms"> <super-multi-filter-list-item ng-repeat="formTemplate in vm.formTemplates | orderBy:\'_name\'" option="formTemplate"></super-multi-filter-list-item> </super-multi-filter-list-group> <super-multi-filter-list-group label="Packets"> <super-multi-filter-list-item ng-repeat="packet in vm.packets | orderBy:\'_name\'" option="packet"></super-multi-filter-list-item> </super-multi-filter-list-group> </super-multi-filter-list> </div> <div class="gd-20p" ng-if="!vm.showCustomDateRange"> <super-select-list label="Date Sent" label-weight="heavy" model="vm.dateSentIdx"> <super-select-list-item ng-repeat="dateSent in vm.dateSentOptions" label="dateSent.title" value="$index"></super-select-list-item> <super-select-list-item label="\'Custom Date Range\'" value="\'customRange\'"></super-select-list-item> </super-select-list> </div> <div class="gd-20p" ng-if="vm.showCustomDateRange"> <super-input-datepicker label="Start Date" name="from-date" label-weight="heavy" class="date-filter" model="vm.customDateRange.from"></super-input-datepicker><span class="date-divider">-</span> <super-input-datepicker label="End Date" name="to-date" label-weight="heavy" class="date-filter" model="vm.customDateRange.to" options="vm.dateSentRangeOptions"></super-input-datepicker> <label class="date-range-label">{{routeVm.filterConfig.dateSent.title}}<button class="fa-times-after" ng-click="go.clearCustomRange()"></button></label> </div> <div class="gd-20p" ng-if="routeVm.empId"> <super-select-list label="Results (Sender/Admin)" label-weight="heavy" model="routeVm.filterConfig.sentByParticipant"> <super-select-list-item ng-repeat="sent in vm.sentByCriteria" value="sent.value" label="sent.name"></super-select-list-item> </super-select-list> </div> <div class="gd-20p"> <super-select-list label="Employee location" label-weight="heavy" model="routeVm.filterConfig.sentToLocation"> <super-select-list-item ng-repeat="loc in vm.locations" value="loc.id" label="loc._name"></super-select-list-item> </super-select-list> </div> </div> <div id="form-data-sort-group" class="gd-row"> <div class="forms-list-filter-header gd-60p"> <ul class="forms-list-filter-tabs"> <li ss-icon-before="calendar-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'urgent\'}" ng-click="go.filter(\'urgent\')">Urgent <abbr title="urgent forms count" class="count-display" ng-bind="routeVm.counts._urgent || \'0\'"></abbr></li> <li ss-icon-before="thumbsdown-stripes" ng-class="{\'is-selected\': routeVm.selectedCategory === \'denied\'}" ng-click="go.filter(\'denied\')" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']">Denied <abbr title="denied forms count" class="count-display" ng-bind="routeVm.counts._denied || \'0\'"></abbr></li> <li ss-icon-before="square-o" ng-class="{\'is-selected\': routeVm.selectedCategory === \'not-started\'}" ng-click="go.filter(\'not-started\')">Not Started <abbr title="not started forms count" class="count-display" ng-bind="routeVm.counts._notStarted || \'0\'"></abbr></li> <li ss-icon-before="pencil" ng-class="{\'is-selected\': routeVm.selectedCategory === \'in-progress\'}" ng-click="go.filter(\'in-progress\')">In-Progress <abbr title="in progress forms count" class="count-display" ng-bind="routeVm.counts._inProgress || \'0\'"></abbr></li> <li ss-icon-before="check" ng-class="{\'is-selected\': routeVm.selectedCategory === \'complete\'}" ng-click="go.filter(\'complete\')">Completed <abbr title="complete forms count" class="count-display" ng-bind="routeVm.counts._complete || \'0\'"></abbr></li> </ul> </div> <div class="sort-by-filter gd-40p"> <super-select-list type="filter" label="Filter Status" model="routeVm.filterConfig.formStatus" ng-if="go.showFilter()"> <super-select-list-item ng-repeat="filter in vm.filterOptions" ng-if="filter.categories.includes(routeVm.selectedCategory)" value="filter.value" label="filter.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="routeVm.filterConfig.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortOptions" ng-if="sort.categories.includes(routeVm.selectedCategory)" value="sort.value" label="sort.name"></super-select-list-item> </super-select-list> <super-button ng-if="routeVm.featureFlags.fc_track_forms_export" label="Export" ng-click="go.handleExportFormsClick()" ng-disabled="!vm.totalFormCount"></super-button> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/template-summary/template-summary.html",'<route folder="/form-tracking/template-summary"> <segment name="content"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/template-summary-details/template-summary-details.html",'<route folder="/form-tracking/template-summary-details"> <segment name="content"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/view-by-subject/view-by-subject.html",'<route folder="/form-tracking/view-by-subject"> <segment name="content"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/form-instance.html",'<route folder="/inbox/form-instance"> <div class="full-screen"> <header class="full-screen-header"> <segment name="close"></segment> <segment name="header"></segment> </header> <section class="full-screen-content" ss-pending="routeVm.isLoading" ss-pending-status="routeVm.loadingStatus"> <div class="full-screen-content-wrapper"> <div ng-show="!routeVm.showPDFOverlay" class="gd-row"> <div class="gd-65p content"> <segment name="form"></segment> </div> <div class="gd-35p sidebar"> <segment name="attachments"></segment> <segment name="steps"></segment> </div> </div> <div ng-show="routeVm.showPDFOverlay"> <iframe id="form-overlay-frame" src="" title="PDF overlay for {{routeVm.formInstance.name}}"></iframe> </div> </div> </section> </div> </route> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-content/content.html",'<div class="segment-inbox-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/segment-header/header.html",'<div class="segment-inbox-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search">Find Form or Packet</super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/index/segment-content/content.html",'<section class="segment-index-content"> <div class="gd-row content-header"> <div class="gd-35p"> <super-input-text size="large" ss-icon-before="search" model="vm.search" name="search">Find Form or Packet</super-input-text> </div> <div class="filter-group"> <super-select-list type="filter" label="Filter Status" model="vm.selectedStatus"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="status in vm.statuses" value="status.value" label="status.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Filter Category" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortCriteria" value="sort.value" label="sort.label"></super-select-list-item> </super-select-list> </div> </div> <div ss-pending="routeVm.loading && !vm.scrolling" ss-pending-status="routeVm.loadingMessage"> <ul class="ss-form-panel-list"> <li class="ss-panel-list-item" ng-if="routeVm.displayTemplates.length " ng-repeat="template in routeVm.displayTemplates"> <cmp-template-list-form template="template" org="routeVm.org" ng-if="template.isForm"></cmp-template-list-form> <cmp-template-list-packet template="template" ng-if="template.isPacket"></cmp-template-list-packet> </li> <li ng-if="!routeVm.displayTemplates.length && !routeVm.loading">No Forms or Packets found</li> </ul> </div> <div class="scroller" ng-if="vm.showInfScroll" ss-pending="vm.scrolling" ss-pending-status="\'Loading more results...\'" infinite-scroll="scrollData()" infinite-scroll-distance="1"></div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/index/segment-header/header.html",'<section class="gd-row segment-index-header"> <h1 class="gd-70p page-title">Form Templates</h1> <div class="gd-30p form-create-menu-group" ss-permitted="formTemplates.create,packets.create"> <button class="super-button std" ng-click="go.toggleMenu()"> <label ss-icon-after="angle-down">Create Template or Packet</label> </button> <form ng-submit="go.create()" ss-validate-form class="form-create-menu" ng-class="{\'ss-menu-open\': vm.openMenu}"> <fieldset> <h4 class="form-create-heading"><em>Are you creating a Form Template or a Packet?</em></h4> <button type="button" class="close" ss-icon="times" ng-click="go.cancel()"></button> <div class="gd-row"> <div class="gd-50p create-form-control"><super-input-radio label="Form Template" model="vm.form.instanceType" name="formTypeGroup" value="form"></super-input-radio></div> <div class="gd-50p create-packet-control"><super-input-radio label="Packet" model="vm.form.instanceType" name="formTypeGroup" value="packet"></super-input-radio></div> </div> </fieldset> <div ng-if="vm.form.instanceType !== null"> <hr class="divider"> <fieldset> <div class="field-group form-name-field"> <super-input-text model="vm.form.instanceTitle" label="{{vm.form.instanceType}} {{vm.altLabel}} name" label-weight="heavy" ss-validate="validator.required(vm.form.instanceTitle, \'Name\')" placeholder="This will be the title of the {{vm.form.instanceType}} {{vm.altLabel}}" required="true"></super-input-text> </div> <div class="field-group emp-initiate-control-field" ng-if="vm.form.instanceType === \'form\'"> <super-input-checkbox model="vm.form.isEmployeeInitiated" label="Employees can start this {{vm.form.instanceType}} {{vm.altLabel}} without admin assistance"></super-input-checkbox> <p ng-if="vm.form.instanceType === \'form\'" class="help-text emp-initiate-help-text"><em>This {{vm.form.instanceType}} {{vm.altLabel}} will be available for employees to start (complete and/or submit) without admin assistance.</em></p> </div> </fieldset> <hr class="divider"> <fieldset> <div class="field-group form-category-field"> <super-select-list default-option-label="Select Category" label="Category" label-weight="heavy" model="vm.form.category.id" ss-validate="validator.required(vm.form.category.id,\'Category\')" required="true"> <super-select-list-item ng-repeat="category in routeVm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div ng-if="vm.form.instanceType === \'form\'" class="field-group form-admin-field"> <super-select-list label="{{vm.form.instanceType}} administrator" default-option-label="Select Form Administrator" label-weight="heavy" model="vm.form.formAdministrator.formAdministratorType" ss-validate="validator.required(vm.form.formAdministrator.formAdministratorType,\'form administrator\')" required="true"> <super-select-list-item ng-repeat="type in vm.formAdminTypes" value="type.value" label="type.name"></super-select-list-item> </super-select-list> <p class="help-text form-admin-help-text"><em>The Form Administrator can track the progress of the form.</em></p> <super-employee-search class="emp-search-field" ng-if="vm.form.formAdministrator.formAdministratorType === formAdminEnums.specificPerson" model="vm.specificAdmin" ss-validate="validator.required(vm.form.formAdministrator.employeeId, \'Employee\')" limit="1" placeholder="Find Employee"></super-employee-search> </div> </fieldset> <hr class="divider"> <fieldset> <p class="help-text form-help-text">These selections can also be managed through the Form Settings tab.</p> <fieldset class="form-create-controls"> <super-button class="cancel" label="Cancel" ng-click="go.cancel()"></super-button> <super-button class="submit" pri label="Create" type="submit" ss-pending="vm.isCreating" ng-disabled="vm.invalidConfig"></super-button> </fieldset> </fieldset> </div> </form> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-content/content.html",'<div class="segment-my-forms-content"> <div class="gd-row forms-list-filter-group"> <div class="forms-list-filter-tabs"> <ul> <li ng-class="{\'is-selected\': vm.selectedFilter === \'current\'}" ng-click="go.filter(\'current\')">current forms <span class="count-display filter-count" ng-bind="vm.currentCount"></span></li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'sent\'}" ng-click="go.filter(\'sent\')">sent forms</li> <li ng-class="{\'is-selected\': vm.selectedFilter === \'completed\'}" ng-click="go.filter(\'completed\')">completed Forms</li> </ul> <ul> <li ss-permitted="formTemplates.startForMyself" ss-icon-before="mail-forward" ng-class="{\'is-selected\': vm.selectedFilter === \'initiate\'}" ng-click="go.filter(\'initiate\')">forms i can start</li> </ul> </div> </div> <cmp-form-list-group ng-if="vm.selectedFilter === \'current\'" type="current" search="routeVm.search" endpoint="go.getCurrentForms()" count="vm.currentCount" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'sent\'" type="sent" search="routeVm.search" endpoint="go.getSentForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-form-list-group ng-if="vm.selectedFilter === \'completed\'" type="completed" search="routeVm.search" endpoint="go.getCompletedForms()" count="null" filter="vm.selectedFilter"></cmp-form-list-group> <cmp-emp-initiated-template ng-if="vm.selectedFilter === \'initiate\'" type="initiate" search="routeVm.search" endpoint="go.getInitiatedForms()" filter="vm.selectedFilter" employee-id="routeVm.emplId"></cmp-emp-initiated-template> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/my-forms/segment-header/header.html",'<div class="segment-my-forms-header"> <div class="gd-70p"> <h1 class="page-title">My Forms</h1> </div> <div class="gd-30p"> <super-input-text size="large" debounce="750" ss-icon="search" model="routeVm.search" placeholder="{{routeVm.searchFormLabel}}"></super-input-text> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/builder.html",'<route folder="/packet-builder/builder"> <segment name="builder"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/segment-content/content.html",'<div class="segment-packet-builder-content" aria-label="packet builder section"> <ui-view id="packet-builder" aria-controlled-by="content-nav"></ui-view> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/segment-header/header.html",'<header class="segment-packet-builder-header"> <div class="gd-row form-title-actions-group"> <div class="gd-85p form-title-group" aria-label="packet name section"> <div class="icon"><i ss-icon-before="li-packet-large" role="presentation"></i></div> <div class="form-name"> <fieldset> <div class="form-title-ctrl" ng-class="{\'is-editing\' : vm.editTitle}"> <span ng-if="!vm.editTitle" class="title" ng-bind="vm.formTitle" title="{{vm.formTitle}}"></span> <super-input-text title="{{vm.formTitle}}" id="formTitle" model="vm.formTitle" ng-if="vm.editTitle" ss-validate="validator.required(vm.formTitle, \'packet name\')" required="true"></super-input-text> </div> </fieldset> <div class="form-title-edit-actions"> <button type="button" ng-if="!vm.editTitle" class="edit" ss-icon="pencil" ng-click="go.editTitle()" aria-label="edit the form name"></button> <button type="button" ng-if="vm.editTitle" class="save" ss-icon="check-circle" ng-click="go.confirmTitleEdit()" ng-disabled="!vm.formTitle.length" aria-label="save the form name"></button> <button type="button" ng-if="vm.editTitle" class="cancel" ss-icon="times" ng-click="go.cancelTitleEdit()" aria-label="cancel edit for form name"></button> </div> <div class="form-status"><strong ng-bind="vm.packetStatusLabel"></strong></div> </div> </div> <div class="gd-15p form-control-actions" aria-label="packet save amd activate section"> <fieldset> <div class="form-save"> <strong ng-if="vm.autoSaved" class="auto-saved">Auto Saved</strong> <super-button class="save-button" pri label="{{routeVm.saving ? \'Saving\' : \'Save Packet\'}}" type="submit" ng-class="{\'saving\': routeVm.saving}" ng-disabled="vm.nothingToSave || routeVm.saving" ss-icon="spinner"></super-button> </div> </fieldset> </div> </div> <nav id="content-nav" aria-controls="packet-builder"> <super-tab-list class="flat"> <super-tab-list-item label="Packet Builder" state="base.packetBuilder.Builder"></super-tab-list-item> <super-tab-list-item label="Packet Settings" state="base.packetBuilder.Settings"></super-tab-list-item> </super-tab-list> </nav> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/settings.html",'<route folder="/packet-builder/settings"> <segment name="settings"></segment> </route>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-content/content.html",'<div class="segment-send-content"> <section class="gd-row"> <header class="gd-25p"> <h3>FORM DETAILS</h3> </header> <div class="gd-60p"> <div class="gd-50p form-sender"> <div class="label">Form Sender</div> <div ng-class="{\'pending\' : vm.loadingFormSender}" ng-bind="vm.resolvedFormSender" data-cy="form-sender"></div> </div> <div class="gd-50p form-administrator" ng-if="!routeVm.isPacket"> <div class="label">Form Administrator</div> <div ng-bind="vm.formAdministrator"></div> </div> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>EFFECTIVE DATE</h3> </header> <div class="gd-60p"> <p class="effective-date-instruction">You can use an as-of date to determine a staff members information on a form.<br><em>Example: Staff Member information (assignment, etc.) for this form should be based on staff member record data as of August 1.</em></p> <super-input-checkbox label="Select an effective date to determine staff member information" model="vm.useEffectiveDating"></super-input-checkbox> <p><super-input-datepicker model="vm.asOf" ng-if="vm.useEffectiveDating"></super-input-datepicker></p> <super-button pri label="Export" ng-disabled="!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length" ng-click="go.export()" ss-pending="vm.exporting"></super-button> </div> </section> <section class="gd-row"> <header class="gd-25p"> <h3>DISTRIBUTION</h3> </header> <div class="gd-75p"> <div ng-if="!routeVm.featureFlags[\'fc_enable_contract_groups\']"> <p class="info-text">"Who" the form is about; information from their staff member record will auto-populate certain form fields.</p> <super-employee-search placeholder="Add a staff member by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single" include-active-only-status-filter="true" data-test="employee-distribution-select"></super-employee-search> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of staff members?"></cmp-multiple-employee-search> </div> <div ng-if="routeVm.featureFlags[\'fc_enable_contract_groups\']"> <div class="distribution-type-select-group"> <super-input-radio label="Staff member(s) or group of staff members" model="vm.distributionType" name="distributionTypeGroup" value="employee" ng-click="go.setContractGroupOptions(false, true)"> </super-input-radio> <super-input-radio label="Contract group" model="vm.distributionType" is-disabled="vm.disableContractGroups" name="distributionTypeGroup" value="contract-group" ng-click="go.loadContractGroups()" title="{{!vm.contractGroupData.contractGroupsList.length ? \'Could not find contract groups for your Organization\' : \'\'}}"> </super-input-radio> </div> <div class="distribution-type-group" ng-show="vm.distributionType === \'employee\'"> <div class="row"> <p class="info-text">"Who" the form is about; information from their staff record will auto-populate certain form fields.</p> </div> <div class="row"> <super-employee-search placeholder="Add a staff member by name" model="routeVm.postData.recipients" status-types="1" use-pill="true" query-limit="50" data-qa="add-employee-single" include-active-only-status-filter="true" data-test="employee-distribution-select"></super-employee-search> </div> <div class="row"> <cmp-multiple-employee-search model="routeVm.postData.bulkRecipients" exclusions="routeVm.postData.exclusions" label="Need to send to a group of staff members?"></cmp-multiple-employee-search> </div> </div> <div class="distribution-type-group" ng-show="vm.distributionType === \'contract-group\'" data-test="contract-group-distributution-options"> <div class="row"> <super-single-filter-list ss-pending="vm.loadingContractGroups" ss-pending-status="\'loading contract groups...\'" button-label-text="Select a contract group" data-test="contract-group-select" data-bind-value="value" data-bind-name="_name" edit-mode="true" permissions="" items="vm.contractGroupData.contractGroupsList" is-disabled="vm.disableContractGroups" model="vm.contractGroupData.selectedContractGroupId" on-select="go.contractGroupSelectHandler($event)" order-by="_name"></super-single-filter-list> <div class="contract-group-employee-count" ss-pending="vm.loadingContractGroupEmployees" ss-pending-message="\'finding staff members...\'"> <p ng-show="!vm.loadingContractGroupEmployees && vm.contractGroupData.employeeCount">{{vm.contractGroupData.employeeCount}} total staff members</p> </div> </div> <div class="row" ng-if="!vm.hideSplitOptions"> <p class="info-text">Contract groups provide the flexibility to send items combined into a single document or as separate contracts.</p> <super-select-list model="vm.contractGroupData.splitContracts" on-select="go.setContractGroupOptions($value)"> <super-select-list-item label="\'Send combined as single contract\'" value="false"></super-select-list-item> <super-select-list-item label="\'Separate into multiple contracts\'" value="true"></super-select-list-item> </super-select-list> </div> <div class="row" ng-show="vm.contractGroupData.splitContracts"> <div class="separation-option-group"> <p class="option-group-label">Primary Assignment:</p> <span ng-if="!vm.templateHasPrimaryAssignment" class="info-text">Not included in this template.</span> <span ng-if="vm.templateHasPrimaryAssignment"> <super-input-radio label="Don\'t separate" model="vm.contractGroupData.splitOptions.splitPrimaryAssignment" name="separation-options-primary" value="false" is-disabled="vm.disablePrimaryOption" data-test="combine-primary-assignments"> </super-input-radio> <super-input-radio label="Send as separate contract" model="vm.contractGroupData.splitOptions.splitPrimaryAssignment" name="separation-options-primary" value="true" data-test="separate-primary-assignments"> </super-input-radio> </span> </div> <div class="separation-option-group"> <p class="option-group-label">Secondary Assignments:</p> <span ng-if="!vm.templateHasSecondaryAssignment" class="info-text">Not included in this template.</span> <span ng-if="vm.templateHasSecondaryAssignment"> <super-input-radio label="Don\'t separate" model="vm.contractGroupData.splitOptions.splitSecondaryAssignments" name="separation-options-secondary" value="false" data-test="combine-secondary-assignments"> </super-input-radio> <super-input-radio label="Send as separate contract(s)" model="vm.contractGroupData.splitOptions.splitSecondaryAssignments" name="separation-options-secondary" value="true" data-test="separate-secondary-assignments"> </super-input-radio> </span> </div> <div class="separation-option-group"> <p class="option-group-label">Supplementals:</p> <span ng-if="!vm.templateHasSupplemental" class="info-text">Not included in this template.</span> <span ng-if="vm.templateHasSupplemental"> <super-input-radio label="Don\'t separate" model="vm.contractGroupData.splitOptions.splitSupplementals" name="separation-options-supplementals" value="false" data-test="combine-supplementals"> </super-input-radio> <super-input-radio label="Send as separate contract(s)" model="vm.contractGroupData.splitOptions.splitSupplementals" name="separation-options-supplementals" value="true" data-test="separate-supplementals"> </super-input-radio> </span> </div> <div class="separation-visual-container"> <label>Example: </label> <div class="separation-visual" ng-init="go.runSeparationVisual()"></div> </div> </div> </div> </div> </div> </section> <section class="gd-row" ng-if="!routeVm.featureFlags[\'fc_form_instance_expiration\'] || routeVm.isPacket"> <header class="gd-25p"> <h3>DUE DATE FOR STAFF MEMBER(S)</h3> </header> <div class="gd-60p"> <p ng-if="!routeVm.isPacket">This date applies to the <em>Workflow Step </em>assigned to the Staff Member (whom the form is about). This is not a due date for the form as a whole.</p> <p ng-if="routeVm.isPacket">This date applies to the <em>Workflow Step</em>(in each form) assigned to Staff Member (whom the forms are about). This is not a due date for the packet as a whole.</p> <ul> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="false" label="No Due Date"></super-input-radio> </li> <li> <super-input-radio model="vm.hasSubmissionDueDate" value="true" label="Staff Member submission due by"> </super-input-radio> <super-input-datepicker name="submissionDueDate" options="vm.datePickerOptions" model="routeVm.postData.submissionDueDate" is-disabled="vm.hasSubmissionDueDate === \'false\'"> </super-input-datepicker> </li> </ul> </div> </section> <section class="gd-row packet-email-preview" ng-if="routeVm.isPacket"> <header class="gd-25p"> <h3>PACKET EMAIL PREVIEW</h3> </header> <div class="gd-60p"> <dl class="packet-email-meta"> <div> <dt>From:&nbsp;</dt> <dd>do-not-reply@frontlineed.com</dd> </div> <div> <dt>Subject:&nbsp;</dt> <dd ng-bind="vm.item._startupEmail.subject || \'A packet is ready for you\'"></dd> </div> </dl> <div class="step-notification-message-group"> <p class="message-preview-header"><i>"Packet Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.item._startupEmail.notificationPrefix"></i></p> <div class="form-list-wrapper" ss-pending="vm.loadingPacket" ng-class="{\'add-height\' : vm.loadingPacket}"> <ul class="forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms"><i ng-bind="form._name"></i></li> </ul> </div> <p ng-if="vm.item._startupEmail.useStartupEmail"><i ng-bind="vm.item._startupEmail.message"></i></p> <small class="message-suffix"><i ng-bind="vm.item._startupEmail.notificationSuffix"></i></small> </div> </div> </div> </section> <section class="gd-row" ng-if="!routevm.isPacket"> <header class="gd-25p"> <h3 ng-if="!routeVm.featureFlags[\'fc_form_instance_expiration\'] || routeVm.isPacket"><strong>Form Workflow & Notifications</strong></h3> <h3 ng-if="routeVm.featureFlags[\'fc_form_instance_expiration\'] && !routeVm.isPacket"><strong>WORKFLOW, DUE/EXPIRATION DATES</strong></h3> </header> <div class="gd-60p details"> <ul class="form-step-list"> <li class="form-step" ng-repeat="step in vm.item._steps track by $index"> <div class="form-step-group"> <h4 ng-if="!$last">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{::step._name}}</span></h4> <h4 ng-if="$last">Form & Workflow Complete Step</h4> </div> <div class="form-step-group" ng-if="!$last"> <dl class="form-step-meta"> <div> <dt>Step Participant</dt> <dd ng-bind="step.resolvedParticipant" data-cy="step-meta-step-participant"></dd> </div> <div> <dt>Step Action</dt> <dd data-cy="step-meta-step=-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> </div> <div class="form-step-group step-notification-message-group" ng-if="!$last"> <p class="message-preview-header"><i>"Step Ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._notificationBody.length"><i ng-bind="step._notificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div ng-if="!$last && step.showResendMessage" class="form-step-group step-notification-message-group"> <p class="message-preview-header"><i>"Step Resent"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <p ng-if="step._resendNotificationBody.length"><i ng-bind="step._resendNotificationBody"></i></p> <small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small> </div> </div> <div class="form-step-group" ng-if="!$last && step._stepParticipant.participantType === vm.recipient && vm.hasSubmissionDueDate && routeVm.postData.submissionDueDate != null"> <p class="gd-100p due-date" ss-icon="calendar-o">This step due on {{routeVm.postData.submissionDueDate | date:\'MM/dd/yyyy\'}}</p> </div> <div class="form-step-group" ng-if="!$last && routeVm.featureFlags[\'fc_form_instance_expiration\'] && !routeVm.isPacket"> <cmp-due-expiration-date current-step="step" index="$index" is-first-step="$first" all-steps="vm.item._steps"></cmp-due-expiration-date> </div> <div class="form-step-group" ng-if="$last"> <p>Sender will be notified</p> </div> </li> </ul> </div> </section> <section class="gd-row packet-detail-preview" ng-if="routeVm.isPacket" data-qa="forms-in-packet"> <header class="gd-25p"> <h3><strong>packet detail review </strong><em>"Form Complete" emails to sender are suppressed for forms in packets.</em></h3> </header> <div class="gd-60p packet-detail-preview-wrapper" ss-pending="vm.loadingPacket" ss-pending-status="\'loading packet...\'"> <ul class="gd-70p forms-list"> <li class="forms-list-item" ng-repeat="form in vm.item.forms" data-qa="form-{{ form.id }}"> <h4><a href="/ec-forms/form-builder/{{form.id}}/preview" ng-bind="form._name"></a></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item">Workflow ({{form.steps.length}} Steps) <super-popover> <div> <h6>Workflow <ng-pluralize count="form.steps.length" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> </li> <li class="form-meta-item">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} <span ng-if="form._modifier.name">by {{form._modifier.name}}</span></li> </ul> </li> <li class="forms-list-item final-step" ng-if="!vm.loadingPacket"> <h4>Packet Complete</h4> <p>Sender will be notified</p> </li> </ul> </div> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/send/segment-header/header.html",'<div class="segment-send-header gd-row"> <div class="batch-status-group ss-panel"> <ul class="batch-list" ng-style="vm.batchStyles"> <li class="batch-list-item" ng-repeat="batch in vm.batches"> <cmp-form-send-status org="routeVm.org" form="vm.item" batch="batch" on-complete="go.removeBatch(batch)" data-qa="batch-list-item"></cmp-form-send-status> </li> </ul> </div> <div class="send-control-group"> <div class="form-control-title gd-70p"> <h2 class="form-title" ng-bind="vm.item._name" data-qa="form-name-page-title"></h2> </div> <div class="form-control-actions"> <super-button pri label="Preview Form &amp; Workflow" ng-click="go.preview(vm.item)" ng-if="!routeVm.isPacket" ng-disabled="vm.isSending" data-qa="form-preview-button"></super-button> <super-button pri label="{{routeVm.isPacket?\'Send Packet\':\'Send Form\'}}" type="submit" ng-disabled="(!routeVm.postData.recipients.length && !routeVm.postData.bulkRecipients.length) || vm.isSending" ss-pending="vm.sending" data-qa="send-form-button"></super-button> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-builder/builder.html",'<div class="segment-form-builder-builder-builder"> <ol ng-if="!formVm.loading" class="fb-form-list"> <li class="fb-form-list-item"> <ol class="fb-step-list" ng-class="{\'fb-dragging-fields\': routeVm.draggingFields}" dnd-list="vm.steps" dnd-allowed-types="[\'stepType\']" dnd-drop="go.dropStep(event, index, item)" ng-if="vm.steps.length"> <li class="fb-step-list-item" ng-click="go.stepSettings(step, $index)" ng-repeat="step in vm.steps" dnd-draggable="step" dnd-type="\'stepType\'" dnd-moved="go.movedStep($index, step)" dnd-effect-allowed="move"> <cmp-step-renderer step="step" step-index="$index"></cmp-step-renderer> </li> </ol> </li> <li class="fb-form-list-item"> <div class="fb-step-add"> <super-button ss-icon="plus-circle" smp class="" label="Add new workflow step" ng-click="go.addStep()"></super-button> </div> </li> <li class="fb-form-list-item fb-step-review" ng-click="go.reviewStep()" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-if="vm.reviewStep"> <div class="fb-step" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.reviewStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.reviewStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <ul class="fb-field-groups"> <li class="fb-field-group fb-field-group-review"> <i>A summary of potential employee profile updates will display here for final review when the form is sent.</i> </li> </ul> </div> </li> <li class="fb-form-list-item fb-step-final" ng-click="go.formComplete()" ng-mouseenter="vm.lastStep.hoverState = true" ng-mouseleave="vm.lastStep.hoverState = false"> <div class="fb-step" ng-class="{\'is-hover\': vm.lastStep.hoverState, \'is-selected\': vm.selectedFormObject === vm.lastStep}"> <div class="fb-step-header"> <h4 class="fb-step-title" ng-bind="vm.lastStep._name"></h4> <div class="fb-actions fb-step-actions"> <span>Properties</span> </div> </div> <div class="fb-field-groups"> <p class="fb-field-group-empty">Define what happens when the form\'s workflow is complete.</p> </div> </div> </li> <li class="fb-form-list-item"><cmp-attachments label="Add Attachments"></cmp-attachments></li> </ol> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-properties/properties.html",'<div class="segment-form-builder-builder-properties" ss-window-anchor> <div class="view-props sidebar"></div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/builder/segment-fields/fields.html",'<div class="segment-form-builder-builder-fields" ss-window-anchor window-anchor-top="140"> <section class="form-builder-field-item" data-qa="template-employee-record-fields"> <h4 ss-toggle="emp-fields" ss-toggle-start-expanded aria-controls="emp-fields">Employee Record Tools<em>of who the form is about</em></h4> <ul id="emp-fields" class="emp-fields"> <li id="employee-field-{{field.fields}}" class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.employee | filter: go.filterEmployeeRecordTools" dnd-draggable="field" dnd-effect-allowed="copy" dnd-type="\'fieldType\'" dnd-disable-if="!field.allowMultiple && routeVm.added[field.fields]" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" ng-class="{disabled: !field.allowMultiple && routeVm.added[field.fields]}">{{field.label}}</li> </ul> </section> <section class="form-builder-field-item" data-qa="template-custom-fields"> <h4 ss-toggle="custom-fields" ss-toggle-start-expanded aria-controls="custom-fields">Custom Tools</h4> <ul id="custom-fields" class="custom-fields"> <li id="custom-field-{{field.fields}}" class="fb-field auto-{{ field.fields }}" ng-repeat="field in vm.fields.custom | filter: go.filterEmployeeRecordTools | orderBy: \'label\'" dnd-draggable="field" dnd-dragstart="routeVm.draggingFields = true" dnd-dragend="routeVm.draggingFields = false" dnd-effect-allowed="copy" dnd-type="\'fieldType\'">{{field.label}}</li> </ul> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-builder/overlay-builder/segment-data-panel/data-panel.html",'<div class="segment-form-builder-overlay-builder-data-panel" aria-label="print view builder data"> <div class="steps" ng-show="routeVm.formTemplate._printPreviewDefinition && routeVm.formTemplate._printPreviewDefinition.templateFileId"> <section class="step-panel" ng-repeat="step in vm.steps"> <div class="step-panel-header"> <h4 class="step-title" ng-bind="step._name || \'Workflow Step \' + ($index + 1)"></h4> <super-popover ng-if="step.hasUnmappableFields">Some fields in this step are not displayed because they cannot be mapped to a PDF.</super-popover> </div> <cmp-step-text-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'text\'"></cmp-step-text-display> <cmp-step-date-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'date\'"></cmp-step-date-display> <cmp-step-checkbox-display step="step" on-load="go.startExpanded(group)" ng-if="routeVm.selectedBox.type === \'checkbox\'"></cmp-step-checkbox-display> </section> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/overlay-builder/segment-overlay/overlay.html",'<div class="segment-form-builder-overlay-builder-overlay" aria-label="overlay builder"> <header class="gd-row"> <div class="gd-75p uploader"> <div ng-if="!vm.processing && !routeVm.formTemplate._hasPrintPreviewDefinition"> <h4>Add a file to the builder:</h4> <div class="upload-action-group"> <button class="add-attachment super-button std upload" value="" title="Upload PDF"><label>Upload PDF</label></button> <input class="btn" id="underlay-uploader" type="file" nv-file-select name="fileUpload" uploader="uploader"> </div> </div> <div ng-if="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition"> <label class="file-name" ng-bind="vm.file._filename" title="{{ vm.file._filename }}"></label> <super-button label="Remove" ss-icon="trash-o" ng-click="go.remove()" ng-show="vm.explodedImageUrls.length"> </super-button> </div> </div> <div ng-show="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition" class="gd-25p pager"> <button class="prev" type="button" value="Previous" ng-click="go.previousPage()" ng-disabled="vm.currentPage === 1" ss-icon="chevron-left"></button> <span class="page">Page {{ vm.currentPage }} of {{ vm.explodedImageUrls.length; }}</span> <button class="next" type="button" value="Next" ng-click="go.nextPage()" ng-disabled="vm.currentPage === vm.explodedImageUrls.length" ss-icon="chevron-right"></button> </div> </header> <div class="mapping-canvas" ng-class="{\'box-selected\': routeVm.selectedBox != null}" ng-click="routeVm.selectedBox = null" ss-pending="vm.processing" ss-pending-status="vm.processingStatus"> <div ng-show="!vm.processing && routeVm.formTemplate._hasPrintPreviewDefinition"> <cmp-overlay-builder-toolbox ss-window-anchor> </cmp-overlay-builder-toolbox> <cmp-box-resizer ng-repeat="data in vm.data" box="data" text="data.templateString" is-active="data === routeVm.selectedBox" is-drawing="data === vm.drawingBox" ng-class="{selected: data === routeVm.selectedBox}" ng-mousedown="go.selectBox(data, $event)" ng-click="go.selectBox(data, $event)" on-delete="go.removeBox(data)" title="{{ data.templateString || data.matchValue }}"></cmp-box-resizer> <cmp-box-creator starting-point="vm.newBoxStartingPoint" box-created="go.createdBox($box)"> </cmp-box-creator> <canvas ng-style="{{ go.calculateImageWidth() }}"></canvas> <ul class="pages"> <li ng-repeat="img in vm.explodedImageUrls" ng-class="{\'visible\': vm.currentPage === $index+1}"> <img ng-show="vm.currentPage === $index+1" cross-origin="anonymous" ng-src="{{ img }}" class="bg-image" ng-style="{{ go.calculateImageWidth() }}"> </li> </ul> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-attachments/attachments.html",'<section class="segment-form-builder-preview-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <div class="main-content"> <div class="pad-12" ss-pending="vm.isLoading"> <ul class="form-attachment-list"> <li class="list-item form-attachment-item" ng-if="vm.files.length && !vm.isLoading" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment)" title="Open {{attachment._filename}}" target="_blank"></a> </li> <li class="list-item form-attachment-item" ng-if="!vm.files.length && !vm.isLoading">No attachments</li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-form-workflow/form-workflow.html",'<div class="segment-form-builder-preview-form-workflow" ss-pending="vm.loading"> <ul class="fb-step-list"> <li class="fb-step-list-item" ng-repeat="step in vm.steps" ng-click="go.selectStep($index, step)" id="fb-step-{{$index}}" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false"> <section class="fb-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}"> <header class="fb-step-header"> <h4 class="fb-step-title"> <span ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">Workflow Step {{$index + 1}}</span> <span ng-if="step._name && step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview">&nbsp;-&nbsp;</span> <span ng-if="step._name">{{step._name}}</span> </h4> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <p class="fb-step-instructions" ng-if="step._instructions" ng-bind="step._instructions"></p> <div class="fb-step-meta"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></li> <li ss-icon="wrench">{{step._stepAction | enumByValue: \'stepAction\'}}</li> </ul> </div> </div> </header> <div ng-if="step._stepAction !== vm.stepAction.formCompleted && step._stepAction !== vm.stepAction.employeeProfileReview"> <ul class="fb-field-groups"> <li class="fb-field-group" ng-repeat="group in step.fieldGroups" ss-hide-when-empty> <cmp-primary-assignment-table-view group="group" ng-if="go.isTableViewEnable(group) && routeVm.featureFlags.fc_enable_form_tables"></cmp-primary-assignment-table-view> <cmp-template-field-renderer ng-repeat="field in group | orderBy: go.sortOrder track by $index" field="field" group="group" ng-if="!go.isTableViewField(field) && (!go.isTableViewEnable(group) || !routeVm.featureFlags.fc_enable_form_tables)" ss-hide-when-empty></cmp-template-field-renderer> </li> </ul> <footer class="fb-step-footer"> <div class="fb-comments"> <super-input-textarea model="" label="Comments (visible to all participants)"></super-input-textarea> </div> <div ng-if="step._stepAction === vm.stepAction.formEntry" class="form-entry step-action"> <super-button pri label="Submit Form"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewForm" class="review-form step-action"> <super-button pri label="Form Has Been Reviewed"></super-button> </div> <div ng-if="step._stepAction === vm.stepAction.reviewApproveOrDeny" class="approve-deny step-action"> <super-button pri label="Approve Form"></super-button> <super-button neg label="Deny Form"></super-button> </div> </footer> </div> </section> </li> </ul> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-page-header/page-header.html",'<header class="segment-form-builder-preview-page-header"> <div class="page-header-group"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="title"><h2>Form Preview</h2></div> <div class="close"> <super-button label="Close Preview" ng-click="go.close()"></super-button> </div> </div> <div class="form-header-group"> <div class="form-meta-group"> <h2 ss-icon="li-form-large" class="form-name" ng-bind="vm.form._name" data-qa="form-template-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item status" ng-bind="vm.formStatusLabel"></li> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item modified">{{vm.modifiedDate}}</li> </ul> </div> <div class="form-display-toggle-group" ng-if="routeVm.hasPDFOverlay"> <div class="form-display-toggle-control-group"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button> <super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </header> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/preview/segment-steps-summary/steps-summary.html",'<section class="segment-form-builder-preview-steps-summary"> <header class=""> <h4 class="">Form Workflow</h4> </header> <div class="main-content"> <div ss-pending="vm.loading"> <ul class="fb-steps-summary"> <li class="fb-summary-step" ng-class="{\'is-hover\': step.hoverState, \'is-selected\': vm.selectedStepId === step.id}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)" ng-if="!vm.loading"> <h4 class="step-heading">Workflow Step {{$index + 1}}<span ng-if="step._name">&nbsp;-&nbsp;{{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === step.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="step.participantLabel.length" title="{{step.participantLabel}}">{{step.participantLabel}}</span> <em ng-if="!step.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="step.stepActionLabel.length">{{step.stepActionLabel}}</span> <em ng-if="!step.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants:</dt> <dd> <ul class="fb-step-meta"> <li ng-if="step.otherParticipants.length" class="list-row" ng-repeat="others in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-show="others.name.length" ng-bind="others.name" title="{{others.name}}"></li> <li ss-icon="key" ng-bind="others.permissions.length ? others.permissions : \'No Access\'"></li> </ul> </li> <li ng-if="!step.otherParticipants.length"><em>no additional participants</em></li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="step.eventDetails.length" ng-repeat="event in step.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!step.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-review" ng-class="{\'is-hover\': vm.reviewStep.hoverState, \'is-selected\': vm.selectedStepId === vm.reviewStep.id}" ng-if="vm.reviewStep" ng-mouseenter="vm.reviewStep.hoverState = true" ng-mouseleave="vm.reviewStep.hoverState = false" ng-click="go.selectStep(\'review\', vm.reviewStep)"> <h4 class="step-heading">Review Profile Updates</h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStepId === vm.reviewStep.id"> <dt>main participant:</dt> <dd> <ul class="fb-step-meta"> <li class="list-row" ss-icon="user"> <span ng-if="vm.reviewStep.participantLabel.length">{{vm.reviewStep.participantLabel}}</span> <em ng-if="!vm.reviewStep.participantLabel.length">no participant selected</em> </li> <li class="list-row"> <ul class="ss-pipe-children"> <li class="" ss-icon="wrench"> <span ng-if="vm.reviewStep.stepActionLabel.length">{{vm.reviewStep.stepActionLabel}}</span> <em ng-if="!vm.reviewStep.stepActionLabel.length">no action chosen</em> </li> <li class="" ss-icon="key" ng-if="vm.reviewStep.participantPermission.length" ng-bind="vm.reviewStep.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>Actions:</dt> <dd ng-if="vm.reviewStep.eventDetails.length" ng-repeat="event in vm.reviewStep.eventDetails"> <dl class="step-summary-sub-list"> <dt ss-icon="envelope-o">{{ event.title }}</dt> <dd ng-repeat="action in event.actions track by $index">- {{ action }}</dd> </dl> </dd> <dd class="event-actions" ng-if="!vm.reviewStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </li> <li class="fb-summary-step fb-step-final" ng-class="{\'is-hover\': vm.finalStep.hoverState, \'is-selected\': vm.selectedStepId === vm.finalStep.id}" ng-mouseenter="vm.finalStep.hoverState = true" ng-mouseleave="vm.finalStep.hoverState = false" ng-click="go.selectStep(\'final\', vm.finalStep)"> <h4 class="step-heading">Form &amp; Workflow Complete</h4> <div ng-show="vm.selectedStepId === vm.finalStep.id"> <dl class="step-summary-list pad-12"> <dt ng-if="vm.finalStep.employeeRecord" ss-icon="copy">copy to personnel document category:</dt> <dd ng-if="vm.finalStep.employeeRecord" ng-bind="vm.finalStep.employeeRecord"></dd> <dt ng-if="vm.finalStep.eventDetails.length" ss-icon="envelope-o">{{ vm.finalStep.eventDetails[0].title }}</dt> <dd ng-if="vm.finalStep.eventDetails.length" ng-repeat="action in vm.finalStep.eventDetails[0].actions">- {{ action }}</dd> <dt ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length">Actions: </dt> <dd ng-if="!vm.finalStep.employeeRecord && !vm.finalStep.eventDetails.length"><em>no additional actions</em></dd> </dl> </div> </li> </ul> </div> </div> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-builder/settings/segment-settings/settings.html",'<div class="segment-form-builder-settings-settings"> <section class="gd-row template-details"> <header class="gd-25p"> <h4>Template Details</h4> </header> <div class="gd-60p"> <div class="gd-row"> <p>This information determines who can access the form template as well as track a form after it has been sent.</p> </div> <div class="gd-row settings-allow-employee-initiate"> <super-input-checkbox label="Allow employees to initiate this form template" required model="vm.form._isEmployeeInitiated"></super-input-checkbox> <small class="inset">This template will be available for employees to start (complete and/or submit) without admin assistance.</small> </div> <div class="gd-row settings-pinned-form" ng-if="vm.showPinnedToTileCheckbox"> <super-input-checkbox label="Pin this form to the Employee Self-Service tile" required model="vm.form._isPinnedToTile" is-disabled="!vm.form._isEmployeeInitiated"></super-input-checkbox> </div> <div class="gd-row settings-category"> <super-select-list model="vm.form._category.id" label="Category" required="true" ss-validate="validator.required(vm.form._category.id, \'Category\')"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-form-administrator"> <super-select-list label="Form Administrator (can track progress of the form)" model="vm.form._formAdministrator.formAdministratorType" default-option-label="Select Form Administrator" required="true" ss-validate="validator.required(vm.form._formAdministrator.formAdministratorType, \'Form Administrator\')"> <super-select-list-item ng-repeat="item in vm.formAdminList" value="item.value" label="item.name"></super-select-list-item> </super-select-list> </div> <div class="gd-row settings-specific-employee" ng-if="vm.form._formAdministrator.formAdministratorType === 3"> <super-employee-search id="form-admin-employee-search" model="vm.specificEmployeeHolder" limit="1" use-pill="false" placeholder="Find Employee" ss-validate="validator.required(vm.form._formAdministrator.employeeId, \'Specific person\')"> </super-employee-search> </div> </div> </section> <section class="gd-row step" ng-repeat="step in vm.steps"> <header class="gd-25p"> <h4 data-qa="step-name"><span class="step-name-prefix">Workflow Step {{$index+1}}</span><span ng-if="step._name" class="step-name-custom"> - {{::step._name}}</span></h4> </header> <div class="gd-60p"> <dl class="gd-row step-properties-group"> <div class="gd-50p"> <dt>Step Participant</dt> <dd data-qa="step-participant" ng-bind="step.participantLabel" title="{{step.participantLabel}}"></dd> </div> <div class="gd-50p"> <dt>Step Action</dt> <dd data-qa="step-action">{{step._stepAction | enumByValue: \'stepAction\'}}</dd> </div> </dl> <div class="step-notification-message-group" data-qa="step-ready-message-group"> <p class="message-preview-header"><i>"Step Ready"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomNotification" model="step._notificationBody" placeholder="Type optional custom message here" id="step-ready-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomNotification" aria-controls="step-ready-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> <div ng-if="step.showResendMessage" class="step-notification-message-group" data-qa="step-resent-message-group"> <hr class="divider"> <p class="message-preview-header"><i>"Step Resent"</i> Email Message Preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="step._notificationPrefix"></i></p> <super-input-textarea ng-if="step._useCustomResendNotification" model="step._resendNotificationBody" placeholder="Type optional custom message here" id="step-resent-message-{{step.id}}"></super-input-textarea> <div><small class="message-suffix"><i ng-bind="step._notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" model="step._useCustomResendNotification" aria-controls="step-resent-message-{{step.id}}"></super-input-checkbox><label>Add Custom Message</label> </div> </div> </section> <section ng-if="vm.lastStepText.length"> <h4>Form Complete</h4> <p>{{vm.lastStepText}}</p> </section> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/template-summary/segment-content/content.html",'<div class="segment-form-tracking-template-summary-content"> <header> <h1 data-test="track-forms-header-main">Track Forms</h1> <div class="filter-row-group"> <cmp-track-forms-filter-group filter-config="vm.filterConfig" on-filter-change="go.updateResults()"></cmp-track-forms-filter-group> </div> <div id="form-data-sort-group" class="gd-row"> <div class="gd-30p"> <div class="form-search-filter"> <super-input-text id="search-filter" data-test="search-filter" debounce="750" ss-icon="search" model="vm.localFilters.search">search by form / packet</super-input-text> </div> </div> <div class="sort-by-filter gd-70p"> <span ng-if="parentVm.featureFlags[\'fc_include_form_archival_statuses\']" ss-icon="archive"></span> <super-select-list type="filter" label="Archival Status" model="vm.localFilters.archivalStatus" ng-if="parentVm.featureFlags[\'fc_include_form_archival_statuses\']"> <super-select-list-item ng-repeat="option in vm.formArchivalStatus" value="option.value" label="option.name"></super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.localFilters.sortBy"> <super-select-list-item ng-repeat="option in vm.sortOptions track by option.id" value="option" label="option.name"></super-select-list-item> </super-select-list> <super-button label="Bulk Actions" ss-icon-after="angle-down" data-test="bulk-actions-button"> <item ng-click="go.sendReminders()">Send Reminders</item> <item ng-click="go.downloadStatusCsv()">Download Status CSV</item> <item ng-if="parentVm.featureFlags[\'fc_enable_form_export_to_pdf\']" ng-click="go.printFormToPdf()">Print Forms to PDF</item> </super-button> </div> </div> </header> <main ss-pending="vm.loading" ss-pending-status="vm.loadingMessage"> <ul class="ss-form-panel-list" data-test="summary-list"> <cmp-tracking-display-row ng-repeat="item in vm.formPacketSummaryItems track by item._formTemplateSeriesIdOrPacketTemplateId" filter-config="vm.filterConfig" local-filters="vm.localFilters" class="ss-panel-list-item" data-test="summary-item" ng-if="vm.formPacketSummaryItems.length" item="item"> </cmp-tracking-display-row> <li class="ss-panel-list-item" ng-if="!vm.loading && !vm.formPacketSummaryItems.length"><div class="form-list-item-wrapper">No Forms or Packets found</div></li> </ul> </main> <footer> <div id="form-data-filter-group" class="gd-row" ng-if="routeVm.pages > 1"> <div class="form-data-pagination"> <fluid-paginator total-pages="routeVm.pages" current-page="vm.currentPage" on:current-page-change="go.changePage($event)"></fluid-paginator> </div> </div> </footer> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/form-tracking/template-summary-details/segment-content/content.html",'<div class="segment-form-tracking-template-summary-details-content"> <header> <div class="breadcrumb-group"> <a class="breadcrumb-link" ui-sref="base.formTracking.templateSummary" ss-icon="chevron-left">Back to Track Forms</a> </div> <div class="page-title-group"> <div class="packet-menu-group" ng-if="vm.packetMenuOptions"> <super-select-list type="filter" label="{{vm.packet._name}}" model="vm.selectedPacketFormOption" data-test="packet-form-menu"> <super-select-list-item ng-repeat="option in vm.packetMenuOptions" value="option" label="option._name"></super-select-list-item> </super-select-list> </div> <h1 data-test="track-forms-header-main" ss-icon="li-form-large" ng-bind="vm.templateName"></h1> </div> <div class="filter-row-group"> <cmp-track-forms-filter-group ng-if="vm.sharedFilters" filter-config="vm.sharedFilters" hide-filters="view,template" on-filter-change="go.updateResults()"> </cmp-track-forms-filter-group> </div> </header> <div id="form-data-sort-group" class="gd-row"> <div class="forms-list-filter-header gd-60p"> <ul class="forms-list-filter-tabs"> <li ss-icon-before="calendar-o" ng-class="{\'is-selected\': vm.selectedCategory === \'urgent\'}" ng-click="go.filter(\'urgent\')">Urgent <abbr title="urgent forms count" class="count-display" ng-bind="routeVm.counts._urgent"></abbr></li> <li ss-icon-before="thumbsdown-stripes" ng-class="{\'is-selected\': vm.selectedCategory === \'denied\'}" ng-click="go.filter(\'denied\')" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> Denied<abbr title="denied forms count" class="count-display" ng-bind="routeVm.counts._denied"></abbr> </li> <li ss-icon-before="square-o" ng-class="{\'is-selected\': vm.selectedCategory === \'not-started\'}" ng-click="go.filter(\'not-started\')">Not Started <abbr title="not started forms count" class="count-display" ng-bind="routeVm.counts._notStarted"></abbr></li> <li ss-icon-before="pencil" ng-class="{\'is-selected\': vm.selectedCategory === \'in-progress\'}" ng-click="go.filter(\'in-progress\')">In-Progress <abbr title="in progress forms count" class="count-display" ng-bind="routeVm.counts._inProgress"></abbr></li> <li ss-icon-before="check" ng-class="{\'is-selected\': vm.selectedCategory === \'complete\'}" ng-click="go.filter(\'complete\')">Completed <abbr title="complete forms count" class="count-display" ng-bind="routeVm.counts._complete"></abbr></li> </ul> </div> <div class="sort-by-filter gd-40p"> <span ng-if="vm.selectedCategory === \'complete\' && parentVm.featureFlags[\'fc_include_form_archival_statuses\']" ss-icon="archive"></span> <super-select-list type="filter" label="Archival Status" model="vm.localFilters.archivalStatus" ng-if="vm.selectedCategory === \'complete\' && parentVm.featureFlags[\'fc_include_form_archival_statuses\']"> <super-select-list-item ng-repeat="status in vm.formArchivalStatus" value="status.value" label="status.name"> </super-select-list-item> </super-select-list> <super-select-list type="filter" label="Denied Status" model="vm.localFilters.formStatus" ng-if="go.showFilter()"> <super-select-list-item ng-repeat="filter in vm.statusFilterOptions" ng-if="filter.categories.includes(vm.selectedCategory)" value="filter.value" label="filter.name"> </super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.localFilters.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortOptions" ng-if="sort.categories.includes(vm.selectedCategory) && sort.isVisible" value="sort.value" label="sort.name"> </super-select-list-item> </super-select-list> <super-button label="Bulk Actions" ss-icon-after="angle-down" data-test="bulk-actions-button"> <item ng-click="go.sendReminders()">Send Reminders</item> <item ng-click="go.downloadStatusCsv()">Download Status CSV</item> <item ng-click="go.downloadResponsesXlsx()">Download Responses XLSX</item> <item ng-if="parentVm.featureFlags[\'fc_enable_form_export_to_pdf\']" ng-click="go.printFormToPdf()">Print Forms to PDF</item> </super-button> </div> </div> <div id="form-data-filter-group" class="gd-row"> <div class="gd-30p"> <div class="form-search-filter"> <super-input-text id="search-filter" data-test="search-filter" debounce="750" ss-icon="search" model="vm.localFilters.search">search by employee</super-input-text> </div> </div> </div> <div> <cmp-tracked-form-group current-category="urgent" current-user="routeVm.currentUser" current-page="vm.currentPage" endpoint="go.urgent()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'urgent\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="denied" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.denied()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'denied\' && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="not-started" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.notStarted()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'not-started\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="in-progress" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.inProgress()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'in-progress\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="complete" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.complete()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'complete\'"> </cmp-tracked-form-group> </div> <div id="form-data-filter-group" class="gd-row" ng-if="routeVm.pages > 1"> <div class="form-data-pagination"> <fluid-paginator total-pages="routeVm.pages" current-page="vm.currentPage" on:current-page-change="go.changePage($event)"></fluid-paginator> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){
e.put("routes/form-tracking/view-by-subject/segment-content/content.html",'<div class="segment-form-tracking-view-by-subject-content"> <header> <h1 data-test="track-forms-header-main">Track Forms</h1> <div class="filter-row-group"> <cmp-track-forms-filter-group filter-config="vm.filterConfig" on-filter-change="go.updateResults()"></cmp-track-forms-filter-group> </div> </header> <div id="form-data-sort-group" class="gd-row"> <div class="forms-list-filter-header gd-60p"> <ul class="forms-list-filter-tabs"> <li ss-icon-before="calendar-o" ng-class="{\'is-selected\': vm.selectedCategory === \'urgent\'}" ng-click="go.filter(\'urgent\')">Urgent <abbr title="urgent forms count" class="count-display" ng-bind="routeVm.counts._urgent"></abbr></li> <li ss-icon-before="thumbsdown-stripes" ng-class="{\'is-selected\': vm.selectedCategory === \'denied\'}" ng-click="go.filter(\'denied\')" ng-if="!routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> Denied<abbr title="denied forms count" class="count-display" ng-bind="routeVm.counts._denied"></abbr></li> <li ss-icon-before="square-o" ng-class="{\'is-selected\': vm.selectedCategory === \'not-started\'}" ng-click="go.filter(\'not-started\')">Not Started <abbr title="not started forms count" class="count-display" ng-bind="routeVm.counts._notStarted"></abbr></li> <li ss-icon-before="pencil" ng-class="{\'is-selected\': vm.selectedCategory === \'in-progress\'}" ng-click="go.filter(\'in-progress\')">In-Progress <abbr title="in progress forms count" class="count-display" ng-bind="routeVm.counts._inProgress"></abbr></li> <li ss-icon-before="check" ng-class="{\'is-selected\': vm.selectedCategory === \'complete\'}" ng-click="go.filter(\'complete\')">Completed <abbr title="complete forms count" class="count-display" ng-bind="routeVm.counts._complete"></abbr></li> </ul> </div> <div class="sort-by-filter gd-40p"> <span ng-if="vm.selectedCategory === \'complete\' && parentVm.featureFlags[\'fc_include_form_archival_statuses\']" ss-icon="archive"></span> <super-select-list type="filter" label="Archival Status" model="vm.localFilters.archivalStatus" ng-if="vm.selectedCategory === \'complete\' && parentVm.featureFlags[\'fc_include_form_archival_statuses\']"> <super-select-list-item ng-repeat="status in vm.formArchivalStatus" value="status.value" label="status.name"> </super-select-list-item> </super-select-list> <super-select-list type="filter" label="Denied Status" model="vm.localFilters.formStatus" ng-if="go.showFilter()"> <super-select-list-item ng-repeat="filter in vm.statusFilterOptions" ng-if="filter.categories.includes(vm.selectedCategory)" value="filter.value" label="filter.name"> </super-select-list-item> </super-select-list> <super-select-list type="filter" label="Sort by" model="vm.localFilters.sortBy"> <super-select-list-item ng-repeat="sort in vm.sortOptions" ng-if="sort.categories.includes(vm.selectedCategory) && sort.isVisible" value="sort.value" label="sort.name"> </super-select-list-item> </super-select-list> <super-button label="Bulk Actions" ss-icon-after="angle-down" data-test="bulk-actions-button"> <item ng-click="go.sendReminders()">Send Reminders</item> <item ng-click="go.downloadStatusCsv()">Download Status CSV</item> <item ng-if="parentVm.featureFlags[\'fc_enable_form_export_to_pdf\']" ng-click="go.printFormToPdf()">Print Forms to PDF</item> </super-button> </div> </div> <div id="form-data-filter-group" class="gd-row"> <div class="gd-30p"> <div class="form-search-filter"> <super-input-text id="search-filter" data-test="search-filter" debounce="750" ss-icon="search" model="vm.localFilters.search">search by employee</super-input-text> </div> </div> </div> <div> <cmp-tracked-form-group current-category="urgent" current-user="routeVm.currentUser" current-page="vm.currentPage" endpoint="go.urgent()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'urgent\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="denied" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.denied()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'denied\' && !routeVm.featureFlags[\'fc_enhanced_denied_form_workflow\']"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="not-started" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.notStarted()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'not-started\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="in-progress" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.inProgress()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'in-progress\'"> </cmp-tracked-form-group> <cmp-tracked-form-group current-category="complete" current-page="vm.currentPage" current-user="routeVm.currentUser" endpoint="go.complete()" filters="vm.filterConfig" ng-if="vm.selectedCategory === \'complete\'"> </cmp-tracked-form-group> </div> <div id="form-data-filter-group" class="gd-row" ng-if="routeVm.pages > 1"> <div class="form-data-pagination"> <fluid-paginator total-pages="routeVm.pages" current-page="vm.currentPage" on:current-page-change="go.changePage($event)"></fluid-paginator> </div> </div> </div>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-attachments/attachments.html",'<section class="segment-inbox-form-instance-attachments"> <header class=""> <h4 class="">Attachments</h4> </header> <main class="main-content" ss-pending="vm.loading"> <div class="pad-12"> <ul class="form-attachment-list" ng-if="vm.files.length && !vm.loading"> <li class="list-item form-attachment-item" ng-repeat="attachment in vm.files"> <i ss-icon="{{ attachment.icon }}"></i> <a class="document" ng-bind="attachment._filename" ng-click="go.download(attachment)" title="Open {{attachment._filename}}" target="_blank"></a> </li> </ul> <p class="" ng-if="!vm.files.length && !vm.loading">No attachments</p> </div> </main> </section>')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-close/close.html",'<div class="segment-inbox-form-instance-close"> <div class="app-title"><h1>Frontline Central</h1></div> <div class="close"> <super-button class="delete-button" neg ng-if="go.showDelete()" label="Delete" ng-click="go.deleteForm()" ng-class="{\'saving\': vm.deleting}" ss-icon="spinner" ng-disabled="vm.deleting" data-qa="form-instance-delete-button"></super-button> <super-button class="print-button" label="print form" is-disabled="routeVm.showPDFOverlay" ng-click="go.print()" data-qa="form-instance-print-button"></super-button> <super-button class="save-button" label="save progress" ng-if="!vm.formIsComplete && vm.fromView !== \'sent\'" ng-click="go.save()" data-qa="form-instance-save-button"></super-button> <button type="button" class="close-x" ng-click="go.close()" ss-tooltip="close" data-qa="form-instance-close-button"></button> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-form/form.html",'<div class="segment-inbox-form-instance-form" ss-pending="vm.loading"> <form autocomplete="off" ss-validate-form ng-submit="go.submitForm(vm.selectedStep)"> <ul class="fb-steps"> <li class="fb-step" ng-class="{\'is-hover\': step.hoverState,\'is-selected\': vm.selectedStep === step}" ng-repeat="step in vm.steps" ng-click="go.selectFormObject($index, step)" ng-if="!vm.loading && vm.steps" data-qa="step-{{ step.id }}" ng-keypress="$event.stopPropagation()" id="fb-step-{{$index}}"> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction !== vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title" data-qa="step-title">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <p ng-if="step._instructions" ng-bind="step._instructions" data-qa="step-instructions"></p> </div> <ul class="fb-fields"> <li class="fb-field" ng-repeat="group in step.fieldGroups" ng-click="go.fieldGroupSettings($event, group)"> <ul><li> <cmp-field-renderer ng-repeat="field in group" field="field" group="group" org="routeVm.org" ignore-validations="go.ignoreValidations(step, vm.selectedStep)" ng-style="{width: field.config.width}"></cmp-field-renderer> </li></ul> </li> </ul> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step.showFormEntry" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.submitStep(step)" data-qa="submit-step-button"></super-button> </div> </div> <div ng-if="step.showReviewForm" class="review-form step-action"> <div class="buttons"> <super-button pri label="Form Has Been Reviewed" type="submit" ng-click="go.acknowledgeStep(step)" data-qa="review-step-button"></super-button> </div> </div> <div ng-if="step.showReviewApproveOrDeny" class="approve-deny step-action"> <div class="buttons"> <super-button pri label="Approve Form" type="submit" ng-click="go.approveStep(step)" data-qa="approve-step-button"></super-button> <super-button neg label="Deny Form" type="submit" ng-click="go.denyStep(step)" data-qa="deny-step-button"></super-button> </div> </div> </div> </fieldset> <fieldset ng-disabled="step.disabled" ng-if="step._stepAction === vm.employeeProfileReview"> <div class="fb-step-header"> <h4 class="fb-step-title">Review Employee Profile Updates</h4> <p data-qa="step-instructions">The following will be updated in <b>{{routeVm.formInstance._employee.name}}\'s</b> employee profile:</p> </div> <table class="form-review-fields fb-fields" ng-if="step.instance._employeeProfileReviewStepFieldValues.length > 0"> <thead class="form-review-fields-head"> <tr> <th>&nbsp;</th> <th class="current">Current</th> <th class="will-change-to">Will Change To</th> <th class="update-profile">Update <br>Profile</th> </tr> </thead> <tbody class="form-review-fields-body"> <tr ng-repeat="employeeProfileReviewStepField in step.instance._employeeProfileReviewStepFieldValues"> <td class="step-field"> <div ng-bind="employeeProfileReviewStepField.sourceField.step._name"></div> <div class="field-label" ng-bind="employeeProfileReviewStepField.sourceField._label"></div> </td> <td class="current" data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" ng-bind="go.profileValueDisplay(employeeProfileReviewStepField, step)"></td> <td class="will-change-to"> <cmp-field-renderer field="employeeProfileReviewStepField.sourceField" ignore-validations="ignoreValidations"></cmp-field-renderer></td> <td class="update-profile"><super-input-checkbox data-qa="{{ employeeProfileReviewStepField.sourceFormFieldId }}" is-disabled="step._stepAction !== vm.employeeProfileReview || routeVm.formInstance._statusId === vm.formComplete" model="employeeProfileReviewStepField.updateEmployeeProfile"></super-input-checkbox></td> </tr> </tbody> </table> <div class="actions"> <super-input-textarea label="Comments - Visible to all participants" model="step.instance._stepComments" edit-mode="step.editMode" is-disabled="step.disabled"></super-input-textarea> <div ng-if="step._stepAction === vm.employeeProfileReview && routeVm.formInstance._statusId !== vm.formComplete" class="form-entry step-action"> <div class="buttons"> <super-button pri label="Submit Form" type="submit" ng-click="go.reviewProfile(step)"></super-button> </div> </div> </div> </fieldset> </li> <li class="fb-step" ng-if="!vm.loading && !vm.steps.length"> <div class="fb-step-header"> <h4 class="fb-step-title">No Steps Found</h4> </div> <ul class="fb-fields"> <li class="fb-field">Either there was a problem retrieving workflow steps for this form, or you do not have permission to see any steps.</li> </ul> </li> </ul> </form> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-header/header.html",'<div class="segment-inbox-form-instance-header"> <div class="gd-row form-header-wrapper"> <div class="form-header-group form-info-group"> <h2 ss-icon="{{routeVm.formTemplate._isEmployeeInitiated ? \'li-form-e-large\' : \'li-form-large\'}}" class="form-instance-title" ng-bind="routeVm.formInstance.name" data-qa="form-instance-title"></h2> <ul class="form-meta ss-pipe-children"> <li class="form-meta-item"><abbr class="form-instance-version" title="version {{routeVm.formTemplate._templateVersion || 1}}">v{{routeVm.formTemplate._templateVersion || 1}}</abbr></li> <li class="form-meta-item">sent {{routeVm.formInstance.sentDate}} by {{routeVm.formInstance._creator.name}}</li> </ul> <p ng-if="routeVm.formTemplate._instructions" ng-bind="routeVm.formTemplate._instructions"></p> </div> <div class="form-header-group form-controls-group"> <div class="form-control-group sensitive-field-toggle-control-group" data-qa="sensitive-field-toggle-control-group" ng-if="vm.hasSensitiveFields"> <label for="sensitive-field-toggle">display sensitive info</label> <fluid-toggle label="\'this control will toggle the visibility of sensitive fields\'" checked="false" warning="" on:checked-change="go.toggleSensitiveFields($event)" is-disabled="vm.loading"></fluid-toggle> </div> <div class="form-control-group form-display-control-group" ng-if="routeVm.hasPDFOverlay"> <super-button ng-class="{active: !routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = false)" label="Web Form" smp></super-button><super-button ng-class="{active: routeVm.showPDFOverlay}" ng-click="go.toggleFormView(showPDF = true)" label="PDF Overlay" smp></super-button> </div> </div> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/inbox/form-instance/segment-steps/steps.html",'<section class="segment-inbox-form-instance-steps"> <header class=""> <h4 class="">Form Workflow</h4> </header> <main class="main-content" ss-pending="vm.loading"> <ul class="fb-steps-summary" ng-if="!vm.loading && vm.steps.length"> <li class="fb-summary-step" ng-class="{\n\t\t\t\t\t\'is-hover\': step.hoverState,\n\t\t\t\t\t\'is-selected\': vm.selectedStep === step,\n\t\t\t\t\t\'is-disabled\': step.disabled\n\t\t\t\t}" ng-repeat="step in vm.steps" ng-mouseenter="step.hoverState = true" ng-mouseleave="step.hoverState = false" ng-click="go.selectStep($index, step)"> <h4 class="step-heading">Workflow Step {{$index + 1}} <span ng-if="step._name">- {{step._name}}</span></h4> <dl class="step-summary-list pad-12" ng-show="vm.selectedStep === step" ng-cloak> <dt>main participant</dt> <dd> <ul class="fb-step-meta"> <li class="list-item-row" ss-icon="user" ng-if="step.instance._stepParticipant.name" ng-bind="step.instance._stepParticipant.name"></li> <li class="list-item-row" ng-if="step.stepActionName"> <ul class="ss-pipe-children"> <li class="item" ss-icon="wrench" ng-if="step.stepActionName" ng-bind="step.stepActionName"></li> <li class="item" ss-icon="key" ng-if="step.participantPermission.length" ng-bind="step.participantPermission"> </li> </ul> </li> </ul> </dd> <dt>other participants</dt> <dd ng-if="step.otherParticipants.length"> <ul class="fb-step-meta"> <li class="list-item-row" ng-repeat="other in step.otherParticipants"> <ul class="ss-pipe-children"> <li ss-icon="user" ng-bind="other.name" title="{{other.name}}"></li> <li ss-icon="key" ng-bind="other.permissions" title="{{other.name}}"></li> </ul> </li> </ul> </dd> <dd ng-if="!step.otherParticipants.length">No additional participants</dd> </dl> </li> <li class="fb-summary-step" ng-if="!vm.loading && !vm.steps.length"> <div class="pad-box"><p>No Workflow Steps found</p></div> </li> </ul> </main> </section> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/builder/segment-builder/builder.html",'<div class="segment-packet-builder-builder-builder" ss-pending="packetVm.saving"> <div class="gd-row"> <section class="gd-55p"> <div class="filters"> <div class="search-form"> <super-input-text model="vm.search" ss-icon="li-search" data-qa="packet-template-search-form">Find Form</super-input-text> </div> <div class="gd-row"> <div class="gd-50p select-filter-category"> <super-select-list label="Filter Category" type="filter" model="vm.selectedCategory"> <super-select-list-item label="\'All\'" value="\'All\'"></super-select-list-item> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> <div class="gd-50p select-filter-sortby"> <super-select-list label="Sort By" type="filter" model="vm.sortBy"> <super-select-list-item ng-repeat="option in vm.sortCriteria" label="option.name" value="option.field"></super-select-list-item> </super-select-list> </div> </div> </div> <div ss-pending="vm.loading" ss-pending-status="\'Loading form templates...\'"> <ul class="gd-row ss-panel-list form-list-full"> <li ng-if="!vm.loading && !vm.forms.length">No forms found</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in vm.forms" dnd-draggable="form" dnd-type="\'formType\'" dnd-effect-allowed="copyMove" dnd-disable-if="form.inPacket"> <div class="form-icon"><i class="icon" ss-icon="li-form-large"></i> </div> <div class="form-info"> <h4><a href="" ng-click="go.preview(form)" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong></h4> <ul class="form-meta-info ss-pipe-children"> <li class="form-meta-item" ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover ng-if="form._steps.length > 0"> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize> </h6> <ol class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted" title="{{step.participantLabel}} | {{step.stepActionLabel}}"><span>{{step.participantLabel}} | {{step.stepActionLabel}}</span></li> </ol> </super-popover> </li> <li class="form-meta-item" ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o">PDF Overlay available</li> </ul> </div> <div class="action"> <p id="form-added-status" class="form-added" ng-if="form.inPacket" ss-icon="check" role="status" aria-label="form has been added">Added</p> <super-button ng-if="!form.inPacket" ng-click="go.add($index, form)" label="Add" aria-controls="form-added-status"></super-button> </div> </li> </ul> </div> <div class="infinite-scrolling" ng-if="vm.showInfScroll" infinite-scroll="go.scrollData()" ss-pending="vm.scrolling" ss-pending-status="\'Loading form templates...\'" infinite-scroll-distance="0.5"></div> </section> <section class="added-packets gd-45p" ss-window-anchor> <h3 ss-icon="li-packet-large">Packet</h3> <div ss-pending="vm.loadingPacket" ss-pending-status="\'Loading packet...\'"> <ul class="form-list-added" dnd-list="added" dnd-drop="go.dropForm(event, index, type, item)" dnd-allowed-types="[\'formType\', \'addedType\']"> <li ng-if="!vm.loadingPacket && !added.length">There are no forms in this packet</li> <li class="gd-row auto-{{ form.id }}" ng-repeat="form in added" dnd-draggable="form" dnd-type="\'addedType\'" dnd-moved="go.moveForm($index, form)" dnd-effect-allowed="move"> <h4><a href="" ng-click="go.preview(form)" ng-bind="form._name"></a>&nbsp;<strong class="form-status" ng-if="form.status !== \'active\'" ng-class="{\'{{form.status}}\': form.status}" ng-bind="form.statusLabel"></strong></h4> <ul class="gd-85p form-meta-info ss-pipe-children"> <li class="form-meta-item" ng-if="form._steps.length"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <h6>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></h6> <ol class="popover-step-list"> <li ng-repeat="step in form._steps" ng-if="step._stepAction !== vm.stepAction.formCompleted" title="{{step.participantLabel}} | {{step.stepActionLabel}}"><span>{{step.participantLabel}} | {{step.stepActionLabel}}</span></li> </ol> </super-popover> </li> <li class="form-meta-item" ng-if="form._modifiedDt">Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</li> <li class="form-meta-item" ng-if="form._hasPrintPreviewDefinition" ss-icon="file-pdf-o"> PDF Overlay available</li> </ul> <div class="form-remove gd-15p" ng-click="go.remove($index, form)"> <button class="action" ss-icon="minus-circle" aria-controls="form-added-status" aria-label="remove {{form._name}}"></button> </div> </li> </ul> </div> </section> </div> </div> ')}])}(),function(e){try{e=angular.module("ec-forms-templates")}catch(t){e=angular.module("ec-forms-templates",[])}e.run(["$templateCache",function(e){e.put("routes/packet-builder/settings/segment-settings/settings.html",'<div class="segment-packet-builder-settings-settings"> <section class="gd-row category"> <div class="gd-25p"> <h4>Category<em class="required" aria-label="category is required"></em></h4> </div> <div class="gd-75p"> <super-select-list model="vm.packet._category.id"> <super-select-list-item ng-repeat="category in vm.categories" value="category.value" label="category.name"></super-select-list-item> </super-select-list> </div> </section> <section class="gd-row"> <div class="gd-25p"> <h4><i>"Packet Ready"</i> Message</h4> <em class="section-subhead">Initial step ready notifications for forms in this packet will be suppressed when this packet is sent.</em> </div> <div class="gd-55p"> <div class="step-notification-message-group" data-qa="packet-ready-message-group"> <p class="message-preview-header"><i>"packet ready"</i> email message preview:</p> <div class="message-preview-body"> <p class="message-prefix"><i ng-bind="vm.packet._startupEmail.notificationPrefix"></i></p> <ul class="forms-list" ss-pending="vm.loading" ss-pending-status="\'loading forms in packet...\'" aria-busy="vm.loading"> <li ng-repeat="form in vm.forms"><i ng-bind="form._name"></i></li> </ul> <p><super-input-textarea id="message-textarea" model="vm.packet._startupEmail.message" ng-if="vm.packet._startupEmail.useStartupEmail" placeholder="Type optional custom message here"></super-input-textarea></p> <div><small class="message-suffix"><i ng-bind="vm.packet._startupEmail.notificationSuffix"></i></small></div> </div> <super-input-checkbox class="add-step-message" label="Customize Packet Message" model="vm.packet._startupEmail.useStartupEmail" aria-controls="message-textarea"></super-input-checkbox> </div> </div> </section> <section class="gd-row workflow"> <div class="gd-25p"> <h4>Packet Workflow &amp; Notifications</h4> <em class="section-subhead"><i>"Step Ready"</i> email notifications to the primary recipient of the first step and <i>"Form Complete"</i> email notifications to sender are suppressed for any form in a packet</em> </div> <div class="gd-75p"> <ul class="packet-forms-list" ss-pending="vm.loading" ss-pending-status="\'loading forms in packet...\'" aria-busy="vm.loading"> <li class="form" ng-repeat="form in vm.forms"> <p class="form-name" ng-bind="form._name" ss-icon-before="li-form-large"></p> <div class="form-meta-info"> <span ng-if="form._steps.length > 0"> Workflow ({{form._steps.length - 1}} <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize>) <super-popover> <div> <p>Workflow <ng-pluralize count="form._steps.length - 1" when="{\'1\': \'Step\', \'other\': \'Steps\'}"></ng-pluralize></p> <ul class="popover-step-list"> <li ng-repeat="step in form.steps"> <span ng-bind="{{$index + 1}}"></span>) <span class="ss-pipe-right" ng-bind="step._stepParticipant.participantType | enumByValue:\'stepParticipantType\'"></span><span ng-bind="step._stepAction | enumByValue:\'stepAction\'"></span> </li> </ul> </div> </super-popover> | </span> <span>Modified {{form._modifiedDt | date:\'MM/dd/yyyy\'}} by {{form._modifier.name}}</span> </div> </li> </ul> </div> </section> </div> ')}])}()},{}],82:[function(e,t,n){"use strict";function r(e,t,n){var r=e.createElement("script");r.type="text/javascript",r.async=!1,r.src=o+"/ckFinder/ckfinder.js",e.getElementsByTagName("head")[0].appendChild(r),r.onload=function(){CKFinder.start({id:t,token:n,pass:"token"})}}var i=e("base-state"),a={},o=localStorage["assets.uiModules.ec-forms"]||window.ss.env.manifest["ec-forms"].path.app.replace("/app.js",""),s={url:"/ck-finder",templateUrl:"routes/ck-finder/ck-finder.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp","ssAuthSvc",function(e,t,n,i){return e(regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:a.org=e.sent,o=i.token.access,angular.module("ec-forms").run(r(window.document,a.org.id,o)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))()}],$title:function(){return"Frontline Central - CkFinder"}}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.ckfinder",new i.State(s,a))}])},{"base-state":66}],83:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],addingFields:!1,featureFlags:{isHRMSEnabled:!1,isFCSystemOfRecord:!1,fc_oct_2020_phone_email_type_restriction:!1,fc_apr_2021_enable_preferred_staff_member_name:!1,fc_enable_contract_groups:!1,fc_enable_multiple_races:!1,fc_enable_form_tables:!1,fc_work_relationships:!1},props:!1},a={url:"/builder?deactivate",templateUrl:"routes/form-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Form Builder)"}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.builder",new r.State(a,i))}])},{"base-state":66}],84:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$location","ssAsync","ssFormTemplatesApi","ssEventSvc","ssEnum","formsHlp","fieldsHlp","ssArrayHlp","ssToastHlp","ssModalSvc",function(e,t,n,i,a,o,s,l,c,p,u,d,m,f){function g(){var e=k.steps.find(function(e){return e._stepAction===c.stepAction.formCompleted});null==e?(e=k.steps.pop(),e.last=!0,e._stepAction=c.stepAction.formCompleted,e._stepParticipant.participantType=k.stepParticipant.employeeChosenWhenSent,e._name="Form and Workflow is Complete"):(e.last=!0,k.steps.splice(k.steps.indexOf(e),1)),e._stepParticipant.participantType=k.stepParticipant.employeeChosenWhenSent,k.lastStep=e}function b(){if(k.reviewStep=S(k.form._steps),O=v(),k.reviewStep)k.steps.splice(k.steps.indexOf(k.reviewStep),1);else{if(!O.length)return;y(!0)}}function v(){var e=[];return k.steps.forEach(function(t){t.fieldGroups.length>0&&t.fieldGroups.forEach(function(t){var n=t.map(function(e){if(!0===e._updateEmployeeRecord)return e._fieldGroup});e=e.concat(n)})}),d.unique(e.filter(function(e){return null!=e}))}function y(e){if(e)null==S(k.form._steps)&&h();else{if(e||!(O.length<1))return;_()}T.modelChanged()}function h(){var e=p.makeStep({_name:"Review Profile Updates",_stepAction:c.stepAction.employeeProfileReview,_stepEvents:[{eventType:k.stepEventType.onEmployeeProfileReview,eventActions:[]}],_permissions:[{canView:!0,canEdit:!0,canViewSensitive:!0,canEditSensitive:!0,employeeId:""}]});k.form._steps.splice(k.form._steps.length-1,0,e),k.reviewStep=e}function _(){var e=k.form._steps.find(function(e){return e._stepAction===c.stepAction.employeeProfileReview});null!=e&&(k.form._steps.splice(k.form._steps.indexOf(e),1),k.reviewStep=null)}function w(e,t){e?O.includes(t[0]._fieldGroup)||O.push(t[0]._fieldGroup):O.includes(t[0]._fieldGroup)&&O.splice(O.indexOf(t[0]._fieldGroup),1)}function S(e){return e.find(function(e){return e._stepAction===c.stepAction.employeeProfileReview})}var P=t.routeVm,T=t.formVm,x=(e.get("segmentFormBuilderBuilderBuilderLogic"),null),O=[],k=t.vm=P.vm={form:T.formData,steps:[],selectedFormObject:null,stepAction:c.stepAction,stepEventType:c.stepEventType,stepParticipant:c.stepParticipantType},D=t.go={stepSettings:function(e,n){k.selectedFormObject=e,e.index=n+1,t.$emit("component-properties","cmp-properties-step",e)},formComplete:function(){k.selectedFormObject=k.lastStep,t.$emit("component-properties","cmp-properties-form-complete",k.lastStep)},reviewStep:function(){k.selectedFormObject=k.reviewStep,t.$emit("component-properties","cmp-properties-profile-review",k.reviewStep)},addStep:function(){var e=k.form._steps.length,t=p.makeStep();k.form._steps.splice(e-1,0,t),k.steps.push(t),T.modelChanged(),D.stepSettings(t,k.steps.length-1)},movedStep:function(e,t){k.steps[x]=t,k.steps.splice(e,1)},dropStep:function(e,t,n){return T.modelChanged(),x=t,{}}};T.updateStepOrder=function(){return p.updateStepOrder(k.form,k.steps)},T.updateFieldOrder=function(){return p.updateFieldOrder(k.steps)},T.addStepIdToField=function(){return u.addStepIdToField(k.steps)},T.updateFormFields=function(){var e,t=k.steps.reduce(function(e,t){return[].concat.apply(e,t.fieldGroups)},[]),n=k.form._formFields.filter(function(e){return e._tokenField&&!0===e._tokenField}),i=[].concat(r(t),r(n));(e=k.form._formFields).splice.apply(e,[0,k.form._formFields.length].concat(r(i)))},l.on("ss-json-api.addedRecord.formFields",function(e,t){var n=k.steps.find(function(t){return t.id===e._step.id});if(null!=n){var r=n.fieldGroups.findIndex(function(t){return t.includes(e)});if(-1!==r){
var i=n.fieldGroups[r].indexOf(e);-1!==i&&(n.fieldGroups[r][i]=t)}}},t),l.on("ss-json-api.addedRecord.steps",function(e,t){var n=k.steps.indexOf(e);-1!==n&&(k.steps[n]=t)},t),l.on("emp-record-commit",function(e,t){w(e,t),y(e)},t),T.processTemplate=function(){return o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.form.$refresh();case 2:return n=[],k.steps=[],p.sortByOrderField(k.form._steps,k.form._stepOrder),k.form._steps.forEach(function(e){e.fields=[],k.steps.push(e)}),k.steps.forEach(function(e){e.fieldGroups=[],e.fields=k.form._formFields.filter(function(t){return!t._tokenField&&t._step&&t._step.id===e.id}),p.sortByOrderField(e.fields,e._fieldOrder),e.fields.forEach(function(t){if(null!=t._fieldGroup&&(P.added[t._fieldGroup]=!0),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(t._fieldDefId)&&null!==t._fieldGroup&&(t._fieldGroup=null),null!=t._fieldDefId){var i=u.updateFieldAttributes(t),a=u.updateFieldOptions(t);n=[].concat(r(i),r(a))}if("super-input-datepicker"===t._fieldType&&(t._fieldType="super-iso-org-date"),0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var o=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&o[0]._fieldGroup===t._fieldGroup?o.push(t):e.fieldGroups.push([t])}),delete e.fields}),g(),b(),n.length&&n.forEach(function(e){e.$isDirty&&e.$$forceChangedState("_options")}),e.next=12,k.form.$save();case 12:p.initSaveInterrupter(k.form),t.$emit("component-properties","cmp-properties-step",k.form._steps[0]);case 14:case"end":return e.stop()}},e,this)}))()},o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"true"!==i.deactivate&&k.form._statusId!==c.formTemplateStatus.active||(t={title:"Edit Form Template",content:"This is an active template and will need to be deactivated to continue",primaryText:"Deactivate and continue",secondaryText:"Cancel",alwaysOnTop:!0},f.showStandard(t).then(function(){T.loading=!0,T.loadingMsg='Deactivating "'+k.form._name+'"',s.editActive(k.form).then(function(e){a.url("/ec-forms/form-builder/"+e.id+"/builder")}).catch(function(e){m.error("there was an error deactivating the form template",""),n.go("base.formTemplates")})}).catch(function(){n.go("base.formTemplates")})),T.loading=!0,T.loadingMsg="loading form template...",T.modelChanged(!1),Object.keys(P.added).forEach(function(e){return P.added[e]=!1}),e.next=8,T.processTemplate();case 8:T.loading=!1,T.loadingMsg="",D.stepSettings(k.steps[0],0),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),T.loading=!1,T.loadingMsg="",console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,13]])}))()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderBuilder",function(){return new c("builder")})},{"base-segment":65}],85:[function(e,t,n){"use strict";function r(e){return{}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderBuilderLogic",r)},{}],86:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-segment"),p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssArrayHlp","ssStorage","ssMultiInitiativeFeatureDetectorCCSvc","ngIntroService",function(e,t,n,i,a,o,l){function c(e){return!e.featureFlag||(t.featureFlags[e.featureFlag.name]?e.featureFlag.showIfActive:!e.featureFlag.showIfActive)}function p(){var e=[],t={},n=!0,a=!1,o=void 0;try{for(var l,c=Object.entries(d.fields)[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var p=s(l.value,2),u=(p[0],p[1]);e=[].concat(r(e),r(u.filter(function(e){return e.featureFlag}).map(function(e){return e.featureFlag.name})))}}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return i.unique(e).forEach(function(e){t[e]="false"}),t}var u=t.routeVm;e.get("segmentFormBuilderBuilderFieldsLogic");t.ngIntroService=l,t.ssStorage=a,t.featureFlags={};var d=t.vm={fields:{custom:[{component:"cmp-properties-custom-input",fields:"custom_input",label:"Input"},{component:"cmp-properties-custom-dropdown",fields:"custom_dropdown",label:"Dropdown"},{component:"cmp-properties-custom-selectbox",fields:"custom_selectGroup",label:"Multiple Choice"},{component:"cmp-properties-custom-signature",fields:"custom_signatures",label:"Signatures"},{component:"cmp-properties-custom-date",fields:"custom_date",label:"Date"},{component:"cmp-properties-custom-fileupload",fields:"custom_fileUpload",label:"File Upload"},{component:"cmp-properties-custom-filelink",fields:"custom_fileLink",label:"Link"},{component:"cmp-properties-custom-text",fields:"custom_text",label:"Simple Text"},{component:"",fields:"custom_textEditor",label:"Text Editor"}],employee:[{component:"cmp-properties-smart",fields:"legalName",label:"Legal Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"aliasName",label:"Other Name",allowMultiple:!1},{component:"cmp-properties-smart",fields:"address",label:"Address",allowMultiple:!1},{component:"cmp-properties-smart",fields:"contact",label:"Contact",allowMultiple:!1},{component:"cmp-properties-smart",fields:"personal",label:"Personal",allowMultiple:!1},{component:"cmp-properties-credentials",fields:"credentials",label:"Credentials",allowMultiple:!1,featureFlag:{name:"isCredentialsFormGroupEnabled",showIfActive:!0}},{component:"cmp-properties-smart",fields:"employment",label:"Employment",allowMultiple:!1},{component:"cmp-properties-primary-assignment",fields:"primaryAssignmentNew",label:"Primary Assignment",allowMultiple:!1},{component:"cmp-properties-secondary-assignments",fields:"assignments",label:"Secondary Assignments",allowMultiple:!1},{component:"cmp-properties-supplementals",fields:"supplementals",label:"Supplementals",allowMultiple:!1,featureFlag:{name:"fc_feb_2021_enable_employee_supplementals",showIfActive:!0}},{component:"cmp-properties-salary",fields:"assignmentsTotalSalary",label:"Total Salary",allowMultiple:!1,showIfHRMS:!1},{component:"cmp-properties-smart",fields:"financial",label:"Financial",allowMultiple:!1,showIfHRMS:!1},{component:"cmp-properties-smart",fields:"emergency",label:"Emergency",allowMultiple:!1,showIfHRMS:!1}]}};t.go={filterEmployeeRecordTools:function(e){return u.featureFlags.isHRMSEnabled&&e.hasOwnProperty("showIfHRMS")?e.showIfHRMS:c(e)}};n(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.featureFlags=Object.assign(t.featureFlags,p()),e.next=4,o.resolveAll(t.featureFlags);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}]},{key:"link",value:function(e,t){angular.element(document).ready(function(){!function(){var t=[];t.length>0&&(e.ngIntroService.setOptions({steps:t,doneLabel:"Got it!",showBullets:!1,showStepNumbers:!1,disableInteraction:!0}),e.ngIntroService.onExit(function(){}))}()})}}]),t}(c.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderFields",function(){return new p("fields")})},{"base-segment":65}],87:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderFieldsLogic",r)},{}],88:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$element","$compile","$animate",function(e,t,n,r,i){var a=(t.routeVm,e.get("segmentFormBuilderBuilderPropertiesLogic"),t.formVm),o={left:"-120%"},s={left:0},l=void 0,c=!1,p=document.getElementsByClassName("view-props")[0],u=angular.element(p),d=void 0;t.vm={form:a.formData};t.formVm.suppressEditAccessModal=!1,t.$on("$destroy",t.$root.$on("component-properties",function(e,a,p){if(t.data!==p||!c){if(!a)return void(c&&i.animate(n,s,o,"",{duration:"0.3"}).then(function(){i.leave(d),u.html(""),c=!1}));null!=l&&l.$destroy(),l=t.$new(!1),t.data=p;var m="fields",f=a;["cmp-properties-step","cmp-properties-form-complete","cmp-properties-profile-review"].includes(a)&&(m="step"),c?i.animate(n,s,o,"",{duration:"0.3"}).then(function(){u.html(""),i.leave(d).then(function(){d=r("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l),i.enter(d,u).then(function(){i.animate(n,o,s,"",{duration:"0.3"})})})}):(d=r("<"+f+" "+m+'="data" form="vm.form"></'+f+">")(l),i.enter(d,u).then(function(){i.animate(n,o,s,"",{duration:"0.3"})}),c=!0),e.stopPropagation()}}))}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderBuilderProperties",function(){return new l("properties")})},{"base-segment":65}],89:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderBuilderPropertiesLogic",r)},{}],90:[function(e,t,n){"use strict";var r=e("base-state"),i=e("../../components/cmp-text-editor/plugins/placeholder_select.js"),a={},o={url:"/form-builder/{formId:[0-9A-Za-z-]+}",templateUrl:"routes/form-builder/form-builder.html",resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","ssOrganizationSvc",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory"});case 3:return a.formData=t.sent,t.next=6,r.getActiveOrg();case 6:a.org=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}))()}],$title:["form",function(e){return"Frontline Central - "+a.formData._name}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formInstances","send")}};angular.module("ec-forms").run(function(e){var t=e.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cdn.ckeditor.com/4.13.1/full-all/ckeditor.js",e.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){CKEDITOR.plugins.add(i.PLUGIN_DEF.name,i.PLUGIN_DEF.definition)}}(window.document)),angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder",new r.State(o,a))}])},{"../../components/cmp-text-editor/plugins/placeholder_select.js":57,"base-state":66}],91:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isHRMSEnabled:!1,fc_oct_2020_phone_email_type_restriction:!1,fc_apr_2021_enable_preferred_staff_member_name:!1,fc_enable_contract_groups:!1,fc_enable_multiple_races:!1,fc_work_relationships:!1}},a={url:"/overlay-builder",templateUrl:"routes/form-builder/overlay-builder/overlay-builder.html",resolve:{getTemplate:["$rootScope","$stateParams","ssPermissionsSvc","ssAsync","ssFormTemplatesApi",function(e,t,n,r,a){return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.formId){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,a.get({id:t.formId,include:"steps,formFields,files"});case 4:i.formTemplate=r.sent,i.canViewOverlayBuilder=n.isPermittedAction("formTemplates","buildOverlay")||!!e.isPermitted.activeUser.idmAdministrator;case 6:case"end":return r.stop()}},r,this)}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return!!e.permittedActions.activeUser.idmAdministrator||!!e.permittedActions.formTemplates.buildOverlay}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.overlayBuilder",new r.State(a,i))}])},{"base-state":66}],92:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssArrayHlp","ssStringHlp","formsHlp","fieldsHlp",function(e,t,n,i,a,o,s){function l(e,t){var n=null==t?e.id:e.id+"_"+t.name,r=b.selectedBox.formFieldGuids.indexOf(n);r>=0?b.selectedBox.formFieldGuids.splice(r,1):b.selectedBox.formFieldGuids.push(n)}function c(e,t){b.selectedBox.formFieldGuids=[e.id],null!=t&&(b.selectedBox.matchValue=t)}function p(e){S.forEach(function(t){switch(b.selectedBox.type){case"text":t.isAdded=e.includes("{{"+t.uniqueId+"}}"),t.config&&t.config.hasOwnProperty("mappableMetaData")&&t.config.mappableMetaData.forEach(function(n){n.isAdded=e.includes("{{"+t.uniqueId+"_"+n.name+"}}")});break;case"date":t.isAdded=e.includes(t.uniqueId)}})}function u(e){var t=o.sortByOrderField(b.formTemplate._steps,b.formTemplate._stepOrder);t.forEach(function(t){v=new Set,t.fieldGroups=[],t.hasUnmappableFields=!1;var n=[],r=[],o=[];n=_.filterAndSortByIdList(S,t._fieldOrder,{_tokenField:!1}),t.hasUnmappableFields=d(n,e),n.forEach(function(n){if(m(n,e)){n.uniqueId="id"+n.id.split("-").join(""),n.config=JSON.parse(n._configJson),n.resolvedLabel=g(n);var i=n._fieldGroup?n._fieldGroup.search(h):-1;if(-1!==i&&(n._fieldGroup=n._fieldGroup.slice(0,i)),Array.isArray(n._tokenFields)&&n._tokenFields.length)return void n._tokenFields.forEach(function(e){var t=S.find(function(t){return!0===t._tokenField&&t._fieldDefId===e.fieldDefId});t&&(t.uniqueId="id"+t.id.split("-").join(""),t.config=JSON.parse(t._configJson),t.resolvedLabel=g(t),o.push(t))});if(null==n._fieldGroup)return void r.push(n);if(0===t.fieldGroups.length)return void t.fieldGroups.push({fieldGroupName:a.toTitleCase(n._fieldGroup)||"Field Group",fields:[n]});var s=t.fieldGroups[t.fieldGroups.length-1];null==n._fieldGroup||s.fields[0]._fieldGroup!==n._fieldGroup||s.fields.find(function(e){return e._fieldDefId===n._fieldDefId})?t.fieldGroups.push({fieldGroupName:a.toTitleCase(n._fieldGroup)||"Field Group",fields:[n]}):s.fields.push(n)}}),r.length&&r.some(f)&&t.fieldGroups.push({fieldGroupName:"custom fields",fields:r}),o.length&&o.some(f)&&(o=i.unique(o.filter(function(t){return y[e.type].includes(t._fieldType)})),t.fieldGroups.push({fieldGroupName:"token fields",fields:o,config:{orderBy:"resolvedLabel"}}))}),t.forEach(function(e){e.fieldGroups=e.fieldGroups.filter(function(e){return e.fields.length&&e.fields.some(f)})}),w.steps=t.filter(function(e){return e.fieldGroups.length})}function d(e,t){return e.reduce(function(e,t){return JSON.parse(t._configJson).fields?[].concat(r(e),r(JSON.parse(t._configJson).fields)):[].concat(r(e),[t])},[]).filter(function(e){return m(e,t)}).some(function(e){return!f(e)})}function m(e,t){return y[t.type].includes(e._fieldType)||e._tokenFields&&e._tokenFields.length}function f(e){var t=e.config?e.config||{}:JSON.parse(e._configJson);return!t.hasOwnProperty("mappable")||!0===t.mappable}function g(e){try{return s.getFieldById(e)._label===e._label&&e.config.uniqueLabel?e.config.uniqueLabel:e._label}catch(e){return""}}var b=t.routeVm,v=null,y={text:["super-combo-select-list","super-select-list","super-input-text","super-input-redacted","readOnlyText","super-digital-signature","text"],date:["super-input-datepicker","super-iso-org-date","readOnlyDate"],checkbox:["super-combo-select-list","cmp-checkbox-group","super-select-list","readOnlyText"]},h=/-(\d{13})?$/,_=e.get("segmentFormBuilderOverlayBuilderDataPanelLogic"),w=t.vm={steps:[],fields:[],fieldGroups:[]},S=(t.go={startExpanded:function(e){var t=e.fields.map(function(e){return e.id});return!!b.selectedBox.formFieldGuids.filter(function(e){return-1!==t.indexOf(e)}).length}},b.formTemplate._formFields.filter(function(e){return e._active}));S=S.filter(function(e){var t=s.getFieldById(e);if(null==t)return!0;var n=!0;return t._featureFlags&&t._featureFlags.length&&(n=t._featureFlags.every(function(e){return b.featureFlags[e.name]===e.showIfActive})),n}),n.on("pvb.select-field",l,t),n.on("pvb.select-option",c,t),t.$watch("routeVm.selectedBox",function(e){if(null==e)return void(w.steps=[]);u(e),p(e._template||"")}),t.$watch("routeVm.selectedBox._template",function(e){null!=e&&p(e)})}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderOverlayBuilderDataPanel",function(){return new c("data-panel")})},{"base-segment":65}],93:[function(e,t,n){"use strict";function r(){return{filterAndSortByIdList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.split(",").map(function(t){return e.find(function(e){return e.id===t})}).filter(function(e){if(null!=e)return Object.keys(n).every(function(t){return null!=e[t]&&n[t]===e[t]})})}}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderOverlayBuilderDataPanelLogic",r)},{}],94:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,l,c,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("base-segment"),d=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$interpolate","$q","$location","rAF","ssAsync","FileUploader","ssAuthSvc","ssToastHlp","ssFormTemplatesApi","ssModalSvc","ssSaveInterrupterSvc","ssEventSvc","ssEnum","formsHlp","filenameHlp","viewportOffsetHlp",function(e,t,n,i,a,o,p,u,d,m,f,g,b,v,y,h,_,w,S,P){function T(e){var t,n=F.formTemplate._printPreviewDefinition;V.data=[],null!=n&&null!=n.printPreviewPages&&0!==n.printPreviewPages.length&&(e>V.explodedImageUrls.length&&(e=V.explodedImageUrls.length),e<1&&(e=1),t=n.printPreviewPages,V.data=c.definitiontoLocalData(t[e-1],V.labelsById),V.currentPage=e)}function x(){E&&E(),E=t.$watch("vm.data",function(e,t){if(null!=e&&e!==t&&null!=F.formTemplate._printPreviewDefinition){var n=V.currentPage-1;F.formTemplate._printPreviewDefinition.printPreviewPages[n]=O(e),F.formTemplate.$$forceChangedState("_printPreviewDefinition"),A.modelChanged()}},!0)}function O(e){return{pageNumber:V.currentPage-1,pageObjects:e.map(function(e){return{fieldType:e.type,locationY:e.top,locationX:e.left,width:100-e.right-e.left,height:100-e.bottom-e.top,formFieldGuids:e.formFieldGuids,matchValue:e.matchValue,stringFormat:e.stringFormat||null}})}}function k(e){V.processing=!0,V.processingStatus="Adding PDF Overlay...",b.attachFile({},{filename:e.file.name,fileType:I}).then(function(n){t.ctxDomEl.style.display="block",V.file=n,V.file.filename=n._filename,e.updatedUrl=b.getUploadFileUrl({id:V.file.id}),e.upload()}).catch(function(e){g.error("File upload cancelled.")})}function D(){return d(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A.modelChanged(!1),F.selectedBox=null,e.prev=2,"true"!==i.deactivate&&F.formTemplate._statusId!==_.formTemplateStatus.active||(r={title:"Edit Form Template",content:"This is an active template and will need to be deactivated to continue",primaryText:"Deactivate and continue",secondaryText:"Cancel",alwaysOnTop:!0},v.showStandard(r).then(function(){A.loading=!0,A.loadingMsg='Deactivating "'+F.formTemplate._name+'"',b.editActive(F.formTemplate).then(function(e){p.url("/ec-forms/form-builder/"+e.id+"/overlay-builder"),A.loading=!1,A.loadingMsg=""}).catch(function(e){g.error("there was an error deactivating the form template",""),n.go("base.formTemplates")})}).catch(function(){n.go("base.formTemplates")})),!F.formTemplate._printPreviewDefinition||!F.formTemplate._printPreviewDefinition.templateFileId){e.next=17;break}return V.processing=!0,V.processingStatus="Loading PDF overlay",e.next=9,b.getFile({id:F.formTemplate._printPreviewDefinition.templateFileId});case 9:V.file=e.sent,V.explodedImageUrls=V.file._explodedImageUrls,u.raw(function(){document.querySelector(".pages img:first-child").onload=function(){V.bgImageLoaded=!0,t.$digest(),t.$emit("canvas-resize")}}),w.initSaveInterrupter(F.formTemplate),T(1),x(),V.processing=!1,V.processingStatus="";case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),g.error("There was an error initializing the overlay builder","Error"),V.processing=!1,V.processingStatus="";case 24:case"end":return e.stop()}},e,this,[[2,19]])}))()}s=a,l=P;var F=t.routeVm,A=t.formVm,E=null;c=e.get("segmentFormBuilderOverlayBuilderOverlayLogic");var I=3,C={withCredentials:!1,headers:{Authorization:"Bearer "+f.token.access},filters:[{name:"validExt",fn:function(e){return!(!S.getExtension(e.name)||"pdf"!==S.getExtension(e.name))||(g.error('The selected file does not have a valid extension. Please choose a file with the ".pdf" extension.',"File Upload Failed"),!1)}},{name:"fileSize",fn:function(e){return!(null!=e.size&&e.size>=0&&e.size>=52428800)||(g.error("The file upload size cannot exceed 50MB. Please upload a smaller file.","File Upload Failed"),!1)}}]},j={title:"You will lose all your overlay mappings",content:"Uploading a new file will result in losing all the mappings done on the current form.",primaryText:"Continue",secondaryText:"Cancel"},V=t.vm={explodedImageUrls:[],currentPage:-1,bgImageLoaded:!1,newBoxStartingPoint:null,labelsById:function(e){return F.formTemplate._formFields.reduce(function(t,n){if(!n._fieldDefId)return t;var r="id"+n.id.split("-").join(""),i=JSON.parse(n._configJson),a=null!=e&&n._options.length?n._options[n._options.indexOf(e)]:n._label;return t[r]=""+a,i.hasOwnProperty("mappableMetaData")&&i.mappableMetaData.forEach(function(e){t[r+"_"+e.name]=""+e.label}),t},{})}(),data:[],processing:!1,processingStatus:"",canViewOverlayBuilder:!1},R=t.go={nextPage:function(){V.explodedImageUrls.length!==V.currentPage&&(V.currentPage++,T(V.currentPage))},previousPage:function(){1!==V.currentPage&&(V.currentPage--,T(V.currentPage))},selectBox:function(e,n){t.$root.safeApply(function(){return F.selectedBox=e}),h.emit("pvb.select-box",e),null!=n&&n.stopPropagation()},createdBox:function(e){e.type=F.selectedTool.type,e.shape=F.selectedTool.shape,e.template="",e.formFieldGuids=[],V.data=[].concat(r(V.data),[e]),u(function(){return R.selectBox(e)},t)},removeBox:function(e){V.data=V.data.filter(function(t){return t!==e})},calculateImageWidth:function(){return{"max-width":t.canvasWidth+"px"}},remove:function(){var e=o.when(),t={title:"You will lose all your overlay mappings",content:"Removing this file will result in losing all the mappings done on the current form.",primaryText:"Continue",secondaryText:"Cancel",alwaysOnTop:!0};V.data.length&&(e=v.showDestructive(t)),e.then(function(){V.processing=!0,V.processingStatus="Removing PDF Overlay...",c.removeFile(F.formTemplate).then(function(e){E(),E=null,y.clear(),V.explodedImageUrls=[],V.processing=!1,V.processingStatus=""})})}},$=t.uploader=new m(C);$.onAfterAddingFile=function(e){var t=o.when();V.explodedImageUrls.length&&(t=v.showDestructive(j)),t.then(function(){k(e)},function(){e.cancel()})},$.onBeforeUploadItem=function(e){e.url=e.updatedUrl},$.onErrorItem=function(e,t,n,r){V.processing=!1,V.processingStatus="",g.error("The selected file did not upload correctly. Please try again.","File Upload Failed"),e.remove()},$.onCancelItem=function(e,t,n,r){g.info("File upload cancelled."),e.remove(),document.getElementById("underlay-uploader").value="",V.bgImageLoaded=!1},$.onSuccessItem=function(e,t,n,r){d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.associateFile({id:F.formTemplate.id},{fileId:V.file.id});case 3:return null==F.formTemplate._printPreviewDefinition&&(F.formTemplate._printPreviewDefinition={}),F.formTemplate._printPreviewDefinition.templateFileId=V.file.id,F.formTemplate._printPreviewDefinition.printPreviewPages=t.explodedImageUrls.map(function(e){return{pageNumber:0,pageObjects:[]}}),e.next=8,F.formTemplate.$save();case 8:return e.next=10,D();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),V.processing=!1,V.processingStatus="";case 16:return e.prev=16,$.clearQueue(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[0,12,16,19]])}))()},D()}]},{key:"link",value:function(e,t,n){function r(){var e=v.clientWidth;e!==P&&o(e)}function i(){e.$root.safeApply(function(){return f.newBoxStartingPoint=null})}function a(t){if(p(),null==g.selectedBox){var n=h[0].getBoundingClientRect();e.$root.safeApply(function(){var e=l.getViewportOffsets(window);f.newBoxStartingPoint={x:t.pageX-n.left-e.left,y:t.pageY-n.top-e.top}})}}function o(t){var n=document.querySelector(".pages .visible img"),r=0;n&&(S=n.height/n.width,t=n.width,r=n.height),t>m&&(t=m),0===r&&(r=t*S),P=t,T=r,_.width=e.canvasWidth=_.style.width=P,_.height=e.canvasHeight=_.style.height=T,p()}function p(){w.clearRect(0,0,P,T),e.vm.data instanceof Array&&(w.fillStyle="#000000",e.vm.bgImageLoaded?(w.strokeStyle="#000000",w.lineWidth=2,e.vm.data=e.vm.data.filter(function(t){return 100-t.left-t.right>1||t===e.vm.drawingBox}),e.vm.data.forEach(u)):w.fillRect(0,0,P,T))}function u(t){var n=d(t);if(["text","date","checkbox"].includes(t.type)){if(n.width<10||n.height<10)return;var r;try{t._template="{{"+t.formFieldGuids.map(function(e){return"id"+e.split("-").join("")}).join("}} {{")+"}}",r=s(t._template)(e.vm.labelsById),t.templateString=c.convertBracketValueToCsv(r)}catch(e){r="TEMPLATE ERROR"}w.font="12px monospace",w.textBaseline="ideographic";for(var i=n.top+n.height,a=w.measureText(r).width;a>n.width;)r=r.slice(0,-1),a=w.measureText(r).width;w.fillText(r,n.left,i)}}function d(e){var t={},n=T/100,r=P/100;return t.top=n*e.top,t.right=r*(100-e.right),t.bottom=n*(100-e.bottom),t.left=r*e.left,t.width=t.right-t.left,t.height=t.bottom-t.top,t.top<0&&(t.top=0),t.left<0&&(t.left=0),t}var m=907,f=e.vm,g=e.routeVm,b=angular.element(window),v=t[0],y=t.find("canvas"),h=angular.element(v.getElementsByClassName("mapping-canvas")[0]),_=y[0];e.ctxDomEl=_;var w=_.getContext("2d"),S=1.6471,P=_.offsetWidth,T=0;o(h.width),b.on("resize",r),b.on("scroll",r),e.$on("$destroy",function(){return b.off("resize",r)}),e.$on("$destroy",function(){return b.off("scroll",r)}),e.$on("canvas-resize",r),sidekick.events.on("nav.expanded-footprint",function(){setTimeout(function(){return r()},0)}),y.on("mousedown",a),y.on("mouseup",i),e.$watch("vm.data",p,!0),e.$watch("vm.bgImageLoaded",p)}}]),t}(u.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderOverlayBuilderOverlay",function(){return new d("overlay")})},{"base-segment":65}],95:[function(e,t,n){"use strict";function r(e,t){function n(e,n){if(null!=e)return e.pageObjects.map(function(e){var r={type:e.fieldType||"text",top:e.locationY,left:e.locationX,right:100-(e.width+e.locationX),bottom:100-(e.height+e.locationY),formFieldGuids:e.formFieldGuids,stringFormat:e.stringFormat||null,matchValue:e.matchValue};if(["text","date"].includes(r.type)){r._template="{{"+e.formFieldGuids.map(function(e){return"id"+e.split("-").join("")
}).join("}} {{")+"}}";var a=t(r._template)(n);r.templateString=i(a)||""}return r})}function r(t){return e(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t._files.find(function(e){return e._fileId===t._printPreviewDefinition.templateFileId}))){e.next=4;break}return e.next=4,n.$remove();case 4:return t._printPreviewDefinition.printPreviewPages=[],t._printPreviewDefinition.templateFileId=null,e.next=8,t.$save();case 8:return e.next=10,t.$refresh();case 10:case"end":return e.stop()}},e,this)}))()}function i(e){return e.length?e.split("] [").join(",").replace("[","").replace("]",""):""}return{definitiontoLocalData:n,removeFile:r,convertBracketValueToCsv:i}}r.$inject=["ssAsync","$interpolate"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderOverlayBuilderOverlayLogic",r)},{}],96:[function(e,t,n){"use strict";var r=e("base-state"),i={added:[],featureFlags:{isHRMSEnabled:!1,fc_enable_form_tables:!1},props:!1,addingFields:!1},a={url:"/preview?returnTo&showPDFoverlay",templateUrl:"routes/form-builder/preview/preview.html",params:{returnStateParams:{}},resolve:{form:["$stateParams","ssAsync","ssFormTemplatesApi","$sce",function(e,t,n,r){return i.hasPDFOverlay=i.showPDFOverlay=!1,t(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.formId,include:"steps,formFields,statusHistory,files"});case 3:if(i.formData=t.sent,!i.formData._printPreviewDefinition||null==i.formData._printPreviewDefinition.templateFileId){t.next=9;break}return t.next=7,n.generatePDFOverlay({formTemplateId:i.formData.id});case 7:a=t.sent,null!==a._string&&(i.PDFOverlayUrl=r.trustAsResourceUrl(a._string),i.hasPDFOverlay=!0,i.showPDFOverlay=JSON.parse(e.showPDFoverlay));case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}},t,this,[[0,11]])}))()}],$title:["$title",function(e){return e+" (Preview)"}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formTemplates","view")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.preview",new r.State(a,i))}])},{"base-state":66}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi","ssToastHlp",function(e,t,n,r,i,a,o){function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(regeneratorRuntime.mark(function t(){var r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.formData._files.map(function(e){return e._fileId}),t.prev=1,t.next=4,a.getFiles({},{ids:r});case 4:c.files=t.sent,c.files=c.files.filter(function(e){return!l.formData._printPreviewDefinition||e.id!==l.formData._printPreviewDefinition.templateFileId}).map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}).sort(function(e,t){return e._filename.localeCompare(t._filename)}),e&&(s=c.files.find(function(t){return t.id===e.id}),s?n.open(s._url):o.error("File not found.","Error")),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:return t.prev=11,c.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[1,9,11,14]])}))()}var l=t.routeVm,c=(e.get("segmentFormBuilderPreviewAttachmentsLogic"),t.vm={isLoading:!0});t.go={download:function(e){s(e)}};s()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewAttachments",function(){return new l("attachments")})},{"base-segment":65}],98:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewAttachmentsLogic",r)},{}],99:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$anchorScroll","ssEventSvc","ssEnum","formsHlp","fieldsHlp",function(e,t,n,r,i,a,o){var s=t.routeVm,l=(e.get("segmentFormBuilderPreviewFormWorkflowLogic"),new Map),c=t.vm={steps:[],reviewStep:{_name:"Review Profile Updates",review:!0},stepAction:i.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){c.selectedStepId=t.id,r.emit("form-builder.builder.step-clicked",e,t)},isTableViewField:function(e){if(e._configJson)return"true"===JSON.parse(e._configJson).tableView||"false"===JSON.parse(e._configJson).tableView},isTableViewEnable:function(e){return"true"==JSON.parse(e[0]._configJson).tableView},sortOrder:function(e){if(e._configJson)return e.config=e.config||JSON.parse(e._configJson),e.config.defaultOrder}};r.on("form-builder.summary.step-clicked",function(e,t){c.selectedStepId=l.get(t.id).id,n("fb-step-"+e)},t),function(){a.sortByOrderField(s.formData._steps,s.formData._stepOrder),s.formData._steps.forEach(function(e){e.fields=[],"string"==typeof e.id&&l.set(e.id,e)});for(var e=s.formData._formFields.length;e--;){var t=s.formData._formFields[e];!t._tokenField&&t._step&&l.has(t._step.id)?l.get(t._step.id).fields.push(t):s.formData._formFields.splice(e,1)}s.formData._steps.forEach(function(e){a.sortByOrderField(e.fields,e._fieldOrder),e.participantLabel=e._stepParticipant.name||i.stepParticipantType.byValue(e._stepParticipant.participantType),e.fieldGroups=[],e.fields.forEach(function(t){if(s.featureFlags.isHRMSEnabled){var n=o.getFieldById(t);if(null!=n&&n._featureFlags&&n._featureFlags.some(function(e){return"isHRMSEnabled"===e.name&&!e.showIfActive}))return}if(["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(t._fieldDefId)&&t.fieldGroup&&(t._fieldGroup=null),t.disabled=!1,0===e.fieldGroups.length)return void e.fieldGroups.push([t]);var r=e.fieldGroups[e.fieldGroups.length-1];null!=t._fieldGroup&&r[0]._fieldGroup===t._fieldGroup?r.push(t):e.fieldGroups.push([t])}),delete e.fields}),c.steps=s.formData._steps,c.selectedStepId=c.steps[0].id,c.loading=!1}()}]},{key:"link",value:function(e,t,n){angular.element(document).ready(function(){t.find("input").on("focus",function(e){e.preventDefault(),e.target.blur()})})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewFormWorkflow",function(){return new l("form-workflow")})},{"base-segment":65}],100:[function(e,t,n){"use strict";function r(){return{makeStep:function(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewFormWorkflowLogic",r)},{}],101:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$location","ssAsync","ssEventSvc","ssOrganizationSvc","rAF","ssDateHlp","ssDateByOrgHlp","ssFormTemplatesApi","$sce",function(e,t,n,r,i,a,o,s,l,c,p,u){function d(e){return!l.isForeverFuture(e)&&!l.isForeverPast(e)}var m=t.routeVm,f=t.formVm,g=e.get("segmentFormBuilderPreviewPageHeaderLogic");s(function(){a.emit("allow-fullscreen")},t);var b=t.vm={form:f.formData};t.go={close:function(){if(n.params.returnTo.search("/")>=0)r.url(n.params.returnTo);else{var e=n.params.returnStateParams||{};n.go(n.params.returnTo,e)}},toggleFormView:function(e){e?i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.generatePDFOverlay({formTemplateId:m.formData.id});case 3:n=t.sent,null!==n._string?(m.PDFOverlayUrl=u.trustAsResourceUrl(n._string),m.showPDFOverlay=e):ssToastHlp.error("There was a problem generating the PDF Overlay preview. Please refresh the page and try again."),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}))():m.showPDFOverlay=e}};i(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getActiveOrg();case 2:t=e.sent,b.formStatusLabel=g.getStatusLabel(f.formData,t),b.formStatus=g.getStatus(f.formData,t),d(b.form._modifiedDt)&&(n=c.utcIsoToRelativeMoment(b.form._modifiedDt,t),r=n.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),b.modifiedDate="Modified "+r+" by "+b.form._modifier.name);case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewPageHeader",function(){return new l("page-header")})},{"base-segment":65}],102:[function(e,t,n){"use strict";function r(e){function t(t,n){return e.getLabel(t,n).status}function n(t,n){return e.getLabel(t,n).statusLabel}return{getStatusLabel:n,getStatus:t}}r.$inject=["statusLabelHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewPageHeaderLogic",r)},{}],103:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","formsHlp",function(e,t,n,r,i){function a(){var e=Array.from(arguments),t={};return e.forEach(function(e,n){e.forEach(function(e){t[n+"-"+e.value]=e.name})}),t}var o=t.routeVm,s=(t.formVm,e.get("segmentFormBuilderPreviewStepsSummaryLogic")),l=r.personnelCategory.getEnums(),c=r.medicalCategory.getEnums(),p=new Map,u=t.vm={steps:[],stepAction:r.stepAction,selectedStep:null,loading:!0};t.go={selectStep:function(e,t){u.selectedStepId=t.id,n.emit("form-builder.summary.step-clicked",e,t)}};n.on("form-builder.builder.step-clicked",function(e,t){u.selectedStepId=p.get(t.id).id},t),function(){u.steps=angular.copy(o.formData._steps),i.sortByOrderField(u.steps,o.formData._stepOrder);var e=s.buildParticipantList(u.steps);u.steps.forEach(function(t){if("string"==typeof t.id&&p.set(t.id,t),t._stepAction!==r.stepAction.formCompleted){var n=e.find(function(e){return e.stepIds.includes(t.id)});t.participantLabel=n?n.participantName:"",t.participantPermission=s.getPermissionLabel(t),t.stepActionLabel=r.stepAction.byValue(t._stepAction)}t.eventDetails=s.getEventDetails(t),t.otherParticipants=s.getOtherParticipants(e,t)});var t=u.steps.find(function(e){return e._stepAction===r.stepAction.formCompleted}),n=u.steps.find(function(e){return e._stepAction===r.stepAction.employeeProfileReview});if(u.finalStep=u.steps.splice(u.steps.indexOf(t),1)[0],n&&(u.reviewStep=u.steps.splice(u.steps.indexOf(n),1)[0]),o.formData._employeeRecord.addToEmployeeRecord){var d=a(l,c),m=o.formData._employeeRecord.category,f=o.formData._employeeRecord.subCategory;u.finalStep.employeeRecord=d[m+"-"+f]}u.selectedStepId=u.steps[0].id,u.loading=!1}()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderPreviewStepsSummary",function(){return new l("steps-summary")})},{"base-segment":65}],104:[function(e,t,n){"use strict";function r(e){function t(t){var n=[];return t.forEach(function(t){if(t._stepParticipant&&t._stepAction!=e.stepAction.formCompleted){var r=angular.isArray(t._stepParticipant.employeeIds)&&t._stepParticipant.employeeIds.length?t._stepParticipant.employeeIds[0]:"",i=t._stepParticipant.name?t._stepParticipant.name:e.stepParticipantType.byValue(t._stepParticipant.participantType),a=n.find(function(e){return o(e,t)});if(a)return void a.stepIds.push(t.id);n.push({stepIds:[t.id],participantName:i,participantType:t._stepParticipant.participantType,employeeId:r})}}),n}function n(t){return t._stepEvents?t._stepEvents.reduce(function(t,n){return n.eventActions.length?(t.push({title:e.stepEventType.byValue(n.eventType),actions:n.eventActions.reduce(function(t,n){return n.eventAction===e.stepEventAction.stopWorkFlow?t:(t.push(e.stepEventAction.byValue(n.eventAction)),t)},[])}),t):t},[]):[]}function r(e,t){return e.length?e.reduce(function(e,n){if(n.stepIds.includes(t.id))return e;var r=t._permissions.find(function(e){return o(e,n)});return r&&r.canView?(e.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),e):e},[]):[]}function i(e){if(!e._permissions)return"";var t=e._permissions.find(function(t){return o(t,e)});return t?"view"+(t.canEdit?" & edit":""):""}function a(){return{_name:"",_fieldOrder:"",fieldGroups:[]}}function o(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:t,getEventDetails:n,getPermissionLabel:i,getOtherParticipants:r,makeStep:a,matchByParticipants:o}}r.$inject=["ssEnum"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderPreviewStepsSummaryLogic",r)},{}],105:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssPermissionsSvc",function(e,t,n){var r=t.routeVm;e.get("segmentFormBuilderContentLogic");t.formVm=r;t.vm={},t.go={}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderContent",function(){return new l("content")})},{"base-segment":65}],106:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderContentLogic",r)},{}],107:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$window","$q","$rootScope","$timeout","ssAsync","ssEventSvc","ssStatusApi","ssToastHlp","rAF","ssValidationHlp","ssPermissionsSvc","ssStorage","ssDateByOrgHlp","statusLabelHlp","ssModalSvc","ssSaveInterrupterSvc","ssSleepHlp","ssEnum","fieldsHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g,b,v,y,h,_,w){function S(e,t,n,r,i){["fieldOrder","fieldGroup","stepOrder"].includes(t)||x.modelChanged()}function P(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length,n.attr("size",e))}function T(){var e=[];return O._formFields.forEach(function(t){var n=w.getValidator(t._fieldType);if("function"==typeof n){var r=n.call(null,t);!0!==r&&e.push({field:t,error:r})}}),e}var x=t.routeVm,O=(e.get("segmentFormBuilderHeaderLogic"),x.formData),k=x.org.id+"_formbuilder_"+O.id;t.validator={required:d.required()};t.activate=!1;var D=t.vm={savedFormTitle:JSON.parse(JSON.stringify(O._name)),activationDate:g.todaysStartRelativeTo(x.org).format("MM/DD/YYYY"),formStatusLabel:b.getLabel(O,x.org).statusLabel,activate:null,editTitle:!1,modelHasChanged:!1,autoSaved:!1,printViewBuilderEnabled:!1,statusConfig:{statusId:1}},F=t.go={editTitle:function(){D.editTitle=!0,D.previousAutoSaved=D.autoSaved},preview:function(){if(!x.saving){if(D.modelHasChanged){var e={title:"Preview Form Template",content:"You will need to save this form template in order to preview it.",primaryText:"save and continue",secondaryText:"cancel",alwaysOnTop:!0};return v.showStandard(e).then(function(e){var t=T();t.length?t.forEach(function(e){p.error((e.field._label?'The field group labeled "'+e.field._label+'" ':e.field.config.fieldGroup+" field groups")+" "+e.error,"Validation Error")}):F.saveFormTemplate().then(function(){y.clear(),n.go("base.formBuilder.preview",{returnTo:n.current.name,showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})})})}y.clear(),n.go("base.formBuilder.preview",{returnTo:n.current.name,showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})}},saveFormTemplate:function(){return x.saving||!D.modelHasChanged?i.when():(x.saving=!0,x.loadingMsg="saving form template...",D.editTitle=!1,O._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O._steps.forEach(function(e){e._permissions=angular.copy(e._permissions,[])}),e.next=4,O.$save(!1);case 4:return e.next=6,O._steps.$save();case 6:return x.updateStepOrder&&(O._stepOrder=x.updateStepOrder()),x.addStepIdToField&&x.addStepIdToField(),x.updateFormFields&&x.updateFormFields(),e.next=12,O.$save();case 12:return x.updateFieldOrder&&x.updateFieldOrder(),e.next=15,O._steps.$save();case 15:if(!x.processTemplate){e.next=18;break}return e.next=18,x.processTemplate();case 18:D.modelHasChanged=!1,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(0);case 23:return e.prev=23,x.saving=!1,x.loadingMsg="",e.finish(23);case 28:case"end":return e.stop()}},e,this,[[0,21,23,28]])}))())},cancelTitleEdit:function(){D.editTitle=!1,O._name=D.savedFormTitle,D.autoSaved=D.previousAutoSaved},setActivationConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments[1];t.activate=e,n&&!1===n&&(D.activationDate=null)},submitForm:function(){!1===t.activate?F.saveFormTemplate():F.activateForm()},activateForm:function(){if(!x.saving){if(!O._formAdministrator.formAdministratorType)return p.error("Form Administrator is required","Select Form Administrator"),void t.$root.$emit("ss-menu-close");if(O._steps[0].fieldGroups&&!O._steps[0].fieldGroups.length)return p.warn("Step 1 of this form template contains no fields. Please add fields in order to activate.",""),void t.$root.$emit("ss-menu-close");for(var e=0;e<O._steps.length;e++){var r=O._steps[e];if(r._stepAction!==_.stepAction.formCompleted){if(null==r._stepParticipant.participantType)return p.error("Step Participant is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close");if(null==r._stepAction)return p.error("Action Performed is required for each step","Activation Failed"),void t.$root.$emit("ss-menu-close")}}if(null==O._category.id)return p.error("Category is required to activate this form.","Activation Failed"),t.$root.$emit("ss-menu-close"),void n.go("base.formBuilder.settings");null!==D.activationDate&&(D.statusConfig.from=g.startOfDayRelativeTo(moment(D.activationDate),x.org)),t.$root.$emit("ss-menu-close"),s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!D.modelHasChanged){e.next=4;break}return e.next=4,F.saveFormTemplate();case 4:return x.saving=!0,x.loadingMsg="Activating form template...",e.next=8,c.update({id:O.id},D.statusConfig,!1);case 8:return e.next=10,h.sleep();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.data?(t=e.t0.data.errors.Title.substr(e.t0.data.errors.Title.indexOf(":")+1),t=t.split(","),t.forEach(function(e){p.error(e,"Activation Failed")})):p.error(e.t0,"");case 15:return e.prev=15,x.saving=!1,x.loadingMsg="",n.go("base.formTemplates"),e.finish(15);case 20:case"end":return e.stop()}},e,this,[[0,12,15,20]])}))()}}};x.submitForm=F.submitForm,D.printViewBuilderEnabled=m.isPermittedAction("formTemplates","buildOverlay")||!!t.$root.isPermitted.activeUser.idmAdministrator,l.on("ss-json-api.changedRecord.formFields",S,t),l.on("ss-json-api.changedRecord.formTemplates",S,t),l.on("ss-json-api.changedRecord.steps",S,t),a.$on("$stateChangeStart",function(e,t,n,r,i,a){"base.formBuilder.preview"===t.name&&f.save(k,{y:window.scrollY})}),a.$on("$stateChangeSuccess",function(e,t,n,i,a){if("base.formBuilder.preview"===i.name){var s=f.load(k);s&&(f.clear(k),o(function(){r.scrollTo(0,s.y)},1e3))}}),t.$watch("routeVm.formData._name",function(e,t){u.raw(function(){P()})}),x.modelChanged=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];D.modelHasChanged=e}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormBuilderHeader",function(){return new l("header")})},{"base-segment":65}],108:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormBuilderHeaderLogic",r)},{}],109:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssEmployeeApi","ssEnum","ssToastHlp","ssModalSvc","formsHlp","rAF",function(e,t,n,r,i,a,o,s,l,c){var p=t.routeVm,u=e.get("segmentFormBuilderSettingsSettingsLogic"),d=t.formVm,m=a.formAdministratorType.getEnums();t.validator=u.validator;var f=t.vm={loading:!1,form:d.formData,showSpecificPerson:!1,formAdminList:m,specificEmployeeHolder:[],lastStepText:"",showPinnedToTileCheckbox:p.featureFlags.global_fc_shared_employee&&p.featureFlags.fc_february_2021_new_dashboard};t.go={};t.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){!e||e<=0||e===t||e!==a.formAdministratorType.specificPerson&&(f.form._formAdministrator.employeeId=null,f.specificEmployeeHolder=[])}),t.$watch("vm.specificEmployeeHolder",function(e,t){e!==t&&(e&&e.length?f.form._formAdministrator.employeeId=e[0].id:f.form._formAdministrator.employeeId=null)}),t.$watch("vm.form._isEmployeeInitiated",function(e){e?(f.form._formAdministrator.formAdministratorType===a.formAdministratorType.formPacketSender&&s.showStandard({title:"Invalid form administrator",content:"An employee initiated form cannot have the form sender as its form administrator. Please choose another form administrator",primaryText:"Ok",showSecondary:!1,alwaysOnTop:!0}).then(function(){f.form._formAdministrator.formAdministratorType=null}),f.formAdminList=f.formAdminList.filter(function(e){return 1!==e.value})):f.formAdminList=m}),n(regeneratorRuntime.mark(function e(){var s,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.loading=!0,e.prev=1,e.next=4,r.getByExternalId("form.categories");case 4:f.categories=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),o.error("There was an error retrieving form categories","");case 10:return e.next=12,f.form.$refresh();case 12:if(d.modelChanged(!1),null==f.form._formAdministrator.formAdministratorType||f.form._formAdministrator.formAdministratorType!==a.formAdministratorType.specificPerson){e.next=25;break}if(!f.form._formAdministrator.employeeId){e.next=25;break}return e.prev=15,e.next=18,i.get({id:f.form._formAdministrator.employeeId,fields:"firstName,lastName"},null,!1);case 18:s=e.sent,f.specificEmployeeHolder.push(s),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),"404"===e.t1.data.errors.Id?o.warn("The assigned form administrator for this template cannot be found. Please choose a new form administrator, or change the form administrator type","Form Administrator not found"):o.error("There was a problem retrieving the assigned form administrator. Please see the console.","Error");case 25:l.sortByOrderField(f.steps,f.form._stepOrder),p=f.form._steps.find(function(e){return e._stepAction===a.stepAction.formCompleted}),p._stepEvents[0].eventActions.forEach(function(e){e.eventAction===a.stepEventAction.emailOthers?n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.queryByIds({fields:"firstName,lastName"},{ids:e.employeeIds},null,!1);case 2:n=t.sent,n.forEach(function(e){f.lastStepText.length&&(f.lastStepText+=", "),f.lastStepText+="Email "+e._firstName+" "+e._lastName});case 4:case"end":return t.stop()}},t,this)}))():(f.lastStepText.length&&(f.lastStepText+=", "),f.lastStepText+=a.stepEventAction.byValue(e.eventAction))}),f.steps=f.form._steps.filter(function(e){return e._stepAction!==a.stepAction.formCompleted}),f.steps.forEach(function(e,r){t.$watch("vm.steps["+r+"]._useCustomNotification",function(n,i){if(n!==i){var a=r;n?c(function(){return document.getElementById("step-ready-message-"+e.id).focus()},t):f.steps[a]._notificationBody=""}}),t.$watch("vm.steps["+r+"]._useCustomResendNotification",function(n,i){if(n!==i){var a=r;n?c(function(){return document.getElementById("step-resent-message-"+e.id).focus()},t):f.steps[a]._resendNotificationBody=""}}),e.showResendMessage=r+1!==f.steps.length&&f.steps[r+1]._stepAction===a.stepAction.reviewApproveOrDeny;var o=e._stepParticipant;o.participantType===a.stepParticipantType.specificPerson?o.employeeIds&&o.employeeIds.length&&n(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get({id:o.employeeIds[0],fields:"firstName,lastName"});case 2:n=t.sent,e.participantLabel=n._firstName+" "+n._lastName;case 4:case"end":return t.stop()}},t,this)}))():(o.participantType||o.participantType===a.stepParticipantType.employeeChosenWhenSent)&&(e.participantLabel=a.stepParticipantType.byValue(o.participantType))}),l.initSaveInterrupter(f.form),f.loading=!1;case 32:case"end":return e.stop()}},e,this,[[1,7],[15,22]])}))()}]},{key:"link",value:function(e,t,n){e.$watch("vm.form._formAdministrator.formAdministratorType",function(e,t){angular.element(document).ready(function(){if(e!==t&&3===e){document.getElementById("form-admin-employee-search").getElementsByTagName("input")[0].focus()}})})}}]),t}(s.Segment)
;angular.module("ec-forms-segments").directive("segmentFormBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":65}],110:[function(e,t,n){"use strict";function r(e){var t=e.required();return{validator:{required:t,conditionalRequired:function(e,n,r){return!r||t(e,n)}}}}r.$inject=["ssValidationHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormBuilderSettingsSettingsLogic",r)},{}],111:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{global_fc_shared_employee:!1,fc_february_2021_new_dashboard:!1}},a={url:"/settings",templateUrl:"routes/form-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formBuilder.settings",new r.State(a,i))}])},{"base-state":66}],112:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,featureFlags:{fc_enhanced_denied_form_workflow:!1,isFCSystemOfRecord:!1,fc_enable_form_tables:!1,fc_form_instance_expiration:!1},formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null,loading:!1,loadingStatus:""},a={url:"/form-instance/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl&target",templateUrl:"routes/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","ssEnum",function(e,t,n,r,a,o,s){return n(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,n.next=5,r.get({id:e.formInstanceId,include:"steps",includeSensitive:!1},null,!1);case 5:return i.formInstance=n.sent,n.next=8,a.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=n.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==s.formStatus.complete&&i.formInstance._statusId!==s.formStatus.archived||(i.showPDFOverlay=!0),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),403===n.t0.status?t.transitionTo("403"):o.error(n.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",n.t0);case 17:case"end":return n.stop()}},n,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formInstance",new r.State(a,i))}])},{"base-state":66}],113:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,a){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(regeneratorRuntime.mark(function t(){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.formTemplate._files.map(function(e){return e._fileId}),t.prev=1,t.next=4,a.getFiles({},{ids:r});case 4:o=t.sent,c.files=o.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}).filter(s).sort(function(e,t){return e._filename.localeCompare(t._filename)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error getting file records",t.t0);case 11:return t.prev=11,c.loading=!1,e&&n.open(c.files.find(function(t){return t.id==e.id})._url),t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,8,11,15]])}))()}function s(e){return!l.formTemplate._printPreviewDefinition||e.id!==l.formTemplate._printPreviewDefinition.templateFileId}var l=t.routeVm,c=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){o(e)}};o()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":65}],114:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceAttachmentsLogic",r)},{}],115:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","$anchorScroll","$timeout","$q","$filter","$sce","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","ssToastHlp","ssModalSvc","ssObjectHlp","fieldRendererHlp","formsHlp","enumStepAction","ssDateByOrgHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g,b,v,y,h,_){function w(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=m.getEmployeeSync().id;return k.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}function S(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:k.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?t.resolve(r):a(e,1e3);case 4:case"end":return n.stop()}},n,this)}))()}var t=o.defer(),n=124,r=0;return e(),t.promise}function P(e){var t=I.steps.indexOf(I.steps.find(function(t){return t.id===e.id}));i("fb-step-"+t),i.yOffset=10}function T(){k.showToggle=!!k.formTemplate._formFields.find(function(e){return!0===e._sensitive})}function x(e,t){return t.filter(function(n){return n.instance&&t.indexOf(n)<e||n._stepAction===d.stepAction.formCompleted}).map(function(e,t){return{optionText:e._stepAction===d.stepAction.formCompleted?"Complete Workflow":"Step "+(t+1)+" - "+e.instance._stepParticipant.name,stepAction:e._stepAction,stepId:e.id,stepIndex:t}})}function O(e){if(null!=e._currentStepIndex){var t=!1;e._steps.forEach(function(n){n.id===e._steps[e._currentStepIndex].id?(n.stepStatus=d.formStatus.byValue(e._statusId),t=!0):n.stepStatus=t?d.formStatus.byValue(0):d.formStatus.byValue(1),n.stepStatus=n.stepStatus.toLowerCase()})}}t.ssEnum=d;var k=t.routeVm,D=e.get("segmentFormInstanceFormLogic"),F=t.stepValues={},A="";t.stepIsDenied=k.formInstance._statusId===d.formStatus.rejected,t.formIsComplete=k.formInstance._statusId===d.formStatus.complete||k.formInstance._statusId===d.formStatus.completedAndDenied,t.formIsDenied=k.formInstance._statusId===d.formStatus.completedAndDenied;var E=b.glean(k.formInstance,function(e){return e._deniedInfo.targetStepId},!1),I=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",cachedSourceFields:{},currentStepId:k.formInstance._currentStepId,isExpired:!1},C=(m.getEmployeeSync(),t.go={selectStep:function(e){e._stepAction!==d.stepAction.formCompleted&&(I.selectedStep&&I.selectedStep.id===e.id||(I.selectedStep=e||I.steps[0],k.setFieldValidations(),P(e),p.emit("select-summary-step",e,!1),t.$emit("ss-validate-reset")))},submitForm:function(e){k.isLoading=!0,k.loadingStatus="Submitting step...",k.featureFlags.isFCSystemOfRecord||(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){e.updateEmployeeProfile=!1}),e._updateEmployeeRecord=!1),e._stepAction===d.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save(!0,!1,!1).then(function(){return k.formInstance._statusId===d.formStatus.rejected?u.updateStatus({id:k.formInstance.id,newStatus:0}):Promise.resolve()}).then(function(){return u.post({id:k.formInstance.id,event:I.submissionEvent,stepId:e.id},null,!1)}).then(S).then(function(){f.success("","form step "+A,!1),!n.returnUrl&&n.target&&"_blank"===n.target?window.close():r.url(w())}).catch(function(e){f.error("",e.data.errors.Title,!1),k.isLoading=!1,k.loadingStatus=""})},submitStep:function(){I.submissionEvent="submitStep",A="submitted"},acknowledgeStep:function(){I.submissionEvent="reviewForm",A="acknowledged"},approveStep:function(){I.submissionEvent="approveForm",A="approved"},denyStep:function(e,t){I.submissionEvent="declineForm",A="denied",C.submitForm(t)},denyAndResetWorkflowStep:function(e,t){var i=t.stepAction===d.stepAction.formCompleted,a="sent back to step "+(t.stepIndex+1)+".",o=i?"":"This form will be "+a,s=i?"denied & completed":a,l="There was an error while attempting to deny "+(i?"and complete":"")+" the "+(i?"form":"step")+". Please try again.",c=i?"denyComplete":"declineForm",p={title:"Deny "+(i?"and Complete":"")+" "+(i?"Form":"Step"),content:"Are you sure you want to deny "+(i?"and complete":"")+" this "+(i?"form":"step")+"? "+o,primaryText:"deny",secondaryText:"cancel",alwaysOnTop:!0};g.showDestructive(p).then(function(){k.isLoading=!0,k.loadingStatus="Submitting step...",e.instance.$save(!0,!0,!1).then(function(){return u.post({id:k.formInstance.id,event:c,targetStepId:t.stepId,stepId:e.id},null,!1)}).then(S).then(function(){f.success("Form has been "+s,"Success!",!1),!n.returnUrl&&n.target&&"_blank"===n.target?window.close():r.url(w())}).catch(function(e){k.isLoading=!1,k.loadingStatus="",f.error(l,"Error")})})},reviewProfile:function(){I.submissionEvent="profileReviewed",A="submitted"},profileValueDisplay:function(e,t){if(null!=e.profileValue&&e.profileValue.toString()){var n,r=["5e989212-29f0-43e4-8d02-1a6a047b7e48","0977c048-185c-4eec-8800-74842a7fbb4f","f658f159-910a-485f-89b7-f20559222f73","14827dc2-9d54-400d-a556-47656bc72f83","e0ec2374-be6a-4d6f-9f12-5cbf58f5a5cc","4efae0cb-6d68-4eeb-8ce3-031b11678275","3a4799b5-168e-4f19-91a6-27299c543f69"],i=t.fields.find(function(t){return t.id===e.formFieldId});if(i._options&&i._options.length>0)if("07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===i._fieldDefId){var a=d.states.enums.find(function(t){return t.value===e.profileDisplayValue});null!=a&&(n=a.name)}else{if("super-combo-select-list"==i._fieldType)return e.profileDisplayValue.map(function(e){return i._options[e]}).join(", ");var o=i._options.find(function(t){return i._options.indexOf(t)===e.profileDisplayValue});null!=o&&(n=o)}else n="super-input-datepicker"===i._fieldType||"super-iso-org-date"===i._fieldType?s("date")(e.profileDisplayValue,"MM/dd/yyyy"):"super-input-checkbox"===i._fieldType?!0===e.profileDisplayValue?"Yes":"No":r.includes(i._fieldDefId)?e.profileDisplayValue.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):e.profileDisplayValue;return n}},isTableViewField:function(e){if(e._configJson)return"true"===JSON.parse(e._configJson).tableView||"false"===JSON.parse(e._configJson).tableView},sortOrder:function(e){if(e._configJson)return e.config=e.config||JSON.parse(e._configJson),e.config.defaultOrder},isTableViewEnable:function(e){return"true"==JSON.parse(e[0]._configJson).tableView}});k.setFieldValidations=function(){if(null!=I.selectedStep){var e=I.steps.indexOf(I.steps.find(function(e){return e.id===I.selectedStep.id}));I.steps.forEach(function(t){var n=I.steps.indexOf(I.steps.find(function(e){return e.id===t.id}));t.fields.forEach(function(r){if(null!=r._fieldDefId)if(n>e)r.ignoreValidations=!0;else{var i=t.instance.formFieldValues[r.id]?t.instance.formFieldValues[r.id].toString():"";r.ignoreValidations=!r._required||!!r.isRedacted&&!!i,"super-digital-signature"==r._fieldType&&(r.ignoreValidations=!1)}})})}};var j=k.processForm=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,I.steps=[],y.sortByOrderField(k.formTemplate._steps,k.formTemplate._stepOrder),k.formTemplate._steps.forEach(function(e,n,r){e.actualIndex=n,e.stepActionName=h.byValue(e._stepAction),e.instance=k.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==d.stepAction.formCompleted&&("string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),F[e.instance.id]=e.instance,v.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),k.formTemplate._formFields.length&&(e.fields=k.formTemplate._formFields.filter(function(t){return!t._tokenField&&t._step.id===e.id}),e=D.processStep({tStep:e,formInstance:k.formInstance}),D.processFields(e,{showSensitiveFields:k.showSensitiveFields,separationOptions:k.formInstance._contractFormInstanceOptions}),e.fieldGroups=D.makeFieldGroups(e,I.isExpired),k.featureFlags.fc_enhanced_denied_form_workflow&&(e.isDenied=!(!t.stepIsDenied||!E)&&E===e.id,e._stepAction===d.stepAction.reviewApproveOrDeny&&(e.deniableStepOptions=x(n,r))),e._stepAction===d.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){e.profileDisplayValue=JSON.parse(JSON.stringify(e.profileValue));var i=k.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=i,t.$watch("routeVm.formInstance._steps["+n+"]._employeeProfileReviewStepFieldValues["+r+"].sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){e.formFieldValue=t})}),e.submissionDetail=D.getStepSubmissionDetail(e,k.org),I.steps.push(e)))}),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}},e,this,[[0,6]])}));p.on("select-form-step",function(e){C.selectStep(e)},t),c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k.isLoading=!0,!k.showPDFOverlay){e.next=10;break}return k.loadingStatus="Generating PDF...",e.next=6,y.generatePDFOverlay(k.formInstance,!1);case 6:k.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=l.trustAsResourceUrl(k.PDFdata.data.data.attributes.string),e.next=11;break;case 10:k.loadingStatus="Loading form...";case 11:return k.featureFlags.fc_form_instance_expiration&&(O(k.formInstance),I.isExpired=k.formInstance._steps.some(function(e){return e.stepStatus===d.formStatus.byValue(0).toLowerCase()&&e._expirationDateUtc&&_.utcIsoToRelativeMoment(e._expirationDateUtc,k.org).isBefore(moment())})),e.next=14,j();case 14:t=k.formTemplate._steps.find(function(e){return e.id===I.currentStepId}),C.selectStep(t),T(),k.isLoading=!1,k.loadingStatus="",e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),k.isLoading=!1,k.loadingStatus="",f.error("There was a problem processing the form","Error");case 26:case"end":return e.stop()}},e,this,[[0,21]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceForm",function(){return new l("form")})},{"base-segment":65}],116:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,i,a){function o(e){var n=e.tStep,r=e.formInstance,i=Object.assign({},n);d=r._statusId===t.complete;var a=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,a||(i.editMode=!1,i.disabled=!0),d&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i}function s(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showSensitiveFields:!1,separationOptions:null};n.sortByOrderField(t.fields,t._fieldOrder),t.fields=u(t.fields,r.separationOptions),t.fields.forEach(function(n){if(n.step=t.instance,n.editMode=t.editMode,n.disabled=t.disabled,i.updateFieldAttributes(n),"07ebdcec-0ff6-46ad-92aa-121b8573b8a6"===n._fieldDefId){var a=JSON.parse(n._configJson);n.optionValues=e[a.externalSource].enums.map(function(e){return e.value})}if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}(n._sensitive||m.includes(n._fieldDefId))&&(d||(n.editMode=t.instance._meta.permissions.permittedActions.editSensitive),n.isRedacted=!r.showSensitiveFields),"cmp-text-editor"===n._fieldType&&(n.editMode=!1),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&n.fieldGroup&&(n._fieldGroup=null)})}function l(e,t){var n=[];return e.fields.forEach(function(e){if(e.isExpired=t,0===n.length)return void n.push([e]);var r=n[n.length-1];null!=e._fieldGroup&&r[0]._fieldGroup===e._fieldGroup?r.push(e):n.push([e])}),n}function c(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}function p(e,t){if(!e.instance._stepSubmissions.length)return"";var n=e.instance._stepSubmissions[e.instance._stepSubmissions.length-1],r=null!=n.submissionDateUtc?a.utcIsoToRelativeMoment(n.submissionDateUtc,t).format("MM/DD/YYYY [at] h:mm A"):null;return"Submitted by "+n.firstName+" "+n.lastName+" on "+r}function u(e,t){if(!t)return e;var n=[],i={includePrimaryAssignment:"primaryAssignmentNew",includeSecondaryAssignments:"assignments,secondaryAssignment",includeSupplementals:"supplementals"};return Object.keys(t).forEach(function(e){t[e]||n.push.apply(n,r(i[e].split(",")))}),e.filter(function(e){return!n.includes(e._fieldGroup)})}var d=!1,m=["aa736224-2a09-490a-b069-7cc945a040ea","ba2d2021-59b6-45b9-9e4b-c501d064e012"];return{processStep:o,processFields:s,makeFieldGroups:l,mapName:c,getStepSubmissionDetail:p}}i.$inject=["ssEnum","enumFormStatus","formsHlp","fieldsHlp","ssDateByOrgHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormInstanceFormLogic",i)},{}],117:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$http","$sce","$location","$window","ssActiveUserSvc","ssAsync","ssDateByOrgHlp","ssToastHlp","ssDateHlp","ssEnum","ssModalSvc","rAF","formsHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g,b){function v(e){return Array.isArray(e._tokenFields)&&!!e._tokenFields.find(function(e){return e.sensitive})}function y(e){var t=buildConfig.endpoint.formTemplates,n=t+"/forminstances/"+r.formInstanceId+"?include=steps&includeSensitive="+e;return i({url:n,method:"GET"})}function h(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=l.getEmployeeSync().id;return w.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms?activeTab=current":"/ec-dashboard"}()}function _(e){T.forEach(function(t){var n=e.data.included.find(function(e){return e.attributes.formFieldValues.includes(t.id)}),r=w.formInstance._steps.find(function(e){return e._formFieldValues.includes(t.id)});if(n&&r&&r._meta.permissions.permittedActions.viewSensitive){if(r._stepAction===m.stepAction.employeeProfileReview)return w.showSensitiveFields?(x[t.id]||(x[t.id]=n.attributes.employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileValue),void(r._employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileDisplayValue=x[t.id])):void(r._employeeProfileReviewStepFieldValues.find(function(e){return e.formFieldId===t.id}).profileDisplayValue="******");x[t.id]||(x[t.id]={visibleValue:JSON.parse(n.attributes.formFieldValues)[t.id],redactedValue:r.formFieldValues[t.id]}),r.formFieldValues[t.id]&&(r.formFieldValues[t.id]=r.formFieldValues[t.id].search(O)>-1?x[t.id].visibleValue:x[t.id].redactedValue)}t.isRedacted=!w.showSensitiveFields})}var w=t.routeVm;w.showSensitiveFields=!1;var S=["aa736224-2a09-490a-b069-7cc945a040ea","ba2d2021-59b6-45b9-9e4b-c501d064e012"],P=void 0,T=void 0,x=[],O=/[*]{6,}/g;t.formIsCompleteAndDenied=w.formInstance._statusId===m.formStatus.completedAndDenied;var k=e.get("segmentFormInstanceHeaderLogic"),D=t.vm={fromView:n.params.from||"",firstSave:w.formTemplate._isEmployeeInitiated&&d.isForeverPast(w.formInstance._changedUtc),formIsComplete:w.formInstance._statusId===m.formStatus.complete||w.formInstance._statusId===m.formStatus.completedAndDenied||w.formInstance._statusId===m.formStatus.archived,deleting:!1,formStatus:k.convertFormStatusLabel(w.formInstance)};t.go={toggleFormView:c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}if(e.prev=1,w.isLoading=!0,w.loadingStatus="Generating PDF...",w.PDFdata){e.next=9;break}return e.next=7,b.generatePDFOverlay(w.formInstance,w.showSensitiveFields);case 7:w.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=a.trustAsResourceUrl(w.PDFdata.data.data.attributes.string);case 9:w.showPDFOverlay=!0,w.isLoading=!1,w.loadingStatus="",e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),w.isLoading=!1,w.loadingStatus="";case 18:e.next=21;break;case 20:w.showPDFOverlay=!1;case 21:case"end":return e.stop()}},e,this,[[1,14]])})),toggleSensitiveFields:function(e){w.showSensitiveFields=e,c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w.showPDFOverlay&&(w.isLoading=!0,w.loadingStatus="Generating PDF..."),null!=P){e.next=8;break}return w.isLoading=!0,w.loadingStatus="Retrieving sensitive values...",e.next=7,y(w.showSensitiveFields);case 7:P=e.sent;case 8:return _(P),e.next=11,b.generatePDFOverlay(w.formInstance,w.showSensitiveFields);case 11:w.PDFdata=e.sent,document.getElementById("form-overlay-frame").src=a.trustAsResourceUrl(w.PDFdata.data.data.attributes.string),w.setFieldValidations(),w.isLoading=!1,w.loadingStatus="",e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),w.isLoading=!1,w.loadingStatus="";case 22:case"end":return e.stop()}},e,this,[[0,18]])}))()},save:function(){c(regeneratorRuntime.mark(function e(){var t,n,r,i,a,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:w.isLoading=!0,w.loadingStatus="saving progress...",e.prev=2,t=w.formInstance._steps.find(function(e){return e._stepAction===m.stepAction.employeeProfileReview}),t&&(t._employeeProfileReviewStepFieldValues=t._employeeProfileReviewStepFieldValues.slice()),n=!0,r=!1,i=void 0,e.prev=8,a=w.formInstance._steps[Symbol.iterator]();case 10:if(n=(o=a.next()).done){e.next=19;break}if(s=o.value,!s.disabled&&s._stepAction!==m.stepAction.formCompleted){e.next=14;break}return e.abrupt("continue",16);case 14:return e.next=16,s.$save(!0,!1,!1);case 16:n=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),r=!0,i=e.t0;case 25:e.prev=25,e.prev=26,!n&&a.return&&a.return();case 28:if(e.prev=28,!r){e.next=31;break}throw i;case 31:return e.finish(28);case 32:return e.finish(25);case 33:w.PDFdata=null,w.isLoading=!1,w.loadingStatus="",u.success("","Progress Saved",!1),D.firstSave&&(D.firstSave=!1,l={title:'Progress has been saved. The form will appear in the "current" tab of My Forms until submitted.',primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},f.showStandard(l)),e.next=45;break;case 40:e.prev=40,e.t1=e.catch(2),w.isLoading=!1,w.loadingStatus="",u.error("There was an error saving the form","Error",!1);case 45:case"end":return e.stop()}},e,this,[[2,40],[8,21,25,33],[26,,28,32]])}))()},close:function(){o.search("activeTab",null),r.target&&"_blank"===r.target?window.close():o.url(h())},print:function(){document.querySelector("div.segment-form-instance-form").querySelectorAll("input[type='text']").forEach(function(e){var t=angular.element("<label class='label-print'>"+(e.value?e.value:"--")+"</label>");e.parentElement.append(t[0])});var e=document.querySelectorAll("div.cmp-text-editor");e.forEach(function(e){e.closest(".cmp-field-renderer").classList.add("cmp-text-editor-only")}),u.clear(),g(function(){s.print(),angular.element(document.querySelectorAll("label.label-print")).remove(),e.forEach(function(e){e.closest(".cmp-field-renderer").classList.remove("cmp-text-editor-only")})},t)},showDelete:function(){var e=w.formInstance._currentStepId===w.formTemplate._stepOrder.split(",")[0];return w.formInstance._isEmployeeInitiated&&e},deleteForm:function(){D.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};f.showDestructive(e).then(function(){c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.formInstance.$remove();case 3:u.success("",'"'+w.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:h(),o.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.error("",'Error deleting form "'+w.formTemplate._name+'"');case 11:return e.prev=11,D.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){D.deleting=!1})}};c(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T=w.formTemplate._formFields.filter(function(e){return!0===e._sensitive||S.includes(e._fieldDefId)||v(e)}),t=p.utcIsoToRelativeMoment(w.formInstance._createdUtc,w.org),w.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"});case 3:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceHeader",function(){return new l("header")})},{"base-segment":65}],118:[function(e,t,n){"use strict";function r(e,t){function n(n){var r=e.formStatus.byValue(n._statusId).toLowerCase(),i={incomplete:t.isDate(n._changedUtc)&&0===n._completionPercent?"not started":"in progress",rejected:"denied"};return i[r]?i[r]:r}return{convertFormStatusLabel:n}}r.$inject=["ssEnum","ssDateHlp"],angular.module("ec-forms-segment-logic").factory("segmentFormInstanceHeaderLogic",r)},{}],119:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,a){var o=t.routeVm,s=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e){l.selectedStep=e,n.emit("select-form-step",e)}};n.on("select-summary-step",function(e){var t=l.steps.find(function(t){return t.id===e.id});l.selectedStep=t},t),l.steps=angular.copy(o.formTemplate._steps).filter(function(e){
return e._stepAction!==i.formCompleted});try{a.sortByOrderField(l.steps,o.formTemplate._stepOrder);var c=s.buildParticipantList(o.formInstance._steps);l.steps.forEach(function(e){e.instance=o.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),o.featureFlags.fc_enhanced_denied_form_workflow&&(e.isDenied=!!o.formInstance._deniedInfo&&o.formInstance._deniedInfo.targetStepId===e.id),e.participantPermission=s.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return s.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormInstanceStepsSummary",function(){return new l("steps-summary")})},{"base-segment":65}],120:[function(e,t,n){"use strict";function r(){function e(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function t(e){var t=e._permissions.find(function(t){return n(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function n(e,t){var n=t._stepParticipant?t._stepParticipant.employeeIds[0]:t.employeeId,r=t._stepParticipant?t._stepParticipant.participantType:t.participantType;return e.participantType===ssEnum.stepParticipantType.specificPerson?e.employeeId===n:e.participantType===r}return{buildParticipantList:e,getPermissionLabel:t,matchByParticipants:n}}angular.module("ec-forms-segment-logic").factory("segmentFormInstanceStepsSummaryLogic",r)},{}],121:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isHRMSEnabled:!1}},a={url:"/form-templates",templateUrl:"routes/form-templates/form-templates.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTemplates",new r.State(a,i))}])},{"base-state":66}],122:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","rAF","ssToastHlp","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssListSvc","ssEnum","ssDebounce","enumFormTemplateStatus","formsHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d){function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.currentOffset,s=void 0===a?0:a;return b.loading=!0,b.loadingMessage="Loading Form Templates",null!=h&&h.$abort(),h=i(regeneratorRuntime.mark(function e(){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=f(s),e.next=4,o.queryTemplateObjects(i);case 4:a=e.sent,w.pages=Math.ceil(parseInt(a.$headers["total-results"],10)/v),w.hidePager=w.pages<=1,b.displayTemplates=g(a),n(function(){b.loading=!1,t.$emit("template-objects.data-loaded")},t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.error(e.t0);case 14:return e.prev=14,b.loading=!1,h=null,e.finish(14);case 18:case"end":return e.stop()}},e,this,[[0,11,14,18]])}))()}function f(e){var t={};return t.offset=e,t.limit=v,Object.assign(t,_.addSort(w.sortBy)),null!=w.selectedType&&"All"!=w.selectedType&&Object.assign(t,_.addFilter("templateType",w.selectedType)),null!=w.selectedStatus&&"All"!=w.selectedStatus&&Object.assign(t,_.addFilter("status",w.selectedStatus)),null!=w.selectedCategory&&"All"!=w.selectedCategory&&Object.assign(t,_.addFilter("category",w.selectedCategory)),null!=w.search&&w.search.length>0&&Object.assign(t,_.addFilter("name",w.search)),t}function g(e){return e.forEach(function(e){e.isForm=null!==e._templateId,e.isPacket=null===e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),b.extendCommonProps(e)}),e}var b=t.routeVm,v=25,y=null,h=null,_=e.get("segmentFormTemplatesContentLogic"),w=b.vm=t.vm={currentPage:1,hidePager:!0,pages:0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:u.getEnums().filter(function(e){return 2!==e.value}).reverse(),templateTypes:[{name:"Forms",value:"formtemplate"},{name:"Packets",value:"packet"}],selectedStatus:"All",selectedCategory:"All",search:"",selectedType:"All"},S=t.go={changePage:function(e){y=(e-1)*v,m({currentOffset:y}).then(function(){w.currentPage=e})}},P=function(e){p(e(),350)};t.$watch("vm.search",function(e,t){e!==t&&P(function(){return S.changePage(1)})}),t.$watchGroup(["vm.sortBy","vm.selectedCategory","vm.selectedStatus","vm.selectedType"],function(e,t){e!==t&&null!=b.displayTemplates&&(w.sortBy=e[0],P(function(){return m()}),w.currentPage=1)}),b.extendCommonProps=function(e){var t=a.utcIsoToRelativeMoment(e._modifiedDt,b.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_.mapCategory(b.categories,e._category.id)),e._steps.length&&(d.sortByOrderField(e._steps,e._stepOrder),e._steps=e._steps.filter(function(e){return e._stepAction!==c.stepAction.formCompleted}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":c.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":c.stepAction.byValue(e._stepAction)}))},function(){w.sortBy=w.sortCriteria[0].value,b.loading=!1,b.displayTemplates=[],b.fetchTemplateObjects=m,l.getByExternalId("form.categories").then(function(e){return b.categories=e,m({currentOffset:0})}).catch(function(e){r.error("There was a problem loading form templates")})}()}]},{key:"link",value:function(e,t,n){var r=document.getElementsByClassName("form-templates-list")[0];e.$watch("vm.currentPage",function(e,t){window.scrollTo(0,0)}),e.$watch("vm.hidePager",function(e,t){e?angular.element(r).removeClass("right-pad"):angular.element(r).addClass("right-pad")})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesContent",function(){return new l("content")})},{"base-segment":65}],123:[function(e,t,n){"use strict";function r(){return{mapCategory:function(e,t){var n,r="";return null==t?"":(n=e.filter(function(e){return e.value===t}),n.length>0&&(r=n[0].description),r)},addSort:function(e){var t={};return t["sort["+e.field+"]"]=e.dir,t},addFilter:function(e,t){var n={};return n["filter["+e+"]"]=t,n}}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesContentLogic",r)},{}],124:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssEnum","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","formsHlp","enumFormAdministratorType",function(e,t,n,r,i,a,o,s,l,c,p){t.routeVm,e.get("segmentFormTemplatesHeaderLogic"),t.validator={required:a.required()};t.formAdminEnums=p;var u,d=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,isPinnedToTile:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},m=t.go={create:function(){if(!d.isCreating){d.isCreating=!0;var e="form"===d.form.instanceType?o:s;r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:d.form.instanceTitle,_isEmployeeInitiated:d.form.isEmployeeInitiated,_isPinnedToTile:d.form.isPinnedToTile,_category:d.form.category,_formAdministrator:d.form.formAdministrator});case 3:if(r=t.sent,"form"!==d.form.instanceType){t.next=19;break}return t.next=7,o.get({id:r.id,include:"steps,formFields,statusHistory,files"});case 7:for(r=t.sent,a=1;a<=2;a++)r._steps.push(c.makeStep());return r._steps[1]._name="Form and Workflow is Complete",r._steps[1]._stepAction=i.stepAction.formCompleted,r._steps[1]._stepParticipant.participantType=i.stepParticipantType.employeeChosenWhenSent,t.next=14,r._steps.$save();case 14:return t.next=16,r.$refresh();case 16:return r._stepOrder=c.updateStepOrder(r),t.next=19,r.$save();case 19:n.url("/ec-forms/"+d.form.instanceType+"-builder/"+r.id+"/builder"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),l.error("","Error creating "+d.form.instanceType),console.error("Error creating "+d.form.instanceType,t.t0);case 26:return t.prev=26,d.isCreating=!1,t.finish(26);case 29:case"end":return t.stop()}},t,this,[[0,22,26,29]])}))()}},toggleMenu:function(){!0!==d.openMenu&&(d.openMenu=!d.openMenu,m.reset())},reset:function(){d.form.instanceType=null,d.form.instanceTitle=null,d.form.isEmployeeInitiated=!1,d.form.isPinnedToTile=!1,d.form.formAdministrator.employeeId=null,d.form.formAdministrator.formAdministratorType=null,d.form.category.id=null,d.specificAdmin=[]},cancel:function(){d.openMenu=!1,m.reset()}},f=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;d.altLabel="form"===e?"template":"",u&&u(),r="form"!==e?f.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):f,u=t.$watchGroup(r,function(e,t){d.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",u),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===d.form.formAdministrator.formAdministratorType&&(d.form.formAdministrator.formAdministratorType=null),d.formAdminTypes=d.formAdminTypes.filter(function(e){return 1!==e.value})):d.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTemplatesHeader",function(){return new l("header")})},{"base-segment":65}],125:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTemplatesHeaderLogic",r)},{}],126:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isDataIntegrationsEnabled:!1,fc_enhanced_denied_form_workflow:!1,fc_track_forms_export:!1,fc_nov_2020_new_track_forms:!1,fc_enable_referential_data_status:!1,fc_include_form_archival_statuses:!1,fc_enable_form_export_to_pdf:!1,fc_work_relationships:!1,fc_form_instance_expiration:!1},templateFilterOptions:[]},a={url:"/form-tracking",templateUrl:"routes/form-tracking/form-tracking.html",resolve:{form:function(){},org:["ssAsync","ssOrganizationSvc","ssToastHlp","headerFilterLogicHlp","ssDateByOrgHlp",function(e,t,n,r,a){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,i.filterConfig={formStatus:null,search:null,dateSent:r.getDefaultDateSent(i.org,a),sentToLocation:"-1",sentByParticipant:"0",sortBy:"duedate",templateFilterSelections:[],workRelationship:[],staffType:[]},e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))()}],filterConfig:["$stateParams","headerFilterLogicHlp",function(e,t){}],empId:["ssAsync","ssActiveUserSvc","ssEmployeeApi","ssToastHlp",function(e,t,n,r){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getIdentityByTypeSync("employee");case 3:if(i.empId=e.sent,!i.empId){e.next=8;break}return e.next=7,n.get({id:i.empId},null,!1);case 7:i.currentUser=e.sent;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r.error("There was an error retrieving employee data. Please see console for more details","",!1);case 13:case"end":return e.stop()}},e,this,[[0,10]])}))()}],$title:function(){return"Frontline Central - Track Forms"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},redirectToState:"base.formTracking.templateSummary",$permissions:function(e){return e.isPermittedAction("formInstances","track")}};angular.module("ec-forms").config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/ec-forms/form-tracking/","/ec-forms/form-tracking"),e.state("base.formTracking",new r.State(a,i))}]).run(["$rootScope","$state",function(e,t){e.vm=i}])},{"base-state":66}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$rootScope","$scope","$state","$location","ssEnum","ssFormInstancesApi","ssDateByOrgHlp","ssStorage",function(e,t,n,r,i,a,o,s,l){var c=n.routeVm;n.parentVm=c,c.getFormsPromise=null,c.getFormCountsPromise=null;var p=(e.get("segmentFormTrackingContentLogic"),n.vm={loading:!1}),u=i.search().resolvemethod;"ReadModel"!==u&&"Mongo"!==u||(p.resolveMethod=u);n.go={changePage:function(e){c.currentPage=e.currentPage},urgent:function(){return{api:o.queryByOrg,config:{"filter[dueDateUtc]":s.safeNowRelativeTo(c.org).add(4,"days").toISOString(),"filter[status]":a.formStatus.incomplete+","+a.formStatus.rejected}}},denied:function(){return{api:o.queryByOrg,config:{"filter[status]":a.formStatus.rejected}}},notStarted:function(){return{api:o.queryNotStarted}},inProgress:function(){return{api:o.queryInProgress,config:{"filter[status]":c.filterConfig.formStatus}}},complete:function(){return{api:o.queryByOrg,config:{"filter[status]":c.filterConfig.formStatus,from:c.filterConfig.dateSent.from.toISOString(),to:c.filterConfig.dateSent.to.toISOString()}}}};t.$on("$stateChangeStart",function(e,t,n){t.name.includes("formTracking")||(l.clear("base.formTracking.templateSummary.localFilters"),l.clear("base.formTracking.viewBySubject.localFilters")),l.clear("base.formTracking.templateSummaryDetails.storedData")})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingContent",function(){return new l("content")})},{"base-segment":65}],128:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingContentLogic",r)},{}],129:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$rootScope","$scope","$timeout","ssLocationSvc","ssEnum","ssFormTemplatesApi","ssFormInstancesApi","ssToastHlp","ssAsync","ssModalSvc","headerFilterLogicHlp","ssDateByOrgHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d){function m(){r(function(){var e={title:"Please wait...",content:"",size:"small"};p.showWait(e),c(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=v(),e.next=4,s.downloadStatusCsv(t.params,t.body);case 4:n=e.sent,window.location.href=n.data.data.attributes.string,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.error(e.t0.data.message,"There was an problem creating your export");case 11:return e.prev=11,p.clearDialog(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()},100)}function f(){_.customDateRange={from:moment().subtract(14,"days").toDate(),to:moment().toDate()},_.dateSentRangeOptions=u.getDateLimits(_.customDateRange.from),_.showCustomDateRange=!0}function g(e){switch(e){case"complete":h.filterConfig.formStatus=a.formStatus.complete+","+a.formStatus.completedAndDenied;break;case"in-progress":h.filterConfig.formStatus=a.formStatus.incomplete+","+a.formStatus.rejected;break;default:h.filterConfig.formStatus=null}}function b(){_.formTemplates=[],_.packets=[],o.getFilterTemplates({startDate:h.filterConfig.dateSent.from.toISOString(),endDate:h.filterConfig.dateSent.to.toISOString()}).then(function(e){var t=e.map(function(e){return{id:e._templateId||e.id,_name:e._name,_objectType:e._objectType}});h.templateFilterOptions=t,_.formTemplates=t.filter(function(e){return"FormTemplate"===e._objectType}),_.packets=t.filter(function(e){return"Packet"===e._objectType})}).catch(function(e){console.error("ERROR",e)})}function v(){var e=u.getSelectedPacketsAndTemplates(h.filterConfig.templateFilterSelections,h.templateFilterOptions),t=Object.assign({from:h.filterConfig.dateSent.from,to:h.filterConfig.dateSent.to,filter:Object.assign({},u.listFilterOrNull(e.packetIds,"packettemplateids"),u.listFilterOrNull(e.templateIds,"formtemplateids"),u.textFilterOrNull(h.filterConfig.search,"search"))});return"-1"!==h.filterConfig.sentToLocation&&Object.assign(t.filter,u.textFilterOrNull(h.filterConfig.sentToLocation,"locationids")),"0"!==h.filterConfig.sentByParticipant&&Object.assign(t.filter,u.textFilterOrNull(h.empId,h.filterConfig.sentByParticipant)),{params:{id:h.org.id},body:{attributes:t}}}function y(){var e=i.getAll();return e.find(function(e){return"-1"===e.id})||e.splice(0,0,{_name:"Anywhere",id:"-1"}),e}var h=n.routeVm;e.get("segmentFormTrackingHeaderLogic");h.selectedCategory="urgent",h.counts={};var _=n.vm={sentByCriteria:[{value:"0",name:"All"},{value:"creatorId",name:"Form Sender - Myself"},{value:"formadministrator",name:"Form Admin - Myself"}],sortOptions:[{id:0,value:"duedate",name:"Due Date",categories:["urgent","denied","not-started","in-progress","complete"]},{id:1,value:"primaryrecipient",name:"Last Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:2,value:"formname",name:"Form/Packet Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"]},{id:3,value:"recentlysent",name:"Recently Sent",categories:["urgent","denied","not-started","in-progress"]},{id:4,value:"completionpercent",name:"Workflow Progress",categories:["urgent","denied","in-progress"]}],filterOptions:[{id:0,value:a.formStatus.incomplete+","+a.formStatus.rejected,name:"All",categories:["in-progress"]},{id:1,value:""+a.formStatus.rejected,name:"Step Denied",categories:["in-progress"]},{id:2,value:""+a.formStatus.incomplete,name:"Progressing",categories:["in-progress"]},{id:3,value:a.formStatus.complete+","+a.formStatus.completedAndDenied,name:"All",categories:["complete"]},{id:4,value:""+a.formStatus.completedAndDenied,name:"Form Denied",categories:["complete"]},{id:5,value:""+a.formStatus.complete,name:"Complete",categories:["complete"]}],locations:[],dateSentOptions:function(){for(var e=d.todaysStartRelativeTo(h.org),t=u.getFCAddedDate(h.org._applications),n=u.getYearsSinceCreation(e,t),r=[u.lastXDays(e,7),u.lastXDays(e,14),u.lastXDays(e,60),u.yearToDate(e),u.currentSchoolYear(e,h.org,d)],i=1;i<=n&&i<=2;i++)r.push(u.getPreviousSchoolyear(e,i,h.org,d));return r}(),dateSentIdx:1,formTemplates:[],packets:[],showCustomDateRange:!1};n.go={filter:function(e){if(h.selectedCategory!==e){var t=_.sortOptions.findIndex(function(e){return e.value===h.filterConfig.sortBy});_.sortOptions[t].categories.includes(e)||(h.filterConfig.sortBy="duedate"),g(e),h.currentPage=1,h.selectedCategory=e}},showFilter:function(){return!!h.featureFlags.fc_enhanced_denied_form_workflow&&("in-progress"===h.selectedCategory||"complete"===h.selectedCategory)},clearCustomRange:function(){_.dateSentIdx=1,_.showCustomDateRange=!1},handleExportFormsClick:function(){var e="Generate report for "+_.totalFormCount.toString()+" "+(1===_.totalFormCount?"template":"templates")+"?",t={title:"",content:e,primaryText:"Download",secondaryText:"Cancel",size:"medium"};p.showStandard(t).then(function(){m()})}};n.$watch("routeVm.filterConfig",function(e,t){e!==t&&(h.currentPage=1,h.filterConfig=Object.assign({},e))},!0),n.$watch("routeVm.counts",function(e,t){e!==t&&(_.totalFormCount=u.getSumOfCounts(h.counts))}),n.$watch("vm.dateSentIdx",function(e,t){if(e!==t){if("customRange"===e)return void f();h.filterConfig.dateSent=_.dateSentOptions[e],b()}}),n.$watch("vm.customDateRange",function(e,t){e!==t&&(u.isRangeGreaterThanYear(e)&&(_.customDateRange.to=moment(_.customDateRange.from).add(1,"year").toDate()),h.filterConfig.dateSent=u.getDateRange(e,h.org,d),_.dateSentRangeOptions=u.getDateLimits(e))},!0),function(){b(),_.locations=y()}()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingHeader",function(){return new l("header")})},{"base-segment":65}],130:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingHeaderLogic",r)},{}],131:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("base-segment"),p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"controller",value:["$injector","$scope","$rootScope","$stateParams","$state","ssFormInstancesApi","ssEnum","ssStorage","ssDateByOrgHlp","headerFilterLogicHlp","bulkActionsHlp","printFormToPdfHlp",function(e,t,n,i,a,o,l,c,p,u,d,m){function f(){var e=Object.assign({from:S.filterConfig.dateSent.from,to:S.filterConfig.dateSent.to,filter:Object.assign({},u.listFilterOrNull(i.packetMenuData&&[i.packetMenuData.packet.id],"packettemplateids"),u.listFilterOrNull([i.templateId],"formtemplateids"),u.textFilterOrNull(S.localFilters.search,"search"),u.listFilterOrNull(u.getSelectedIds(S.filterConfig.workRelationship,"id"),"workrelationshiptype"),u.listFilterOrNull(u.getSelectedIds(S.filterConfig.staffType,"value"),"stafftype"),{fordetails:!0}),sort:r({},S.localFilters.sortBy,"asc")});return"-1"!==S.filterConfig.sentToLocation&&Object.assign(e.filter,u.textFilterOrNull(S.filterConfig.sentToLocation,"locationids")),"0"!==S.filterConfig.sentByParticipant&&Object.assign(e.filter,u.textFilterOrNull(h.empId,S.filterConfig.sentByParticipant)),e}function g(){var e={templateName:S.templateName,sharedFilters:S.sharedFilters,localFilters:S.localFilters,selectedCategory:S.selectedCategory,packet:S.packet,packetMenuOptions:S.packetMenuOptions};c.save(a.current.name+".storedData",e,{persistent:!0,expires:!1})}function b(){var e=c.load(a.current.name+".storedData");if(e){e.sharedFilters.dateSent.to=moment(e.sharedFilters.dateSent.to),e.sharedFilters.dateSent.from=moment(e.sharedFilters.dateSent.from);S.sortOptions.find(function(t){return t.isVisible&&t.value===e.localFilters.sortBy})||(e.localFilters.sortBy=S.localFilters.sortBy)}return[e?e.templateName:i.templateName,e?e.selectedCategory:S.selectedCategory,e?e.sharedFilters:S.sharedFilters,e?e.localFilters:S.localFilters,e?e.packet:S.packet,e?e.packetMenuOptions:S.packetMenuOptions]}function v(e){switch(e){case"complete":S.localFilters.formStatus=l.formStatus.complete+","+l.formStatus.completedAndDenied;break;case"in-progress":S.localFilters.formStatus=l.formStatus.incomplete+","+l.formStatus.rejected;break;default:S.localFilters.formStatus=null}}function y(){var e={};return e["filter[status]"]=S.localFilters.formStatus,"boolean"==typeof S.localFilters.archivalStatus?e["filter[archived]"]=S.localFilters.archivalStatus:"All"!==S.localFilters.archivalStatus&&(e["filter[archived]"]=!1),e}var h=t.routeVm,_=t.parentVm;h.org=n.vm.org,h.currentUser=n.vm.currentUser,h.empId=n.vm.empId,h.featureFlags=Object.assign({},n.vm.featureFlags,h.featureFlags);var w=_.featureFlags.fc_form_instance_expiration,S=(e.get("segmentFormTrackingTemplateSummaryDetailsContentLogic"),t.vm={currentPage:1,sharedFilters:i.filters||n.vm.filterConfig,localFilters:{formStatus:null,search:null,sortBy:w?"dueorexpirationdateutc":"duedate",archivalStatus:null},packet:i.packetMenuData?i.packetMenuData.packet:null,packetMenuOptions:i.packetMenuData?i.packetMenuData.menuOptions:null,templateName:null,sortOptions:[{id:0,value:"dueorexpirationdateutc",name:"Due / Expiration Date",categories:["urgent","denied","not-started","in-progress"],isVisible:w},{id:1,value:"duedate",name:"Due Date",categories:["urgent","denied","not-started","in-progress"],isVisible:!0},{id:2,value:"expirationdateutc",name:"Expiration Date",categories:["urgent","denied","not-started","in-progress"],isVisible:w},{id:3,value:"primaryrecipient",name:"Last Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"],isVisible:!0},{id:4,value:"formname",name:"Form/Packet Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"],isVisible:!0},{id:5,value:"recentlysent",name:"Recently Sent",
categories:["urgent","denied","not-started","in-progress"],isVisible:!0},{id:6,value:"completionpercent",name:"Workflow Progress",categories:["urgent","denied","in-progress"],isVisible:!0}],statusFilterOptions:[{id:0,value:l.formStatus.incomplete+","+l.formStatus.rejected,name:"All",categories:["in-progress"]},{id:1,value:""+l.formStatus.rejected,name:"Denied",categories:["in-progress"]},{id:2,value:""+l.formStatus.incomplete,name:"Not Denied",categories:["in-progress"]},{id:3,value:l.formStatus.complete+","+l.formStatus.completedAndDenied,name:"All",categories:["complete"]},{id:4,value:""+l.formStatus.completedAndDenied,name:"Denied",categories:["complete"]},{id:5,value:""+l.formStatus.complete,name:"Not Denied",categories:["complete"]}],formArchivalStatus:[{id:0,value:!1,name:"Active"},{id:1,value:!0,name:"Archived"},{id:2,value:"All",name:"All"}],loading:!1,selectedCategory:"urgent",selectedPacketFormOption:null}),P=t.go={urgent:function(){return{api:o.queryByOrg,config:{"filter[dueDateUtc]":p.safeNowRelativeTo(h.org).add(4,"days").toISOString(),"filter[status]":l.formStatus.incomplete+","+l.formStatus.rejected}}},denied:function(){return{api:o.queryByOrg,config:{"filter[status]":l.formStatus.rejected}}},notStarted:function(){return{api:o.queryNotStarted}},inProgress:function(){return{api:o.queryInProgress,config:{"filter[status]":S.localFilters.formStatus}}},complete:function(){return{api:o.queryByOrg,config:y()}},filter:function(e){if(e!==S.selectedCategory){h.pages=1;var t=S.sortOptions.findIndex(function(e){return e.value===S.localFilters.sortBy});S.sortOptions[t].categories.includes(e)||(S.localFilters.sortBy=w?"primaryrecipient":"duedate"),_.featureFlags.fc_include_form_archival_statuses&&(S.localFilters.archivalStatus=!1),v(e),S.selectedCategory=e,g()}},showFilter:function(){return!!h.featureFlags.fc_enhanced_denied_form_workflow&&("in-progress"===S.selectedCategory||"complete"===S.selectedCategory)},changePage:function(e){S.currentPage=e.currentPage},updateResults:function(){S.currentPage=1,S.filterConfig=Object.assign({},S.sharedFilters,S.localFilters),g()},sendReminders:function(){var e=f();d.sendRemindersForSearchByEmployee(u.getReminderCounts(h.counts,w),e)},downloadStatusCsv:function(){var e=u.getSumOfCounts(h.counts),t=f(),n={params:{id:h.org.id},body:{attributes:t}};d.downloadStatusCsv(e,n)},downloadResponsesXlsx:function(){var e=u.getSumOfCounts(h.counts),t=f(),n={params:{id:h.org.id},body:{attributes:t}};d.downloadResponsesXlsx(e,n)},printFormToPdf:function(){var e=u.getSumOfCounts(h.counts),t=m.printFormToPdfPayload(S.filterConfig,S.localFilters,h.org.id);d.printFormToPdf(e,t)}};t.$watch("vm.selectedPacketFormOption",function(e,t){e!==t&&(a.go(a.current,{templateId:e.id},{location:!0,inherit:!0,notify:!1}),S.sharedFilters.templateFilterSelections=[S.packet,e],S.templateName=e._name,g())}),t.$watch("vm.localFilters",function(e,t){e!==t&&P.updateResults()},!0),function(){var e=b(),t=s(e,6);S.templateName=t[0],S.selectedCategory=t[1],S.sharedFilters=t[2],S.localFilters=t[3],S.packet=t[4],S.packetMenuOptions=t[5],S.selectedPacketFormOption=S.packetMenuOptions?S.packetMenuOptions.find(function(e){return e.id===i.templateId}):null,P.updateResults()}()}]}]),t}(c.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingTemplateSummaryDetailsContent",function(){return new p("content")})},{"base-segment":65}],132:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingTemplateSummaryDetailsContentLogic",r)},{}],133:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{},counts:{_complete:0,_denied:0,_inProgress:0,_notStarted:0,_urgent:0}},a={url:"/template-summary-details?{templateId:[0-9A-Za-z-]+}",templateUrl:"routes/form-tracking/template-summary-details/template-summary-details.html",params:{templateId:null,templateName:null,packetMenuData:null,filters:null},resolve:{$title:function(){return"Employee Records - Template Summary Details"}},$permissions:function(e){return e.isPermittedAction("formInstances","track")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTracking.templateSummaryDetails",new r.State(a,i))}])},{"base-state":66}],134:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$rootScope","$state","$stateParams","$scope","ssAsync","ssFormInstancesApi","bulkActionsHlp","headerFilterLogicHlp","ssDateByOrgHlp","ssStorage","ssToastHlp","ssObjectHlp","ssEnum","printFormToPdfHlp",function(e,t,n,i,a,o,s,l,c,p,u,d,m,f,g){function b(){var e=c.getSelectedPacketsAndTemplates(A.filterConfig.templateFilterSelections,t.vm.templateFilterOptions),n=Object.assign({from:A.filterConfig.dateSent.from,to:A.filterConfig.dateSent.to,filter:Object.assign({},c.listFilterOrNull(e.packetIds,"packettemplateids"),c.listFilterOrNull(e.templateIds,"formtemplateids"),c.textFilterOrNull(A.localFilters.search,"formpacketname"),c.listFilterOrNull(c.getSelectedIds(A.filterConfig.workRelationship,"id"),"workrelationshiptype"),c.listFilterOrNull(c.getSelectedIds(A.filterConfig.staffType,"value"),"stafftype")),sort:r({},A.localFilters.sortBy.value,A.localFilters.sortBy.dir)});return"-1"!==A.filterConfig.sentToLocation&&Object.assign(n.filter,c.textFilterOrNull(A.filterConfig.sentToLocation,"locationids")),"0"!==A.filterConfig.sentByParticipant&&Object.assign(n.filter,c.textFilterOrNull(t.vm.empId,A.filterConfig.sentByParticipant)),{params:{id:k.org.id},body:{attributes:n}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t;return o(regeneratorRuntime.mark(function e(){var t,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A.loading=!0,A.loadingMessage="Loading Forms/Packets",t={limit:F,offset:(n-1)*F},r=O(t),h(),e.prev=5,e.next=8,s.queryFormPacketViewSummary(r);case 8:i=e.sent,i.forEach(function(e){e.isPacket="PacketTemplate"===e._objectType,e.lastSentDate=p.utcIsoToRelativeMoment(e._lastSentDt,k.org).format("M/D/YY"),e.percentComplete=Math.round(e._completionPct)+"%",e.progressText=e._completedForms+" / "+e._totalForms}),A.formPacketSummaryItems=i,k.pages=A.formPacketSummaryItems.length&&Math.ceil(parseInt(A.formPacketSummaryItems.$headers["total-results"],10)/F),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(5),a=m.glean(e.t0,function(e){return e.data.errors.Title},!1),o=a?e.t0.data.errors.Title:e.t0.message,d.error(o);case 19:return e.prev=19,A.loading=!1,e.finish(19);case 22:case"end":return e.stop()}},e,this,[[5,14,19,22]])}))()}function y(){A.localFilters.sortBy=A.sortOptions[0],D.featureFlags.fc_include_form_archival_statuses&&(A.localFilters.archivalStatus=!1);var e=u.load(n.current.name+".localFilters");e&&(Object.assign(A.localFilters,e.localFilters),A.currentPage=i.resetCurrentPage?1:e.currentPage)}function h(){var e={localFilters:A.localFilters,currentPage:A.currentPage};u.save(n.current.name+".localFilters",e,{persistent:!0,expires:!1})}function _(e){return e.filter(function(e){return"Packet"===e._objectType}).map(function(e){return e.id})}function w(e){return e.filter(function(e){return"FormTemplate"===e._objectType}).map(function(e){return e.id})}function S(){return _(A.filterConfig.templateFilterSelections)}function P(){return w(A.filterConfig.templateFilterSelections)}function T(){var e=_(t.vm.templateFilterOptions),n=S();return e.length===n.length&&e.every(function(e){return n.includes(e)})}function x(){var e=w(t.vm.templateFilterOptions),n=P();return e.length===n.length&&e.every(function(e){return n.includes(e)})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},e);if(null!==A.filterConfig.dateSent.from&&(n.from=A.filterConfig.dateSent.from.toISOString()),null!==A.filterConfig.dateSent.to&&(n.to=A.filterConfig.dateSent.to.toISOString()),null!=A.localFilters.search&&A.localFilters.search.length>0&&(n["filter[search]"]=A.localFilters.search),null!=A.filterConfig.sentToLocation&&"-1"!==A.filterConfig.sentToLocation&&(n["filter[locationIds]"]=A.filterConfig.sentToLocation),A.localFilters.sortBy&&(n["sort["+A.localFilters.sortBy.value+"]"]=A.localFilters.sortBy.dir),null!=A.filterConfig.sentByParticipant&&"0"!==A.filterConfig.sentByParticipant&&(delete n["filter[formadministrator]"],delete n["filter[creatorId]"],n["filter["+A.filterConfig.sentByParticipant+"]"]=t.vm.empId),null!=A.filterConfig.formStatus&&(n["filter[status]"]=A.filterConfig.formStatus),"boolean"==typeof A.localFilters.archivalStatus?n["filter[archived]"]=A.localFilters.archivalStatus:"All"!==A.localFilters.archivalStatus&&(n["filter[archived]"]=!1),null!=A.filterConfig.templateFilterSelections){var r=S(),i=P();r.length>0&&T()&&i.length>0&&x()||(n["filter[packetIds]"]=r.join(","),n["filter[templateIds]"]=i.join(","))}return null!=A.filterConfig.workRelationship&&A.filterConfig.workRelationship.length>0&&(n["filter[workrelationshiptype]"]=A.filterConfig.workRelationship.map(function(e){return e.id}).join(",")),null!=A.filterConfig.staffType&&A.filterConfig.staffType.length>0&&(n["filter[stafftype]"]=A.filterConfig.staffType.map(function(e){return e.value}).join(",")),n}var k=a.routeVm,D=a.parentVm,F=20,A=(e.get("segmentFormTrackingTemplateSummaryContentLogic"),a.vm={filterConfig:i.filterConfig||t.vm.filterConfig,formPacketSummaryItems:[],loading:!1,localFilters:{search:null,sortBy:null,archivalStatus:null},sortOptions:[{dir:"desc",id:0,name:"Last Sent (Most Recent First)",value:"recentlysent"},{dir:"asc",id:1,name:"Last Sent (Oldest First)",value:"recentlysent"},{dir:"asc",id:2,name:"Form/Packet Name (A-Z)",value:"formname"}],formArchivalStatus:[{id:0,value:!1,name:"Active"},{id:1,value:!0,name:"Archived"},{id:2,value:"All",name:"All"}],currentPage:1});k.pages=0;a.go={updateResults:function(){v({page:1})},changePage:function(e){A.currentPage=e.currentPage,v({page:e.currentPage})},sendReminders:function(){var e=O();e["filter[status]"]=[0,2].join(","),s.queryFormPacketViewCounts(e).then(function(t){l.sendReminders(t._totalInstances,e)})},downloadStatusCsv:function(){var e=b();l.downloadStatusCsv(A.formPacketSummaryItems.$headers["total-instances"],e)},printFormToPdf:function(){var e=g.printFormToPdfPayload(A.filterConfig,A.localFilters,k.org.id);l.printFormToPdf(A.formPacketSummaryItems.$headers["total-instances"],e)}};!function(){y(),v().then(function(){a.$watch("vm.localFilters",function(e,t){e!=t&&(A.currentPage=1,v())},!0)})}()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingTemplateSummaryContent",function(){return new c("content")})},{"base-segment":65}],135:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingTemplateSummaryContentLogic",r)},{}],136:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isDataIntegrationsEnabled:!1,fc_enhanced_denied_form_workflow:!1,fc_track_forms_export:!1,fc_nov_2020_new_track_forms:!1,fc_include_form_archival_statuses:!1}},a={url:"/template-summary",templateUrl:"routes/form-tracking/template-summary/template-summary.html",params:{resetCurrentPage:!1,filterConfig:null},resolve:{$title:function(){return"Frontline Central Form Tracking - Template Summary"},org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formInstances","track")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTracking.templateSummary",new r.State(a,i))}])},{"base-state":66}],137:[function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$rootScope","$scope","$state","$stateParams","ssAsync","ssEmployeeApi","ssFormInstancesApi","ssDateByOrgHlp","ssObjectHlp","ssEnum","ssStorage","ssToastHlp","headerFilterLogicHlp","bulkActionsHlp","printFormToPdfHlp",function(e,t,n,i,a,o,s,l,c,p,u,d,m,f,g,b){function v(){var e=f.getSelectedPacketsAndTemplates(x.filterConfig.templateFilterSelections,t.vm.templateFilterOptions),n=Object.assign({from:x.filterConfig.dateSent.from,to:x.filterConfig.dateSent.to,filter:Object.assign({},f.listFilterOrNull(e.packetIds,"packettemplateids"),f.listFilterOrNull(e.templateIds,"formtemplateids"),f.textFilterOrNull(x.localFilters.search,"search"),f.listFilterOrNull(f.getSelectedIds(x.filterConfig.workRelationship,"id"),"workrelationshiptype"),f.listFilterOrNull(f.getSelectedIds(x.filterConfig.staffType,"value"),"stafftype")),sort:r({},x.localFilters.sortBy,"asc")});return"-1"!==x.filterConfig.sentToLocation&&Object.assign(n.filter,f.textFilterOrNull(x.filterConfig.sentToLocation,"locationids")),"0"!==x.filterConfig.sentByParticipant&&Object.assign(n.filter,f.textFilterOrNull(S.empId,x.filterConfig.sentByParticipant)),n}function y(){var e=d.load(i.current.name+".localFilters");if(e){x.sortOptions.find(function(t){return t.isVisible&&t.value===e.localFilters.sortBy})||(e.localFilters.sortBy=x.localFilters.sortBy),Object.assign(x.localFilters,e.localFilters),x.selectedCategory=e.selectedCategory,x.currentPage=a.resetCurrentPage?1:e.currentPage}return Object.assign({},x.filterConfig,x.localFilters)}function h(){var e={localFilters:x.localFilters,currentPage:x.currentPage,selectedCategory:x.selectedCategory};d.save(i.current.name+".localFilters",e,{persistent:!0,expires:!1})}function _(e){switch(e){case"complete":x.localFilters.formStatus=u.formStatus.complete+","+u.formStatus.completedAndDenied;break;case"in-progress":x.localFilters.formStatus=u.formStatus.incomplete+","+u.formStatus.rejected;break;default:x.localFilters.formStatus=null}}function w(){var e={};return e["filter[status]"]=x.localFilters.formStatus,"boolean"==typeof x.localFilters.archivalStatus?e["filter[archived]"]=x.localFilters.archivalStatus:"All"!==x.localFilters.archivalStatus&&(e["filter[archived]"]=!1),e}var S=n.routeVm,P=n.parentVm;e.get("segmentFormTrackingViewBySubjectContentLogic");S.featureFlags=Object.assign({},t.vm.featureFlags,S.featureFlags);var T=P.featureFlags.fc_form_instance_expiration,x=n.vm={currentPage:1,filterConfig:a.filterConfig||t.vm.filterConfig,localFilters:{formStatus:null,search:null,sortBy:T?"dueorexpirationdateutc":"duedate",archivalStatus:null},sortOptions:[{id:0,value:"dueorexpirationdateutc",name:"Due / Expiration Date",categories:["urgent","in-progress","not-started"],isVisible:T},{id:1,value:"duedate",name:"Due Date",categories:["urgent","denied","not-started","in-progress"],isVisible:!0},{id:3,value:"expirationdateutc",name:"Expiration Date",categories:["urgent","in-progress","not-started"],isVisible:T},{id:4,value:"primaryrecipient",name:"Last Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"],isVisible:!0},{id:5,value:"formname",name:"Form/Packet Name (A-Z)",categories:["urgent","denied","not-started","in-progress","complete"],isVisible:!0},{id:6,value:"recentlysent",name:"Recently Sent",categories:["urgent","denied","not-started","in-progress"],isVisible:!0},{id:5,value:"completionpercent",name:"Workflow Progress",categories:["urgent","denied","in-progress"],isVisible:!0}],statusFilterOptions:[{id:0,value:u.formStatus.incomplete+","+u.formStatus.rejected,name:"All",categories:["in-progress"]},{id:1,value:""+u.formStatus.rejected,name:"Denied",categories:["in-progress"]},{id:2,value:""+u.formStatus.incomplete,name:"Not Denied",categories:["in-progress"]},{id:3,value:u.formStatus.complete+","+u.formStatus.completedAndDenied,name:"All",categories:["complete"]},{id:4,value:""+u.formStatus.completedAndDenied,name:"Denied",categories:["complete"]},{id:5,value:""+u.formStatus.complete,name:"Not Denied",categories:["complete"]}],formArchivalStatus:[{id:0,value:!1,name:"Active"},{id:1,value:!0,name:"Archived"},{id:2,value:"All",name:"All"}],loading:!1,selectedCategory:"urgent"};n.go={filter:function(e){if(e!==x.selectedCategory){S.pages=1;var t=x.sortOptions.findIndex(function(e){return e.value===x.localFilters.sortBy});x.sortOptions[t].categories.includes(e)||(x.localFilters.sortBy=T?"primaryrecipient":"dueDate"),P.featureFlags.fc_include_form_archival_statuses&&(x.localFilters.archivalStatus=!1),_(e),x.selectedCategory=e,h()}},showFilter:function(){return!!S.featureFlags.fc_enhanced_denied_form_workflow&&("in-progress"===x.selectedCategory||"complete"===x.selectedCategory)},urgent:function(){return{api:l.queryByOrg,config:{"filter[dueDateUtc]":c.safeNowRelativeTo(S.org).add(4,"days").toISOString(),"filter[status]":u.formStatus.incomplete+","+u.formStatus.rejected}}},denied:function(){return{api:l.queryByOrg,config:{"filter[status]":u.formStatus.rejected}}},notStarted:function(){return{api:l.queryNotStarted}},inProgress:function(){return{api:l.queryInProgress,config:{"filter[status]":x.localFilters.formStatus}}},complete:function(){return{api:l.queryByOrg,config:w()}},changePage:function(e){x.currentPage=e.currentPage,h()},updateResults:function(){x.currentPage=1,x.filterConfig=Object.assign({},x.filterConfig,x.localFilters),h()},sendReminders:function(){var e=v();g.sendRemindersForSearchByEmployee(f.getReminderCounts(S.counts,T),e)},downloadStatusCsv:function(){var e=f.getSumOfCounts(S.counts),t=v(),n={params:{id:S.org.id},body:{attributes:t}};g.downloadStatusCsv(e,n)},printFormToPdf:function(){var e=f.getSumOfCounts(S.counts),t=b.printFormToPdfPayload(x.filterConfig,x.localFilters,S.org.id);g.printFormToPdf(e,t)}};n.$watch("vm.localFilters",function(e,t){e!==t&&(x.filterConfig=Object.assign({},x.filterConfig,e),x.currentPage=1,h())},!0),o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x.loading=!0,S.pages=1,e.prev=2,x.filterConfig=y(),!S.empId){e.next=8;break}return e.next=7,s.get({id:S.empId},null,!1);case 7:S.currentUser=e.sent;case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),t=p.glean(e.t0,function(e){return e.data.errors.Title},!1),n=t?e.t0.data.errors.Title:e.t0.message,m.error(n);case 15:return e.prev=15,x.loading=!1,e.finish(15);case 18:case"end":return e.stop()}},e,this,[[2,10,15,18]])}))()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentFormTrackingViewBySubjectContent",function(){return new c("content")})},{"base-segment":65}],138:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentFormTrackingViewBySubjectContentLogic",r)},{}],139:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{isDataIntegrationsEnabled:!1,fc_enhanced_denied_form_workflow:!1,fc_track_forms_export:!1,fc_nov_2020_new_track_forms:!1,fc_include_form_archival_statuses:!1},counts:{_complete:0,_denied:0,_inProgress:0,_notStarted:0,_urgent:0}},a={url:"/view-by-subject",templateUrl:"routes/form-tracking/view-by-subject/view-by-subject.html",params:{resetCurrentPage:!1,filterConfig:null},resolve:{form:function(){},empId:["ssAsync","ssActiveUserSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getIdentityByTypeSync("employee");case 3:i.empId=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving employee data. Please see console for more details","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Track Forms"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("formInstances","track")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.formTracking.viewBySubject",new r.State(a,i))}])},{"base-state":66}],140:[function(e,t,n){"use strict";var r=e("base-state"),i={props:!1,formInstance:null,formTemplate:null,hasPDFOverlay:null,showPDFOverlay:null},a={url:"/form-instance/{formInstanceId:[0-9A-Za-z-]+}?from&returnUrl",templateUrl:"routes/inbox/form-instance/form-instance.html",resolve:{formInstanceCompletion:["$stateParams","$state","$sce","ssAsync","ssFormInstancesApi","ssFormTemplatesApi","ssToastHlp","enumStepAction","enumFormStatus",function(e,t,n,r,a,o,s,l,c){return r(regeneratorRuntime.mark(function r(){var p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i.hasPDFOverlay=!1,i.showPDFOverlay=!1,r.next=5,a.get({id:e.formInstanceId,include:"steps"},null,!1);case 5:return i.formInstance=r.sent,r.next=8,o.get({id:i.formInstance._formTemplate.formTemplateId,include:"steps,formFields,files"});case 8:i.formTemplate=r.sent,i.hasPDFOverlay=i.formTemplate._printPreviewDefinition&&null!=i.formTemplate._printPreviewDefinition.templateFileId,!i.hasPDFOverlay||i.formInstance._statusId!==c.complete&&i.formInstance._statusId!==c.archived||(i.showPDFOverlay=!0,p=i.formInstance._steps.filter(function(e){return e._stepAction!==l.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))}),a.generatePDFOverlay({formInstanceid:i.formInstance.id,formFieldValues:p,showSensitive:!1}).then(function(e){document.getElementById("form-overlay-frame").src=n.trustAsResourceUrl(e.data.data.attributes.string)}).catch(function(e){s.error("There was an error generating the PDF","")})),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),403===r.t0.status?t.transitionTo("403"):s.error(r.t0.data.errors.Title,"There was a problem loading the form."),console.error("Error getting form data",r.t0);case 17:case"end":return r.stop()}},r,this,[[0,13]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["formInstanceCompletion",function(e){return"Frontline Central - "+i.formInstance.name}]}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(a.redirectToState="base.formInstance"),e.state("base.myFormsFormInstance",new r.State(a,i))},{greedy:!0})}])},{"base-state":66}],141:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$window","ssAsync","filenameHlp","ssFormTemplatesApi",function(e,t,n,r,i,a){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(regeneratorRuntime.mark(function t(){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.formTemplate._files.map(function(e){return e._fileId}),t.prev=1,t.next=4,a.getFiles({},{ids:r});case 4:o=t.sent,l.files=o.map(function(e){var t=i.getExtension(e._filename);return e.icon=i.getIcon(t),e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Error getting file records",t.t0);case 11:return t.prev=11,l.loading=!1,e&&n.open(l.files.find(function(t){return t.id==e.id})._url),t.finish(11);case 15:case"end":return t.stop()}},t,this,[[1,8,11,15]])}))()}var s=t.routeVm,l=(e.get("segmentInboxFormInstanceAttachmentsLogic"),t.vm={loading:!0});t.go={download:function(e){o(e)}};o()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceAttachments",function(){return new l("attachments")})},{"base-segment":65}],142:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceAttachmentsLogic",r)},{}],143:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state","$stateParams","$window","$location","rAF","ssAsync","ssToastHlp","ssModalSvc","ssDateHlp","enumFormStatus","ssEnum","ssActiveUserSvc","$q",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f){function g(){return r.returnUrl&&r.returnUrl.length?r.returnUrl:function(){var e=m.getEmployeeSync().id;return b.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}var b=t.routeVm,v=(e.get("segmentInboxFormInstanceCloseLogic"),t.vm={fromView:n.params.from||"",firstSave:b.formTemplate._isEmployeeInitiated&&p.isForeverPast(b.formInstance._changedUtc),formIsComplete:b.formInstance._statusId===u.complete||b.formInstance._statusId===u.archived,deleting:!1});t.go={save:function(){s(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.loading=!0,e.prev=1,e.delegateYield(regeneratorRuntime.mark(function e(){var n,r,i,a,o,s,p,u,m,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=b.formInstance._steps.find(function(e){return e._stepAction===d.stepAction.employeeProfileReview}),r&&(n=r._employeeProfileReviewStepFieldValues.map(function(e){return{sourceFormFieldId:e.sourceFormFieldId,sourceField:e.sourceField}}),r._employeeProfileReviewStepFieldValues=r._employeeProfileReviewStepFieldValues.slice()),e.next=5,b.formInstance.$save(!1,!0,!1);case 5:i=!0,a=!1,o=void 0,e.prev=8,s=b.formInstance._steps[Symbol.iterator]();case 10:if(i=(p=s.next()).done){e.next=21;break}if(u=p.value,!u.disabled){e.next=14;break}return e.abrupt("continue",18);case 14:return e.next=16,u.$save(!0,!0,!1);case 16:m=e.sent,m._stepAction===d.stepAction.employeeProfileReview&&(m._employeeProfileReviewStepFieldValues=m._employeeProfileReviewStepFieldValues.map(function(e){var t=n.find(function(t){return t.sourceFormFieldId===e.sourceFormFieldId});return e.sourceField=t.sourceField,e}));case 18:i=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),a=!0,o=e.t0;case 27:e.prev=27,e.prev=28,!i&&s.return&&s.return();case 30:if(e.prev=30,!a){e.next=33;break}throw o;case 33:return e.finish(30);case 34:return e.finish(27);case 35:v.loading=!1,l.success("","Progress Saved",!1),v.firstSave&&(v.firstSave=!1,f={
title:"Progress has been saved. The form will appear in My Forms until submitted.",primaryText:"Continue",alwaysOnTop:!0,showSecondary:!1},c.showStandard(f));case 38:case"end":return e.stop()}},e,t,[[8,23,27,35],[28,,30,34]])})(),"t0",3);case 3:e.next=9;break;case 5:e.prev=5,e.t1=e.catch(1),v.loading=!1,l.error("There was an error saving the form","Error",!1);case 9:case"end":return e.stop()}},e,this,[[1,5]])}))()},close:function(){a.search("activeTab",null),a.url(g())},print:function(){o(function(){return i.print()},t)},showDelete:function(){var e=b.formInstance._currentStepId===b.formTemplate._stepOrder.split(",")[0];return b.formInstance._isEmployeeInitiated&&e},deleteForm:function(){v.deleting=!0;var e={title:"Delete Form",content:"Are you sure you want to delete this form? This form will be deleted and cannot be retrieved.",primaryText:"Delete",secondaryText:"Cancel"};c.showDestructive(e).then(function(){s(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.formInstance.$remove();case 3:l.success("",'"'+b.formTemplate._name+'" has been deleted'),t=r.from&&r.from.length?r.from:g(),a.url(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l.error("",'Error deleting form "'+b.formTemplate._name+'"');case 11:return e.prev=11,v.deleting=!1,e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}))()}).catch(function(){v.deleting=!1})}}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceClose",function(){return new l("close")})},{"base-segment":65}],144:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceCloseLogic",r)},{}],145:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","rAF","$anchorScroll","$timeout","$q","$filter","ssAsync","ssEventSvc","ssFormInstancesApi","ssEnum","ssActiveUserSvc","fieldRendererHlp","ssToastHlp","ssSaveInterrupterSvc","ssModalSvc","formsHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g,b,v,y){function h(){return n.returnUrl&&n.returnUrl.length?n.returnUrl:function(){var e=m.getEmployeeSync().id;return P.formInstance._steps.filter(function(e){return null!==e._stepParticipant}).map(function(e){return e._stepParticipant.employeeIds[0]}).includes(e)?"/ec-forms/my-forms":"/ec-dashboard"}()}function _(e){c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O.loading=!0,e._stepAction===d.stepAction.employeeProfileReview?(e.instance._employeeProfileReviewStepFieldValues.forEach(function(e){delete e.sourceField}),e.instance._employeeProfileReviewStepFieldValues=e.instance._employeeProfileReviewStepFieldValues.slice()):e.instance.$$forceChangedState("formFieldValues"),e.instance.$save().then(function(t){P.formInstance._statusId===d.formStatus.rejected?u.updateStatus({id:P.formInstance.id,newStatus:0}).then(function(){w(e)}):w(e)}).catch(function(e){O.loading=!1});case 3:case"end":return t.stop()}},t,this)}))()}function w(e){u.post({id:P.formInstance.id,event:O.submissionEvent,stepId:e.id}).then(function(){S().then(function(e){g.success("","form step "+k,!1)}).catch(function(){g.error("","form workflow timed out. Please refresh the page and try again",!1)}).finally(function(){r.url(h())})}).catch(function(e){})}function S(){function e(){if(++r===n)return void t.reject();c(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.get({id:P.formInstance.id});case 2:r=n.sent,r&&!1===r._inWorkflow?(t.resolve(r),O.loading=!1):o(e,500);case 4:case"end":return n.stop()}},n,this)}))()}var t=s.defer(),n=24,r=0;return e(),t.promise}var P=t.routeVm,T=e.get("segmentInboxFormInstanceFormLogic"),x=t.stepValues={},O=t.vm={steps:[],selectedStep:null,loading:!1,submissionEvent:"",employeeProfileReview:d.stepAction.employeeProfileReview,formComplete:d.formStatus.complete,cachedSourceFields:{}},k="";t.go={selectFormObject:function(e,n){O.selectedStep=n,p.emit("form-instance.entry.step-clicked",n.id,!1),t.$emit("ss-validate-reset")},ignoreValidations:function(e,t){return O.steps.indexOf(e)>O.steps.indexOf(t)},submitForm:function(e){var t=O.steps.findIndex(function(e){return e.currentStep}),n=O.steps.findIndex(function(t){return t.id===e.id});if(n<=t)return void _(e);var r={secondaryText:"Cancel",alwaysOnTop:!0,size:"standard"};n+1===O.steps.length?(r.title="Are you sure you want to submit this form?",r.primaryText="Submit Form",r.content="You are about to submit a form with incomplete workflow steps."):(r.title="Are you sure you want to submit this step?",r.primaryText="Submit Step",r.content="There are incomplete workflow steps prior to this step. Are you sure you want to submit this step?"),v.showStandard(r).then(function(){_(e)})},submitStep:function(e){O.submissionEvent="submitStep",k="submitted",O.selectedStep=e},acknowledgeStep:function(e){O.submissionEvent="reviewForm",k="acknowledged",O.selectedStep=e},approveStep:function(e){O.submissionEvent="approveForm",k="approved",O.selectedStep=e},denyStep:function(e){O.submissionEvent="declineForm",k="denied",O.selectedStep=e},reviewProfile:function(e){O.submissionEvent="profileReviewed",k="submitted",O.selectedStep=e},profileValueDisplay:function(e,t){var n,r=t.fields.find(function(t){return t.id===e.formFieldId});if(r.externalSourceOptions&&r.externalSourceOptions.length>0){var i=r.externalSourceOptions.find(function(t){return t.value===e.profileValue});null!=i&&(n=i.name)}else n="super-input-datepicker"===r._fieldType?l("date")(e.profileValue,"MM/dd/yyyy"):"super-input-checkbox"===r._fieldType?!0===e.profileValue?"Yes":"No":e.profileValue;return n}};!function(){O.loading=!0,y.sortByOrderField(P.formTemplate._steps,P.formTemplate._stepOrder),P.formTemplate._steps.forEach(function(e,n,r){e.instance=P.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),null!=e.instance&&e._stepAction!==d.stepAction.formCompleted&&(x[e.instance.id]=e.instance,f.bindConfigObject(t,"stepValues['"+e.instance.id+"']._formFieldValues","stepValues['"+e.instance.id+"'].formFieldValues"),"string"==typeof e.instance._formFieldValues&&0!==e.instance._formFieldValues.length||(e.instance._formFieldValues="{}"),null==e.instance._lastModifiedDtUtc&&e.instance.$$forceChangedState("formFieldValues"),P.formInstance._currentStepId===e.id&&(O.selectedStep=e,O.selectedStep.currentStep=!0,i(function(){p.emit("form-instance.entry.step-clicked",e.id)},!1)),P.formTemplate._formFields.length&&(e.fields=P.formTemplate._formFields.filter(function(t){return t._step.id===e.id}),y.sortByOrderField(e.fields,e._fieldOrder),e=T.processStep({tStep:e,formInstance:P.formInstance}),e._stepAction===d.stepAction.employeeProfileReview&&e.instance._employeeProfileReviewStepFieldValues.forEach(function(e,r){var i=P.formTemplate._steps.find(function(t){return t.id===e.sourceStepId}).fields.find(function(t){return t.id===e.sourceFormFieldId});e.sourceField=Object.assign({},i),O.cachedSourceFields[r]=i,t.$watch("vm.cachedSourceFields["+r+"].overrideVisibility",function(t,n){null!=t&&t!=n&&(e.sourceField.overrideVisibility=t)}),t.$watch("routeVm.formTemplate._steps["+n+"]\n\t\t\t\t\t\t\t\t\t.instance._employeeProfileReviewStepFieldValues["+r+"]\n\t\t\t\t\t\t\t\t\t.sourceField.step.formFieldValues['"+e.sourceFormFieldId+"']",function(t,n){null!=t&&t!=n&&(e.formFieldValue=t)})}),O.steps.push(e)))}),O.loading=!1}(),p.on("form-instance.entry.step-clicked",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=O.steps.find(function(t){return t.id===e}),r=O.steps.findIndex(function(t){return t.id===e});if(null==n)return void(O.selectedStep=0);O.selectedStep=n,t&&a("fb-step-"+r)},t)}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceForm",function(){return new l("form")})},{"base-segment":65}],146:[function(e,t,n){"use strict";function r(e,t,n,r){function i(e){var n=e.tStep,r=e.formInstance,i=Object.assign({},n);p=r._statusId===t.complete;var s=i.instance._meta.permissions.permittedActions.edit;return i.editMode=!0,i.disabled=!1,s||(i.editMode=!1,i.disabled=!0),p&&(i.editMode=!1,i.disabled=!1),i.instance.editMode=i.editMode,i.instance.disabled=i.disabled,i=a({tStep:i}),o(i),i.fieldGroups=l(i),i}function a(e){var t=e.tStep,r=!1,i=!1,a=!1,o=!1;return!t.currentStep&&t.disabled||p||(r=t._stepAction===n.formEntry,i=t._stepAction===n.reviewForm,a=t._stepAction===n.reviewApproveOrDeny,o=t._stepAction===n.employeeProfileReview),Object.assign({},t,{showFormEntry:r,showReviewForm:i,showReviewApproveOrDeny:a,showEmployeeProfileReview:o})}function o(t){t.fields.filter(function(e){return null!=e._fieldDefId}).forEach(function(n){var i=r.getFieldById(n);if(null!=i&&s(n,i),n.editMode=t.editMode,n.disabled=t.disabled,"super-select-list"===n._fieldType||n._fieldTypeOptions&&"readOnlyText"===n._fieldTypeOptions.view){var a=JSON.parse(n._configJson);null!=a.externalSource&&null!=e[a.externalSource]&&(n.externalSourceOptions=e[a.externalSource].enums)}else if("super-digital-signature"===n._fieldType){n.onBehalf=!1;try{n.onBehalf=!(n.step._stepParticipant&&(n.step._stepParticipant.employeeIds[0]===activeUser.id||activeUser.idmAdministrator))}catch(e){}}n._sensitive&&(p||(n.editMode=t.instance._meta.permissions.permittedActions.editSensitive),n.sensitiveRedacted=!t.instance._meta.permissions.permittedActions.viewSensitive),["951626b1-a422-46b4-9fa1-3b5acf7ee8fc","977a2273-62c1-4eef-8d63-91f9d8d1e0bf","10a88a23-f8f3-48eb-aa48-c466db06378b","17ff0b2c-4973-4181-92ce-b1c50c851165","c2e31de2-09e8-4563-acb1-0e190a8e3b11","5299a28c-56d5-4dc3-81ae-6f9f741eb324","e215f04f-037a-479e-b5da-9bb3155b55d5","9eabf24b-ae80-4488-a164-2a6f78a50cbd","b6390770-0590-418c-b516-2080b243e9b7","2056c221-97c8-4994-962c-f4bfc319a9e4"].includes(n._fieldDefId)&&(n._fieldGroup=void 0)})}function s(e,t){Object.keys(t).forEach(function(n){Object.keys(e).includes(n)||(e[n]=t[n])})}function l(e){var t=[];return e.fields.forEach(function(n){if(n.step=e.instance,0===t.length)return void t.push([n]);var r=t[t.length-1];null!=n._fieldGroup&&r[0]._fieldGroup===n._fieldGroup?r.push(n):t.push([n])}),t}function c(e,t){if(null===e||""===e)return"";var n=t.find(function(t){return t.id===e}),r="";return null!=n&&(r=n._name),r}var p=!1;return{processStep:i,mapName:c}}r.$inject=["ssEnum","enumFormStatus","enumStepAction","fieldsHlp"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceFormLogic",r)},{}],147:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssDateByOrgHlp","ssFormInstancesApi","$sce","enumStepAction",function(e,t,n,r,i,a,o){function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showSensitive,n=void 0!==t&&t;l.isLoading=!0,l.loadingStatus="generating PDF...";var r=l.formInstance._steps.filter(function(e){return e._stepAction!==o.formCompleted}).map(function(e){return e._formFieldValues}).reduce(function(e,t){return e="string"==typeof e?JSON.parse(e):e,Object.assign(e,JSON.parse(t))});return i.generatePDFOverlay({formInstanceid:l.formInstance.id,formFieldValues:r,showSensitive:n})}var l=t.routeVm,c=(e.get("segmentInboxFormInstanceHeaderLogic"),null),p=!1,u=t.vm={hasSensitiveFields:!1};t.go={toggleFormView:function(e){e?(l.isLoading=!0,l.loadingStatus="generating PDF...",s({showSensitive:p}).then(function(e){document.getElementById("form-overlay-frame").src=a.trustAsResourceUrl(e.data.data.attributes.string),l.showPDFOverlay=!0,l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")})):l.showPDFOverlay=!1},toggleSensitiveFields:function(e){c.forEach(function(t){t.overrideVisibility=!e}),p=e,l.hasPDFOverlay&&l.showPDFOverlay&&(l.isLoading=!0,l.loadingStatus="generating PDF...",s({showSensitive:e}).then(function(e){document.getElementById("form-overlay-frame").src=a.trustAsResourceUrl(e.data.data.attributes.string),l.isLoading=!1,l.loadingStatus=""}).catch(function(e){l.isLoading=!1,l.loadingStatus="",ssToastHlp("There was an error generating the PDF","")}))}};n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.utcIsoToRelativeMoment(l.formInstance._createdUtc,l.org),l.formInstance.sentDate=t.calendar(null,{sameDay:"[Today at] LT",lastDay:"[Yesterday at] LT",lastWeek:"ddd [at] LT",sameElse:"L [at] LT"}),c=l.formTemplate._formFields.filter(function(e){return!0===e._sensitive}),c.length&&(c.forEach(function(e){e.overrideVisibility=!0}),p=!1),n=l.formInstance._steps.some(function(e){return!0===e._meta.permissions.permittedActions.viewSensitive}),u.hasSensitiveFields=!!c.length&&n;case 6:case"end":return e.stop()}},e,this)}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceHeader",function(){return new l("header")})},{"base-segment":65}],148:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceHeaderLogic",r)},{}],149:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssEventSvc","ssEnum","enumStepAction","formsHlp",function(e,t,n,r,i,a){var o=t.routeVm,s=e.get("segmentInboxFormInstanceStepsLogic"),l=t.vm={steps:[],selectedStep:null,loading:!0,employeeProfileReview:r.stepAction.employeeProfileReview};t.go={selectStep:function(e,t){l.selectedStep=t,n.emit("form-instance.entry.step-clicked",t.id)}};n.on("form-instance.entry.step-clicked",function(e){var t=l.steps.find(function(t){return t.id===e});l.selectedStep=t},t),l.steps=angular.copy(o.formTemplate._steps).filter(function(e){return e._stepAction!==i.formCompleted});try{a.sortByOrderField(l.steps,o.formTemplate._stepOrder);var c=s.buildParticipantList(o.formInstance._steps);l.steps.forEach(function(e){e.instance=o.formInstance._steps.find(function(t){return t._formTemplateStepId===e.id}),e.participantPermission=s.getPermissionLabel(e),e.stepActionName=i.byValue(e._stepAction),null!=e.instance&&(e.otherParticipants=c.reduce(function(t,n){if(n.templateStepId===e.id)return t;var r=e._permissions.find(function(e){return s.matchByParticipants(e,n)});return r&&r.canView?(t.push({name:n.participantName,permissions:"view"+(r.canEdit?" & edit":"")}),t):t},[]))})}catch(e){}finally{l.loading=!1}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxFormInstanceSteps",function(){return new l("steps")})},{"base-segment":65}],150:[function(e,t,n){"use strict";function r(e,t){function n(e){var t=[];return e.forEach(function(e){if(e._stepParticipant){var n=angular.isArray(e._stepParticipant.employeeIds)&&e._stepParticipant.employeeIds.length?e._stepParticipant.employeeIds[0]:"";t.find(function(t){return t.templateStepId===e._formTemplateStepId})||t.push({templateStepId:e._formTemplateStepId,participantName:e._stepParticipant.name,participantType:e._stepParticipant.participantType,employeeId:n})}}),t}function r(e){var t=e._permissions.find(function(t){return i(t,e)});return t?(t.canView?"view":"")+(t.canEdit?" & edit":""):""}function i(t,n){var r=n._stepParticipant?n._stepParticipant.employeeIds[0]:n.employeeId,i=n._stepParticipant?n._stepParticipant.participantType:n.participantType;return t.participantType===e.stepParticipantType.specificPerson?t.employeeId===r:t.participantType===i}return{buildParticipantList:n,getPermissionLabel:r,matchByParticipants:i}}r.$inject=["ssEnum","enumStepParticipantType"],angular.module("ec-forms-segment-logic").factory("segmentInboxFormInstanceStepsLogic",r)},{}],151:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/inbox?activeTab",templateUrl:"routes/inbox/inbox.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"}},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(a.redirectToState="base.my-forms"),e.state("base.inbox",new r.State(a,i))},{greedy:!0})}])},{"base-state":66}],152:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,a,o,s,l,c,p,u){function d(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var m=t.routeVm,f=(e.get("segmentInboxContentLogic"),null),g=t.vm={selectedFilter:"current"},b=t.go={filter:function(e){g.selectedFilter=e},getCurrentForms:function(){var e={id:f,include:"steps","filter[search]":m.search};return null!==d()&&(e.resolvemethod=d()),{api:s.queryCurrent,config:e}},getSentForms:function(){return{api:s.querySubmitted,config:{id:f,include:"steps","filter[search]":m.search}}},getCompletedForms:function(){return{api:s.query,config:{id:f,include:"steps","filter[status]":i.formStatus.complete,"filter[search]":m.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":m.search}}}};a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,o.getIdentityByType("employee");case 4:f=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&n.activeTab.length?b.filter(n.activeTab):"EmployeeInitiated"===c.load("inboxDefaultTab")&&(b.filter("initiate"),c.clear("inboxDefaultTab")),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxContent",function(){return new l("content")})},{"base-segment":65}],153:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxContentLogic",r)},{}],154:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentInboxHeaderLogic"),t.vm={};n.search=""}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentInboxHeader",function(){return new l("header")})},{"base-segment":65}],155:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentInboxHeaderLogic",r)},{}],156:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/",templateUrl:"routes/index/index.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - Form Templates"}},$permissions:function(e){return e.isPermittedAction("formTemplates","create")||e.isPermittedAction("formTemplates","edit")||e.isPermittedAction("formTemplates","send")||e.isPermittedAction("formTemplates","archive")||e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packets","send")||e.isPermittedAction("packets","archive")}};angular.module("ec-forms").config(["$stateProvider",function(e){sidekick.events.on("feature-flags-ready",function(t){t.checkState("fc-enable-merged-forms-modules")&&(a.redirectToState="base.formTemplates"),e.state("base.index",new r.State(a,i))},{greedy:!0})}])},{"base-state":66}],157:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$filter","$location","$state","rAF","ssAsync","ssDateByOrgHlp","ssFormLibraryApi","ssPacketsApi","ssFormTemplatesApi","ssStatusApi","ssListSvc","ssModalSvc","ssEnum","enumFormTemplateStatus",function(e,t,n,i,a,o,s,l,c,p,u,d,m,f,g,b){function v(){P=0,x=0,k.displayTemplates=[],y()}function y(){return k.loading=!0,k.loadingMessage="Loading Form Templates",null!=O&&O.$abort(),O=s(regeneratorRuntime.mark(function e(){var n,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={},k.categories){e.next=6;break}return e.next=5,m.getByExternalId("form.categories");case 5:k.categories=e.sent;case 6:return P=D.sorting?P:P+1,i=(P-1)*T,x=D.sorting?x:x+T,n.offset=D.sorting?0:i,n.limit=D.sorting?x:T,n=Object.assign(n,w(D.sortBy)),null!=D.selectedStatus&&"All"!=D.selectedStatus&&(n=Object.assign(n,S("status",D.selectedStatus))),null!=D.selectedCategory&&"All"!=D.selectedCategory&&(n=Object.assign(n,S("category",D.selectedCategory))),null!=D.search&&D.search.length>0&&(n=Object.assign(n,S("name",D.search))),e.next=17,c.queryTemplateObjects(n);case 17:a=e.sent,t.count=parseInt(a.$headers["total-results"],10),s=h(a),k.displayTemplates=D.sorting?[].concat(r(s)):[].concat(r(k.displayTemplates),r(s)),D.showInfScroll=x<t.count,e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),D.showInfScroll=!1,error("Error getting data",e.t0);case 28:return e.prev=28,k.loading=!1,D.sorting=!1,D.scrolling=!1,O=null,e.finish(28);case 34:o(function(){k.loading=!1,t.$emit("template-objects.data-loaded")},t);case 35:case"end":return e.stop()}},e,this,[[0,24,28,34]])}))()}function h(e){return e.forEach(function(e){e.isForm=null!=e._templateId,e.isPacket=null==e._templateId,e.searchText=""+e._name,e.isPacket&&(e.detailsOpen=!1,s(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.get({id:e.id});case 2:n=t.sent,e.packetCount=n._formTemplateIds.length;case 4:case"end":return t.stop()}},t,this)}))()),k.extendCommonProps(e)}),e}function _(e){var t,n="";return null==e?"":(t=k.categories.filter(function(t){return t.value===e}),t.length>0&&(n=t[0].description),n)}function w(e){var t={};return t["sort["+e.field+"]"]=e.dir,t}function S(e,t){var n={};return n["filter["+e+"]"]=t,n}var P=0,T=50,x=0,O=null,k=t.routeVm,D=(e.get("segmentIndexContentLogic"),k.vm=t.vm={showInfScroll:!0,sorting:!1,sortCriteria:[{label:"Recently Modified",value:{field:"changedutc",dir:"desc"}},{label:"Template Name A-Z",value:{field:"name",dir:"asc"}}],statuses:b.getEnums().filter(function(e){return 2!==e.value}).reverse(),selectedStatus:"All",selectedCategory:"All",search:""});D.sortBy=D.sortCriteria[0].value,k.loading=!1,k.displayTemplates=[],k.loadFormTemplates=y,k.refreshData=v,t.$watch("vm.sortBy",function(e,t){e!==t&&null!=k.displayTemplates&&0!==k.displayTemplates.length&&(D.sortBy=e,D.sorting=!0,y())}),t.$watchGroup(["vm.search","vm.selectedCategory","vm.selectedStatus"],function(e,t){e!==t&&v()}),t.scrollData=function(){D.showInfScroll&&!k.loading&&(D.scrolling=!0,y())},k.extendCommonProps=function(e){var t=l.utcIsoToRelativeMoment(e._modifiedDt,k.org);e.modifiedText=t.calendar(null,{sameDay:"[Today @] LT",lastDay:"[Yesterday @] LT",lastWeek:"ddd [@] LT",sameElse:"L [@] LT"}),e._category&&(e._category.name=_(e._category.id)),e._steps.length&&(e._steps=e._steps.filter(function(e){return 3!==e._stepAction}),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"undefined":g.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"undefined":g.stepAction.byValue(e._stepAction)}))},y()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentIndexContent",function(){return new c("content")})},{"base-segment":65}],158:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexContentLogic",r)},{}],159:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$location","ssAsync","ssValidationHlp","ssFormTemplatesApi","ssPacketsApi","ssToastHlp","enumFormAdministratorType",function(e,t,n,r,i,a,o,s,l){t.routeVm,e.get("segmentIndexHeaderLogic"),t.validator={required:i.required()};t.formAdminEnums=l;var c,p=t.vm={openMenu:!1,invalidConfig:!0,specificAdminNotRequired:!0,form:{
instanceType:null,instanceTitle:null,isEmployeeInitiated:!1,category:{id:null},formAdministrator:{employeeId:null,formAdministratorType:null}},specificAdmin:[],isCreating:!1,formAdminTypes:t.formAdminEnums.getEnums()},u=t.go={create:function(){if(!p.isCreating){p.isCreating=!0;var e="form"===p.form.instanceType?a:o;r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.add({},{_name:p.form.instanceTitle,_isEmployeeInitiated:p.form.isEmployeeInitiated,_category:p.form.category,_formAdministrator:p.form.formAdministrator});case 3:p.template=t.sent,n.path("/ec-forms/"+p.form.instanceType+"-builder/"+p.template.id+"/builder"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),s.error("","Error creating "+p.form.instanceType),console.error("Error creating "+p.form.instanceType,t.t0);case 11:return t.prev=11,p.isCreating=!1,t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,7,11,14]])}))()}},toggleMenu:function(){!0!==p.openMenu&&(p.openMenu=!p.openMenu,u.reset())},reset:function(){p.form.instanceType=null,p.form.instanceTitle=null,p.form.isEmployeeInitiated=!1,p.form.formAdministrator.employeeId=null,p.form.formAdministrator.formAdministratorType=null,p.form.category.id=null,p.specificAdmin=[]},cancel:function(){p.openMenu=!1,u.reset()}},d=["vm.form.category.id","vm.form.instanceTitle","vm.specificAdminNotRequired","vm.form.formAdministrator.formAdministratorType"];t.$on("destroy",t.$watch("vm.form.instanceType",function(e,n){if(e&&e!==n){var r=void 0;p.altLabel="form"===e?"template":"",c&&c(),r="form"!==e?d.slice().filter(function(e){return"vm.form.formAdministrator.formAdministratorType"!==e}):d,c=t.$watchGroup(r,function(e,t){p.invalidConfig=e.some(function(e){return"number"!=typeof e&&!e||"number"==typeof e&&e<0})})}})),t.$on("destroy",c),t.$on("$destroy",t.$watch("vm.form.isEmployeeInitiated",function(e,n){e?(1===p.form.formAdministrator.formAdministratorType&&(p.form.formAdministrator.formAdministratorType=null),p.formAdminTypes=p.formAdminTypes.filter(function(e){return 1!==e.value})):p.formAdminTypes=t.formAdminEnums.getEnums()}))}]},{key:"link",value:function(e,t,n){var r;e.$on("$destroy",e.$watch("vm.form.formAdministrator.formAdministratorType",function(t,n){e.vm.specificAdmin=[],t===e.formAdminEnums.specificPerson?(e.vm.specificAdminNotRequired=!1,r=e.$watch("vm.specificAdmin",function(t,n){t.length?(e.vm.specificAdminNotRequired=!0,e.vm.form.formAdministrator.employeeId=t[0].id):e.vm.specificAdminNotRequired=!1})):(e.vm.specificAdminNotRequired=!0,"function"==typeof r&&r())}))}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentIndexHeader",function(){return new l("header")})},{"base-segment":65}],160:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentIndexHeaderLogic",r)},{}],161:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{fc_enhanced_denied_form_workflow:!1}},a={url:"/my-forms?activeTab&packetId&search",templateUrl:"routes/my-forms/my-forms.html",resolve:{org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:function(){return"Frontline Central - My Forms"},featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}]},$permissions:function(e){return e.isPermittedAction("activeUser","userKey")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.my-forms",new r.State(a,i))}])},{"base-state":66}],162:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$stateParams","$location","ssEnum","ssAsync","ssActiveUserSvc","ssFormInstancesApi","ssFormTemplatesApi","ssStorage","ssOrganizationSvc","ssToastHlp",function(e,t,n,r,i,a,o,s,l,c,p,u){function d(){var e=r.search().resolvemethod;return"ReadModel"===e||"Mongo"===e?e:null}var m=t.routeVm,f=(e.get("segmentMyFormsContentLogic"),t.vm={selectedFilter:"current"}),g=t.go={filter:function(e){m.searchFormLabel="initiate"===e?"Find Forms":"Filter by Form, Packet, or Employee",f.selectedFilter=e,n.activeTab=e,r.search("activeTab",e)},getCurrentForms:function(){var e={id:m.emplId,include:"steps","filter[formname]":m.search};return null!==d()&&(e.resolvemethod=d()),{api:s.queryCurrent,config:e}},getSentForms:function(){return{api:s.querySubmitted,config:{id:m.emplId,include:"steps","filter[formname]":m.search}}},getCompletedForms:function(){return{api:s.query,config:{id:m.emplId,include:"steps","filter[status]":i.formStatus.complete+","+i.formStatus.completedAndDenied,"filter[formname]":m.search}}},getInitiatedForms:function(){return{api:l.query,config:{include:"steps,statusHistory",latestVersion:!0,"filter[isemployeeinitiated]":"true","filter[name]":m.search}}}};a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.prev=1,e.next=4,o.getIdentityByType("employee");case 4:m.emplId=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),{error:e.t0,msg:"There was an error retrieving employee data. Forms will not display. Please see the console for more detail."};case 10:n.activeTab&&"undefined"!==n.activeTab&&n.activeTab.length?g.filter(n.activeTab):g.filter("current"),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),u.error(e.t1.msg,"",!1);case 16:case"end":return e.stop()}},e,this,[[0,13],[1,7]])}))()}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsContent",function(){return new l("content")})},{"base-segment":65}],163:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsContentLogic",r)},{}],164:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$state",function(e,t,n){var r=t.routeVm;e.get("segmentMyFormsHeaderLogic"),t.vm={};r.search=n.params.search||""}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentMyFormsHeader",function(){return new l("header")})},{"base-segment":65}],165:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentMyFormsHeaderLogic",r)},{}],166:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/builder",templateUrl:"routes/packet-builder/builder/builder.html",resolve:{$title:["$title",function(e){return e+" (Packet Builder)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Builder",new r.State(a,i))}])},{"base-state":66}],167:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","ssEnum","enumStepAction","ssAsync","ssFormTemplatesApi","ssListSvc","ssDebounce","formsHlp","ssToastHlp",function(e,t,n,i,a,o,s,l,c,p,u){function d(){w&&w.$abort(),P.loading=!0,w=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:P.showInfScroll=P.forms.length<S&&S>h,P.loading=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u.error("There was an error getting form templates","Error");case 10:case"end":return e.stop()}},e,this,[[0,7]])}))()}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offset,n=void 0===t?0:t;return o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.query({include:"steps,statusHistory",limit:h,offset:n,filter:f(),sort:g(),latestVersion:!0});case 2:t=e.sent,b(t),P.forms=[].concat(r(P.forms),r(t)),S=parseInt(t.$headers["total-results"],10);case 6:case"end":return e.stop()}},e,this)}))()}function f(){var e="filter[name]="+P.search,t="";if("All"!==P.selectedCategory){t="filter[categoryname]="+P.categories.find(function(e){return e.value===P.selectedCategory}).name}return t.length?e+"&"+t:e}function g(){var e=P.sortBy.startsWith("-")?"DESC":"ASC";return"sort["+P.sortBy.replace("-","")+"]="+e}function b(e){e.forEach(function(e){e.inPacket=P.packet._formTemplateIds.some(function(t){return t===e.id}),p.sortByOrderField(e._steps,e._stepOrder),e._steps.forEach(function(e){e.participantLabel=null==e._stepParticipant.participantType?"no participant":i.stepParticipantType.byValue(e._stepParticipant.participantType),e.stepActionLabel=null==e._stepAction?"no step action":i.stepAction.byValue(e._stepAction)})})}function v(e,n){t.added.splice(n,0,t.added.splice(e,1)[0])}var y=(t.routeVm,e.get("segmentPacketBuilderBuilderBuilderLogic"),t.packetVm),h=30,_=1,w=null,S=0;t.added=[];var P=t.vm={showInfScroll:!1,loading:!1,scrolling:!1,loadingPacket:!1,packet:y.packetData,selectedCategory:"All",sortBy:"-changedutc",search:"",sortCriteria:[{name:"Recently Modified",field:"-changedutc"},{name:"Name ASC",field:"name"},{name:"Name DESC",field:"-name"}],stepAction:a,forms:[]};o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getByExternalId("form.categories");case 3:P.categories=e.sent,P.packet._formTemplateIds.length&&(P.loadingPacket=!0,n=P.packet._formTemplateIds.toString(),s.formTemplatesByIds(P.packet._formTemplateIds,{include:"steps,statusHistory"}).then(function(e){p.sortByOrderField(e,n),b(e),t.added=e,P.loadingPacket=!1}).catch(function(e){u.error("There was an error retrieving form templates in the packet","Error"),P.loadingPacket=!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,this,[[0,7]])}))(),t.$watchGroup(["vm.search","vm.selectedCategory","vm.sortBy"],function(e,t){e!==t&&(P.scrolling=!1,P.forms=[],S=0,_=1,c(function(){d()},350)())}),t.$watchCollection("added",function(e,t){if(e!==t){var n=e.map(function(e){return e.id});JSON.stringify(n)!==JSON.stringify(P.packet._formTemplateIds)&&(P.packet._formTemplateIds=n)}});t.go={scrollData:function(){if(!P.scrolling){P.scrolling=!0,_++;var e=(_-1)*h;w=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m({offset:e});case 3:P.scrolling=!1,P.showInfScroll=P.forms.length<S&&S>h,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),u.error("There was an error getting form templates","Error"),P.scrolling=!1;case 11:case"end":return t.stop()}},t,this,[[0,7]])}))()}},add:function(e,n){t.added.push(n),n.inPacket=!0},remove:function(e,n){t.added.splice(e,1);var r=P.forms.find(function(e){return e.id===n.id});r&&(r.inPacket=!1)},dropForm:function(e,n,r,i){var a=t.added.find(function(e){return e.id===i.id});if(a){v(t.added.indexOf(a),n)}else{t.added.splice(n,0,i);var o=P.forms.find(function(e){return e.id===i.id});o&&(o.inPacket=!0)}},preview:function(e){n.go("base.formBuilder.preview",{formId:e.id,returnTo:n.current.name,returnStateParams:{packetId:P.packet.id},showPDFoverlay:n.is("base.formBuilder.overlayBuilder")})}};d()}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderBuilderBuilder",function(){return new c("builder")})},{"base-segment":65}],168:[function(e,t,n){"use strict";function r(){function e(e,t){return statusLabelHlp.getLabel(e,t).status}function t(e,t){return statusLabelHlp.getLabel(e,t).statusLabel}return{getStatusLabel:t,getStatus:e}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderBuilderBuilderLogic",r)},{}],169:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/packet-builder/{packetId:[0-9A-Za-z-]+}",templateUrl:"routes/packet-builder/packet-builder.html",resolve:{packet:["$stateParams","ssAsync","ssPacketsApi",function(e,t,n){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.get({id:e.packetId});case 3:i.packetData=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),ssToastHlp.error("There was an error retrieving packet data.","",!1);case 9:case"end":return t.stop()}},t,this,[[0,6]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],$title:["packet",function(e){return"Frontline Central - "+i.packetData._name}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")||e.isPermittedAction("packetInstances","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder",new r.State(a,i))}])},{"base-state":66}],170:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope",function(e,t){var n=t.routeVm;e.get("segmentPacketBuilderContentLogic");t.packetVm=n;t.vm={},t.go={}}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderContent",function(){return new l("content")})},{"base-segment":65}],171:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderContentLogic",r)},{}],172:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$q","$scope","$timeout","ssAsync","ssEventSvc","rAF","statusLabelHlp",function(e,t,n,r,i,a,o,s){function l(){var e,t=document.querySelectorAll(".form-title-ctrl"),n=angular.element(t[0]).find("input");null!=n.val()&&(e=n.val().length>45?45:n.val().length,n.attr("size",e))}var c=n.routeVm,p=e.get("segmentPacketBuilderHeaderLogic"),u=n.vm={formTitle:c.packetData._name,editTitle:!1,nothingToSave:!0,autoSaved:!1,packetStatusLabel:s.getLabel(c.packetData,c.org).statusLabel};n.validator=p.validator;var d=void 0,m=n.go={editTitle:function(){u.editTitle=!0,u.previousAutoSaved=u.autoSaved,o.raw(function(){l()})},savePacket:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.saving||u.nothingToSave)return t.when();var n=d;return c.saving=!0,i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.editTitle=!1,c.packetData._name=u.formTitle,t.next=5,c.packetData.$save(!0,!e);case 5:n===d&&(u.nothingToSave=!0,u.autoSaved=e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),u.nothingToSave=!1;case 11:return t.prev=11,c.saving=!1,t.finish(11);case 15:case"end":return t.stop()}},t,this,[[0,8,11,15]])}))()},confirmTitleEdit:function(){""!==u.formTitle&&(u.editTitle=!1,u.currentValue=u.formTitle,u.nothingToSave=!1)},cancelTitleEdit:function(){u.editTitle=!1,u.formTitle=u.currentValue,u.autoSaved=u.previousAutoSaved}};c.modelChanged=function(){u.nothingToSave=u.autoSaved=!1,d=Date.now()},a.on("ss-json-api.changedRecord.packets",c.modelChanged,n),c.saveFormTemplate=m.savePacket,n.$watch("vm.formTitle",function(e,t){e===t&&(u.currentValue=t),o.raw(function(){l()})})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderHeader",function(){return new l("header")})},{"base-segment":65}],173:[function(e,t,n){"use strict";function r(e){return{validator:{required:e.required()}}}r.$inject=["ssValidationHlp"],angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderHeaderLogic",r)},{}],174:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","ssAsync","ssListSvc","ssFormTemplatesApi","ssValidationHlp","ssToastHlp","enumStepAction","formsHlp","rAF",function(e,t,n,r,i,a,o,s,l,c){t.routeVm,e.get("segmentPacketBuilderSettingsSettingsLogic");t.validate={conditionalRequired:function(e,t){return!p.packet._startupEmail.useStartupEmail||a.required()(e,t)}};var p=t.vm={loading:null,packet:t.packetVm.packetData,forms:[],stepAction:s};null==p.packet._startupEmail&&(p.packet._startupEmail={}),n(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getByExternalId("form.categories");case 3:p.categories=e.sent,p.packet._formTemplateIds.length&&(p.loading=!0,t=p.packet._formTemplateIds.toString(),i.formTemplatesByIds(p.packet._formTemplateIds,{include:"steps"}).then(function(e){l.sortByOrderField(e,t),p.forms=e,p.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==s.formCompleted}),l.sortByOrderField(e.steps,e._stepOrder),p.loading=!1})}).catch(function(e){p.loading=!1,o.error("There was an error retrieving the packet forms","")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.error("There was an error processing form data","");case 10:case"end":return e.stop()}},e,this,[[0,7]])}))(),t.$watch("vm.packet._startupEmail.useStartupEmail",function(e,n){e!==n&&(e?c(function(){return document.getElementById("message-textarea").focus()},t):p.packet._startupEmail.message="")})}]}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentPacketBuilderSettingsSettings",function(){return new l("settings")})},{"base-segment":65}],175:[function(e,t,n){"use strict";function r(){return{}}angular.module("ec-forms-segment-logic").factory("segmentPacketBuilderSettingsSettingsLogic",r)},{}],176:[function(e,t,n){"use strict";var r=e("base-state"),i={},a={url:"/packet-builder/settings",templateUrl:"routes/packet-builder/settings/settings.html",resolve:{$title:["$title",function(e){return e+" (Settings)"}]},$permissions:function(e){return e.isPermittedAction("packets","create")||e.isPermittedAction("packets","edit")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.packetBuilder.Settings",new r.State(a,i))}])},{"base-state":66}],177:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("base-segment"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"controller",value:["$injector","$scope","$rootScope","$window","ssAsync","ssActiveUserSvc","ssEmployeeApi","ssFormTemplatesApi","enumStepParticipantType","enumFormAdministratorType","enumStepAction","moment","ssDateByOrgHlp","formsHlp","separationVisualHlp","ssToastHlp",function(e,t,n,r,i,a,o,s,l,c,p,u,d,m,f,g){function b(e){e.forEach(function(e,t){e.showResendMessage=t+1!==P.item._steps.length&&P.item._steps[t+1]._stepAction===p.reviewApproveOrDeny,e._stepParticipant.participantType===l.specificPerson&&e._stepParticipant.employeeIds.length?e.resolvedParticipant=e._stepParticipant.name:e.resolvedParticipant=l.byValue(e._stepParticipant.participantType)})}function v(e){P.templateHasPrimaryAssignment=_.checkTemplateForFieldGroup(e,"primaryAssignmentNew"),P.templateHasSecondaryAssignment=_.checkTemplateForFieldGroup(e,"assignments"),P.templateHasSupplemental=_.checkTemplateForFieldGroup(e,"supplementals")}function y(e){e.forEach(function(e){P.templateHasPrimaryAssignment||(P.templateHasPrimaryAssignment=_.checkTemplateForFieldGroup(e._formFields,"primaryAssignmentNew")),P.templateHasSecondaryAssignment||(P.templateHasSecondaryAssignment=_.checkTemplateForFieldGroup(e._formFields,"assignments")),P.templateHasSupplemental||(P.templateHasSupplemental=_.checkTemplateForFieldGroup(e._formFields,"supplementals"))})}var h=t.routeVm,_=e.get("segmentSendContentLogic");h.postData={isPacket:h.isPacket,isForm:!h.isPacket,recipients:[],bulkRecipients:[],exclusions:[],submissionDueDate:null,asOf:null};var w=void 0,S=void 0,P=t.vm={asOf:null,contractGroupData:{contractGroupsList:[],selectedContractGroupId:null,employeeCount:null,splitContracts:!1,splitOptions:{splitPrimaryAssignment:"false",splitSecondaryAssignments:"false",splitSupplementals:"false"}},datePickerOptions:{minDate:new Date},distributionType:"employee",exporting:!1,hasSubmissionDueDate:"false",hideSplitOptions:!0,item:h.data,loading:!0,loadingFormSender:!0,loadingContractGroups:!0,loadingContractGroupEmployees:!1,recipient:l.recipientChosenWhenSent,resolvedFormSender:"loading form sender",selectedFilter:"sendDetails",useEffectiveDating:!1},T=t.go={export:function(){i(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P.exporting=!0,t=h.postData.recipients.map(function(e){return e.id}).concat(h.postData.bulkRecipients.map(function(e){return e.id})).filter(function(e,t,n){return n.indexOf(e)===t}),n={organizationId:h.org.id,include:"statusHistory,employmentHistory,addresses,phoneNumbers,emails,emergencyContacts,positions,assignments,locations,jobtypes,payschedules,supervisors"},P.useEffectiveDating&&null!=P.asOf?n.asOfTimeUtc=d.safeAsOfDateRelativeTo(u(P.asOf).startOf("day"),h.org):n.asOfTimeUtc=d.safeAsOfDateRelativeTo(u().startOf("day"),h.org),e.next=6,o.exportEmployeesById(n,{ids:t});case 6:i=e.sent,r.open(i._string,"_blank",""),P.exporting=!1;case 9:case"end":return e.stop()}},e,this)}))()},loadContractGroups:function(){h.postData.recipients=[],h.postData.bulkRecipients=[],h.postData.exclusions=[],h.batchObject._splitOptions=P.contractGroupData.splitOptions,P.contractGroupData.splitContracts=!1,h.batchObject._contractGroupId=null,P.contractGroupData.contractGroupsList.length||(null!=w&&(w.$abort(),w=null),P.loadingContractGroups=!0,w=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.queryContractGroups();case 3:if(t=e.sent,t.length){e.next=6;break}throw"Could not find any contract groups for this organization";case 6:P.contractGroupData.contractGroupsList=t.map(function(e){return{_name:e._name,value:e.id}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g.error(e.t0,"Error");case 12:return e.prev=12,P.loadingContractGroups=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,9,12,15]])}))())},contractGroupSelectHandler:function(e){h.batchObject._contractGroupId!==e.value&&(null!=S&&(S.$abort(),S=null),S=i(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,P.loadingContractGroupEmployees=!0,n={limit:999999999,filter:{contractgroupid:e.value}},P.useEffectiveDating&&null!=P.asOf&&(n.asOfTimeUtc=d.safeAsOfDateRelativeTo(u(P.asOf).startOf("day"),h.org)),t.next=6,o.search({},n,!1);case 6:r=t.sent,h.batchObject._contractGroupId=r.length?e.value:null,h.postData.recipients=r,P.contractGroupData.employeeCount=r.length.toString(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),g.error(t.t0);case 15:return t.prev=15,P.loadingContractGroupEmployees=!1,t.finish(15);case 18:case"end":return t.stop()}},t,this,[[0,12,15,18]])}))())},setContractGroupOptions:function(e,t){if(!e){h.batchObject._splitOptions=null;for(var n in P.contractGroupData.splitOptions)P.contractGroupData.splitOptions[n]="false"}t&&(P.contractGroupData.employeeCount=null,h.batchObject._contractGroupId=null,P.contractGroupData.selectedContractGroupId=null,h.postData.recipients=[],h.postData.bulkRecipients=[],h.postData.exclusions=[])},runSeparationVisual:function(){var e=P.templateHasPrimaryAssignment?"true"===P.contractGroupData.splitOptions.splitPrimaryAssignment:null,t=P.templateHasSecondaryAssignment?"true"===P.contractGroupData.splitOptions.splitSecondaryAssignments:null,n=P.templateHasSupplemental?"true"===P.contractGroupData.splitOptions.splitSupplementals:null;f.render(e,t,n)}};!function(){try{t.$root.isPermitted.activeUser.idmAdministrator?P.resolvedFormSender="You (IDM Administrator)":i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIdentityByType("employee");case 2:return t=e.sent,e.next=5,o.get({id:t,fields:"id,firstname,lastname"},null,!1);case 5:n=e.sent,P.resolvedFormSender="You ("+n.fullName+")",P.loadingFormSender=!1;case 8:case"end":return e.stop()}},e,this)}))(),h.isPacket?h.isPacket&&i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!P.item._formTemplateIds){e.next=18;break}return P.loadingPacket=!0,t=P.item._formTemplateIds.toString(),e.prev=3,e.next=6,s.formTemplatesByIds(P.item._formTemplateIds,{include:"steps,formFields"});case 6:n=e.sent,m.sortByOrderField(n,t),P.item.forms=n,
P.item.forms.forEach(function(e){e.steps=e._steps.filter(function(e){return e._stepAction!==p.formCompleted}),m.sortByOrderField(e.steps,e._stepOrder)}),P.loadingPacket=!1,y(n),P.hideSplitOptions=!P.templateHasSecondaryAssignment&&!P.templateHasSupplemental,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),P.loadingPacket=!1;case 18:case"end":return e.stop()}},e,this,[[3,15]])}))():(v(h.data._formFields),P.hideSplitOptions=!P.templateHasSecondaryAssignment&&!P.templateHasSupplemental,m.sortByOrderField(P.item._steps,P.item._stepOrder),b(P.item._steps),3===P.item._formAdministrator.formAdministratorType?i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get({id:P.item._formAdministrator.employeeId,fields:"id,firstname,lastname"},null,!1);case 2:t=e.sent,P.formAdministrator=t.fullName;case 4:case"end":return e.stop()}},e,this)}))():P.formAdministrator=c.byValue(P.item._formAdministrator.formAdministratorType)||"None"),P.loading=!1}catch(e){g.error(e,""),P.loading=!1}}(),t.$watch("vm.hasSubmissionDueDate",function(e,t){e!==t&&null!=e&&"false"===e&&(h.postData.submissionDueDate="")}),t.$watchCollection("vm.contractGroupData.splitOptions",function(e,t){if(e!==t&&null!=e){if(P.templateHasPrimaryAssignment){var n=e.splitSecondaryAssignments,r=e.splitSupplementals,i=[];P.templateHasSecondaryAssignment&&i.push(n),P.templateHasSupplemental&&i.push(r);var a=i.every(function(e){return"true"===e});P.disablePrimaryOption=a,P.contractGroupData.splitOptions.splitPrimaryAssignment=a?a.toString():P.contractGroupData.splitOptions.splitPrimaryAssignment}"contract-group"===P.distributionType&&(h.batchObject._splitOptions=Object.values(e).some(function(e){return"true"===e})?e:P.contractGroupData.splitOptions),T.runSeparationVisual()}}),t.$on("destroy",t.$watch("vm.useEffectiveDating",function(e,t){e!==t&&(e&&P.asOf?(h.postData.asOf=P.asOf,n.$broadcast("parentAsOfDate-Change",{asOf:P.asOf})):(h.postData.asOf=null,P.asOf="",n.$broadcast("parentAsOfDate-Change",{asOf:P.asOf})))})),t.$on("destroy",t.$watch("vm.asOf",function(e,t){e!==t&&(n.$broadcast("parentAsOfDate-Change",{asOf:e}),h.postData.asOf=e)}))}]},{key:"link",value:function(e,t,n){e.$watch("routeVm.postData.recipients.length",function(n,r){e.$emit("ss-validate-field-event",t.find("input").eq(0),"ss-validate-array-field")})}}]),t}(s.Segment);angular.module("ec-forms-segments").directive("segmentSendContent",function(){return new l("content")})},{"base-segment":65}],178:[function(e,t,n){"use strict";function r(){function e(e,t){return e.some(function(e){return e._fieldGroup===t})}return{checkTemplateForFieldGroup:e}}angular.module("ec-forms-segment-logic").factory("segmentSendContentLogic",r)},{}],179:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("base-segment"),c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"controller",value:["$injector","$scope","$state","ssAsync","ssFormInstancesApi","ssStatusApi","ssActiveUserSvc","ssToastHlp","ssStorage","ssArrayHlp","ssModalSvc","$location","$q","enumFormTemplateStatus","ssDateByOrgHlp","ssOrganizationSvc",function(e,t,n,i,a,o,s,l,c,p,u,d,m,f,g,b){function v(e){var t=[],n=y(w.dueExpirationType);return e.forEach(function(e){if(e.dueExpiration){var r={stepId:e.id,dueOrExpirationOption:e.dueExpiration.selectedDueExpirationType,numberOfDays:null,dueDateUtc:null,expirationDateUtc:null};switch(e.dueExpiration.selectedDueExpirationType){case n.DueExactDate:r.dueDateUtc=g.endOfDayRelativeTo(moment(e.dueExpiration.dueExactDate),w.org);break;case n.ExpirationExactDate:r.expirationDateUtc=g.endOfDayRelativeTo(moment(e.dueExpiration.expirationExactDate),w.org);break;case n.DueAfterPriorStepComplete:case n.DueAfterSentDate:r.numberOfDays=e.dueExpiration.dueDays;break;case n.ExpirationAfterPriorStepComplete:case n.ExpirationAfterSentDate:r.numberOfDays=e.dueExpiration.expirationDays}t.push(r)}}),t}function y(e){var t={};return e.forEach(function(e){return t[e.eName]=e.value}),t}var h,_,w=t.routeVm,S=e.get("segmentSendHeaderLogic"),P=t.vm={isSending:!1,item:w.data,batches:[],batchStyles:{}},T=(w.isPacket,t.go={preview:function(e){n.go("base.formBuilder.preview",{formId:e.id,returnTo:n.current.name,returnStateParams:{type:"formTemplate",id:e.id}})},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(P.item._isEmployeeInitiated&&1===P.item._formAdministrator.formAdministratorType)return void l.error("A Staff Member-Initiated form cannot be started when the sender of the form is also the Form Administrator.","",!1);if(P.item._formAdministrator&&(!P.item._formAdministrator.formAdministratorType||P.item._formAdministrator.formAdministratorType<=0))u.showDestructive({title:"Form Administrator Required",content:"You must select a form administrator before sending this form.",primaryText:"Edit",secondaryText:"Cancel"}).then(function(){i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.update({id:P.item.id},{statusId:f.inactive});case 2:d.url("/ec-forms/form-builder/"+P.item.id+"/settings");case 3:case"end":return e.stop()}},e,this)}))()});else{P.isSending=!0;var m=Object.assign({},w.batchObject),b=[].concat(r(e),r(n)),y=[].concat(r(s));w.postData.asOf&&Object.assign(m,{asOf:g.safeAsOfDateRelativeTo(moment(w.postData.asOf).startOf("day"),w.org)}),!w.isPacket&&w.featureFlags.fc_form_instance_expiration&&(m._stepDueOrExpirationDetails=v(P.item._steps)),m._dueDateUtc=w.postData.submissionDueDate?g.endOfDayRelativeTo(moment(w.postData.submissionDueDate),w.org):null,m._requestType=w.isPacket?1:0,m._templateId=P.item.id,m._includedEmployeeIds=p.unique(b.map(function(e){return e.id})),m._excludedEmployeeIds=p.unique(y.map(function(e){return e.id})),_=w.isPacket?a.postPacketInstanceBatch:a.postFormInstanceBatch,i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_({organizationId:w.org.id},m);case 3:n=e.sent,P.batches.unshift(n),w.removeGroup(),c.clear(h),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),l.error("",'There was an error sending "'+t.form._name+'"',!1);case 13:return e.prev=13,P.isSending=!1,w.postData.recipients=[],w.postData.bulkRecipients=[],w.postData.exclusions=[],e.finish(13);case 19:case"end":return e.stop()}},e,this,[[0,9,13,19]])}))()}},removeBatch:function(e){var t=P.batches.indexOf(e);P.batches.splice(t,1)}});i(regeneratorRuntime.mark(function e(){var n,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h=w.org.id+"_template_"+w.data.id,e.next=4,a.getAllBatches({organizationId:w.org.id,"filter[templateid]":P.item.id});case 4:if(n=e.sent,n.length){e.next=7;break}return e.abrupt("return");case 7:return i=n.map(function(e){return a.getBatchStatus({id:e.id})}),e.next=10,m.all(i);case 10:o=e.sent,o=o.filter(function(e){return 3!==e._status&&!e._isArchived||3===e._status&&e._numFailed}),s=n.filter(function(e){return o.find(function(t){return t.id===e.id})}),P.batches=[].concat(r(s)),t.$on("$destroy",t.$watch("vm.batches.length",function(e,t){P.batchStyles=S.getBatchListStyles(P.batches)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),l.error("",'There was an error retrieving current batches for "'+P.item._name+'"');case 20:case"end":return e.stop()}},e,this,[[0,17]])}))(),w.go={send:function(){var e=w.postData.recipients,t=w.postData.bulkRecipients,n=w.postData.exclusions;T.send(e,t,n)}}}]}]),t}(l.Segment);angular.module("ec-forms-segments").directive("segmentSendHeader",function(){return new c("header")})},{"base-segment":65}],180:[function(e,t,n){"use strict";function r(e){return{buildInstance:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=Object.assign({},t),a=e.id;if(null!=r&&r.length){if(r.map(function(e){return e.id}).includes(a))return}i.employee={employeeId:a},n.attributes.push(i)},getBatchListStyles:function(e){return{height:100*e.length+"px",transition:"height 0.5s","transition-delay":"1s"}}}}r.$inject=["$location"],angular.module("ec-forms-segment-logic").factory("segmentSendHeaderLogic",r)},{}],181:[function(e,t,n){"use strict";var r=e("base-state"),i={featureFlags:{fc_enable_contract_groups:!1,fc_form_instance_expiration:!1},retryLoading:!1,batchObject:{_requestType:0,_templateId:"",_filters:{},_includedEmployeeIds:[],_excludedEmployeeIds:[],_contractGroupId:null,_splitOptions:null}},a={url:"/send/{type:[A-Za-z]+}/{id:[0-9A-Za-z-]+}",templateUrl:"routes/send/send.html",resolve:{packetFormName:["$stateParams","ssAsync","ssFormTemplatesApi","ssPacketsApi",function(e,t,n,r){return t(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.isPacket="packet"===e.type.toLowerCase(),!i.isPacket){t.next=8;break}return t.next=5,r.get({id:e.id});case 5:i.data=t.sent,t.next=11;break;case 8:return t.next=10,n.get({id:e.id,include:"steps,formFields,statusHistory"});case 10:i.data=t.sent;case 11:return t.abrupt("return",i.data._name);case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,this,[[0,14]])}))()}],org:["ssAsync","ssOrganizationSvc","ssToastHlp",function(e,t,n){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getActiveOrg();case 3:i.org=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.error("There was an error retrieving organization data. Due Dates may not display. Please see the console for more detail.","",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))()}],featureFlags:["ssAsync","ssMultiInitiativeFeatureDetectorCCSvc",function(e,t){return e(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.resolveAll(i.featureFlags);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}},e,this,[[0,5]])}))()}],$title:["$stateParams","packetFormName",function(e,t){return"Frontline Central - Send "+e.type+" "+t}]},$permissions:function(e){return e.isPermittedAction("formTemplates","send")||e.isPermittedAction("packets","send")}};angular.module("ec-forms").config(["$stateProvider",function(e){e.state("base.send",new r.State(a,i))}])},{"base-state":66}]},{},[1]);